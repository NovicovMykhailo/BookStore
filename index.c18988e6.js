!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},t.parcelRequired7c6=r),r.register("1UHsN",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}})),r.register("ffZzF",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),r.register("5k7tO",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),r("iE7OH").register(JSON.parse('{"EVgbq":"index.c18988e6.js","6DhFo":"svg-sprite.ad6e247a.svg","gqYIc":"amazon.a7ec3af8.png","7WYG5":"amazon-2x.20dbc182.png","fTHO4":"apple-books.a9f158e0.png","kYAgw":"apple-books-2x.cdd3fb2c.png","gGODR":"book-shop.eb5fbc1e.png","gtAUi":"book-shop-2x.7a15867f.png","5UbS1":"index.3bdf3095.css","88IVi":"shopping-list.f2acd574.js"}')),r("js1up");var o=r("bpxeT"),a=r("2TvXO"),s=(o=r("bpxeT"),r("8MBJY")),l={};Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e,t){var n=c.default(e,t,"get");return u.default(e,n)};var c=h(r("1UHsN")),u=h(r("ffZzF"));function h(e){return e&&e.__esModule?e:{default:e}}var f={};Object.defineProperty(f,"__esModule",{value:!0}),f.default=function(e,t,n){v.default(e,t),t.set(e,n)};var d,v=(d=r("5k7tO"))&&d.__esModule?d:{default:d};var p=r("a2hTj"),m=(a=r("2TvXO"),r("l5bVx"));function g(e,t){return function(){return e.apply(t,arguments)}}var y,b=Object.prototype.toString,w=Object.getPrototypeOf,k=(y=Object.create(null),function(e){var t=b.call(e);return y[t]||(y[t]=t.slice(8,-1).toLowerCase())}),x=function(e){return e=e.toLowerCase(),function(t){return k(t)===e}},E=function(t){return function(n){return(void 0===n?"undefined":e(m)(n))===t}},S=Array.isArray,O=E("undefined");var T=x("ArrayBuffer");var A=E("string"),C=E("function"),P=E("number"),M=function(e){return null!==e&&"object"==typeof e},L=function(e){if("object"!==k(e))return!1;var t=w(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},R=x("Date"),_=x("File"),z=x("Blob"),B=x("FileList"),I=x("URLSearchParams");function j(e,t){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.allOwnKeys,a=void 0!==o&&o;if(null!=e)if("object"!=typeof e&&(e=[e]),S(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{var s,l=a?Object.getOwnPropertyNames(e):Object.keys(e),c=l.length;for(n=0;n<c;n++)s=l[n],t.call(null,e[s],s,e)}}function N(e,t){t=t.toLowerCase();for(var n,i=Object.keys(e),r=i.length;r-- >0;)if(t===(n=i[r]).toLowerCase())return n;return null}var F="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:t,D=function(e){return!O(e)&&e!==F};var H,U,q=(H="undefined"!=typeof Uint8Array&&w(Uint8Array),function(e){return H&&e instanceof H}),W=x("HTMLFormElement"),X=(U=Object.prototype.hasOwnProperty,function(e,t){return U.call(e,t)}),Y=x("RegExp"),V=function(e,t){var n=Object.getOwnPropertyDescriptors(e),i={};j(n,(function(n,r){!1!==t(n,r,e)&&(i[r]=n)})),Object.defineProperties(e,i)},G="abcdefghijklmnopqrstuvwxyz",Z="0123456789",J={DIGIT:Z,ALPHA:G,ALPHA_DIGIT:G+G.toUpperCase()+Z};var K={isArray:S,isArrayBuffer:T,isBuffer:function(e){return null!==e&&!O(e)&&null!==e.constructor&&!O(e.constructor)&&C(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||b.call(e)===t||C(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&T(e.buffer)},isString:A,isNumber:P,isBoolean:function(e){return!0===e||!1===e},isObject:M,isPlainObject:L,isUndefined:O,isDate:R,isFile:_,isBlob:z,isRegExp:Y,isFunction:C,isStream:function(e){return M(e)&&C(e.pipe)},isURLSearchParams:I,isTypedArray:q,isFileList:B,forEach:j,merge:function e(){for(var t=(D(this)&&this||{}).caseless,n={},i=function(i,r){var o=t&&N(n,r)||r;L(n[o])&&L(i)?n[o]=e(n[o],i):L(i)?n[o]=e({},i):S(i)?n[o]=i.slice():n[o]=i},r=0,o=arguments.length;r<o;r++)arguments[r]&&j(arguments[r],i);return n},extend:function(e,t,n){var i=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys;return j(t,(function(t,i){n&&C(t)?e[i]=g(t,n):e[i]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,i){var r,o,a,s={};if(t=t||{},null==e)return t;do{for(o=(r=Object.getOwnPropertyNames(e)).length;o-- >0;)a=r[o],i&&!i(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&w(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:k,kindOfTest:x,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var i=e.indexOf(t,n);return-1!==i&&i===n},toArray:function(e){if(!e)return null;if(S(e))return e;var t=e.length;if(!P(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,i=(e&&e[Symbol.iterator]).call(e);(n=i.next())&&!n.done;){var r=n.value;t.call(e,r[0],r[1])}},matchAll:function(e,t){for(var n,i=[];null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:W,hasOwnProperty:X,hasOwnProp:X,reduceDescriptors:V,freezeMethods:function(e){V(e,(function(t,n){if(C(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var i=e[n];C(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},i=function(e){e.forEach((function(e){n[e]=!0}))};return S(e)?i(e):i(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:N,global:F,isContextDefined:D,ALPHABET:J,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J.ALPHA_DIGIT,n="",i=t.length;e--;)n+=t[Math.random()*i|0];return n},isSpecCompliantForm:function(e){return!!(e&&C(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10),n=function(e,i){if(M(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;var r=S(e)?[]:{};return j(e,(function(e,t){var o=n(e,i+1);!O(o)&&(r[t]=o)})),t[i]=void 0,r}}return e};return n(e,0)}};s=r("8MBJY"),p=r("a2hTj");function $(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}K.inherits($,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Q=$.prototype,ee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){ee[e]={value:e}})),Object.defineProperties($,ee),Object.defineProperty(Q,"isAxiosError",{value:!0}),$.from=function(e,t,n,i,r,o){var a=Object.create(Q);return K.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),$.call(a,e.message,t,n,i,r),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};var te,ne,ie,re=$,oe=r("ds8z5"),ae=(s=r("8MBJY"),p=r("a2hTj"),r("eYQtU")),se=(m=r("l5bVx"),r("2MbLg"));ne=function(e){var t,n,i=me(e),r=i[0],o=i[1],a=new fe(function(e,t,n){return 3*(t+n)/4-n}(0,r,o)),s=0,l=o>0?r-4:r;for(n=0;n<l;n+=4)t=he[e.charCodeAt(n)]<<18|he[e.charCodeAt(n+1)]<<12|he[e.charCodeAt(n+2)]<<6|he[e.charCodeAt(n+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;2===o&&(t=he[e.charCodeAt(n)]<<2|he[e.charCodeAt(n+1)]>>4,a[s++]=255&t);1===o&&(t=he[e.charCodeAt(n)]<<10|he[e.charCodeAt(n+1)]<<4|he[e.charCodeAt(n+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t);return a},ie=function(e){for(var t,n=e.length,i=n%3,r=[],o=16383,a=0,s=n-i;a<s;a+=o)r.push(ge(e,a,a+o>s?s:a+o));1===i?(t=e[n-1],r.push(ue[t>>2]+ue[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],r.push(ue[t>>10]+ue[t>>4&63]+ue[t<<2&63]+"="));return r.join("")}
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */;for(var le,ce,ue=[],he=[],fe="undefined"!=typeof Uint8Array?Uint8Array:Array,de="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ve=0,pe=de.length;ve<pe;++ve)ue[ve]=de[ve],he[de.charCodeAt(ve)]=ve;function me(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function ge(e,t,n){for(var i,r,o=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(ue[(r=i)>>18&63]+ue[r>>12&63]+ue[r>>6&63]+ue[63&r]);return o.join("")}he["-".charCodeAt(0)]=62,he["_".charCodeAt(0)]=63,le=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?r-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-u)-1,d>>=-u,u+=s;u>0;o=256*o+e[t+h],h+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+e[t+h],h+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,i),o-=c}return(d?-1:1)*a*Math.pow(2,o-i)},ce=function(e,t,n,i,r,o){var a,s,l,c=8*o-r-1,u=(1<<c)-1,h=u>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,v=i?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?f/l:f*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,r),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;e[n+d]=255&s,d+=v,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;e[n+d]=255&a,d+=v,a/=256,c-=8);e[n+d-v]|=128*p};var ye="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;te=ke;var be=2147483647;function we(e){if(e>be)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,ke.prototype),t}function ke(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return Se(e)}return xe(e,t,n)}function xe(t,n,i){if("string"==typeof t)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!ke.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|Ce(e,t),i=we(n),r=i.write(e,t);r!==n&&(i=i.slice(0,r));return i}(t,n);if(ArrayBuffer.isView(t))return function(e){if(lt(e,Uint8Array)){var t=new Uint8Array(e);return Te(t.buffer,t.byteOffset,t.byteLength)}return Oe(e)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":e(m)(t)));if(lt(t,ArrayBuffer)||t&&lt(t.buffer,ArrayBuffer))return Te(t,n,i);if("undefined"!=typeof SharedArrayBuffer&&(lt(t,SharedArrayBuffer)||t&&lt(t.buffer,SharedArrayBuffer)))return Te(t,n,i);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return ke.from(r,n,i);var o=function(e){if(ke.isBuffer(e)){var t=0|Ae(e.length),n=we(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||ct(e.length)?we(0):Oe(e);if("Buffer"===e.type&&Array.isArray(e.data))return Oe(e.data)}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return ke.from(t[Symbol.toPrimitive]("string"),n,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":e(m)(t)))}function Ee(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function Se(e){return Ee(e),we(e<0?0:0|Ae(e))}function Oe(e){for(var t=e.length<0?0:0|Ae(e.length),n=we(t),i=0;i<t;i+=1)n[i]=255&e[i];return n}function Te(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(i,ke.prototype),i}function Ae(e){if(e>=be)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+be.toString(16)+" bytes");return 0|e}function Ce(t,n){if(ke.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||lt(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(void 0===t?"undefined":e(m)(t)));var i=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;for(var o=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return ot(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return at(t).length;default:if(o)return r?-1:ot(t).length;n=(""+n).toLowerCase(),o=!0}}function Pe(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return qe(this,t,n);case"utf8":case"utf-8":return Fe(this,t,n);case"ascii":return He(this,t,n);case"latin1":case"binary":return Ue(this,t,n);case"base64":return Ne(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return We(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function Me(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function Le(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),ct(n=+n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=ke.from(t,i)),ke.isBuffer(t))return 0===t.length?-1:Re(e,t,n,i,r);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):Re(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function Re(e,t,n,i,r){var o,a=1,s=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var h=!0,f=0;f<l;f++)if(c(e,o+f)!==c(t,f)){h=!1;break}if(h)return o}return-1}function _e(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o,a=t.length;for(i>a/2&&(i=a/2),o=0;o<i;++o){var s=parseInt(t.substr(2*o,2),16);if(ct(s))return o;e[n+o]=s}return o}function ze(e,t,n,i){return st(ot(t,e.length-n),e,n,i)}function Be(e,t,n,i){return st(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function Ie(e,t,n,i){return st(at(t),e,n,i)}function je(e,t,n,i){return st(function(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)i=(n=e.charCodeAt(a))>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function Ne(e,t,n){return 0===t&&n===e.length?ie(e):ie(e.slice(t,n))}function Fe(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o=e[r],a=null,s=o>239?4:o>223?3:o>191?2:1;if(r+s<=n){var l=void 0,c=void 0,u=void 0,h=void 0;switch(s){case 1:o<128&&(a=o);break;case 2:128==(192&(l=e[r+1]))&&(h=(31&o)<<6|63&l)>127&&(a=h);break;case 3:l=e[r+1],c=e[r+2],128==(192&l)&&128==(192&c)&&(h=(15&o)<<12|(63&l)<<6|63&c)>2047&&(h<55296||h>57343)&&(a=h);break;case 4:l=e[r+1],c=e[r+2],u=e[r+3],128==(192&l)&&128==(192&c)&&128==(192&u)&&(h=(15&o)<<18|(63&l)<<12|(63&c)<<6|63&u)>65535&&h<1114112&&(a=h)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|1023&a),i.push(a),r+=s}return function(e){var t=e.length;if(t<=De)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=De));return n}(i)}ke.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),ke.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(ke.prototype,"parent",{enumerable:!0,get:function(){if(ke.isBuffer(this))return this.buffer}}),Object.defineProperty(ke.prototype,"offset",{enumerable:!0,get:function(){if(ke.isBuffer(this))return this.byteOffset}}),ke.poolSize=8192,ke.from=function(e,t,n){return xe(e,t,n)},Object.setPrototypeOf(ke.prototype,Uint8Array.prototype),Object.setPrototypeOf(ke,Uint8Array),ke.alloc=function(e,t,n){return function(e,t,n){return Ee(e),e<=0?we(e):void 0!==t?"string"==typeof n?we(e).fill(t,n):we(e).fill(t):we(e)}(e,t,n)},ke.allocUnsafe=function(e){return Se(e)},ke.allocUnsafeSlow=function(e){return Se(e)},ke.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==ke.prototype},ke.compare=function(e,t){if(lt(e,Uint8Array)&&(e=ke.from(e,e.offset,e.byteLength)),lt(t,Uint8Array)&&(t=ke.from(t,t.offset,t.byteLength)),!ke.isBuffer(e)||!ke.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},ke.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ke.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return ke.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=ke.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(lt(o,Uint8Array))r+o.length>i.length?(ke.isBuffer(o)||(o=ke.from(o)),o.copy(i,r)):Uint8Array.prototype.set.call(i,o,r);else{if(!ke.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r)}r+=o.length}return i},ke.byteLength=Ce,ke.prototype._isBuffer=!0,ke.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Me(this,t,t+1);return this},ke.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Me(this,t,t+3),Me(this,t+1,t+2);return this},ke.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Me(this,t,t+7),Me(this,t+1,t+6),Me(this,t+2,t+5),Me(this,t+3,t+4);return this},ke.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?Fe(this,0,e):Pe.apply(this,arguments)},ke.prototype.toLocaleString=ke.prototype.toString,ke.prototype.equals=function(e){if(!ke.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===ke.compare(this,e)},ke.prototype.inspect=function(){var e="";return e=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(e+=" ... "),"<Buffer "+e+">"},ye&&(ke.prototype[ye]=ke.prototype.inspect),ke.prototype.compare=function(t,n,i,r,o){if(lt(t,Uint8Array)&&(t=ke.from(t,t.offset,t.byteLength)),!ke.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(void 0===t?"undefined":e(m)(t)));if(void 0===n&&(n=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),n<0||i>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&n>=i)return 0;if(r>=o)return-1;if(n>=i)return 1;if(this===t)return 0;for(var a=(o>>>=0)-(r>>>=0),s=(i>>>=0)-(n>>>=0),l=Math.min(a,s),c=this.slice(r,o),u=t.slice(n,i),h=0;h<l;++h)if(c[h]!==u[h]){a=c[h],s=u[h];break}return a<s?-1:s<a?1:0},ke.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},ke.prototype.indexOf=function(e,t,n){return Le(this,e,t,n,!0)},ke.prototype.lastIndexOf=function(e,t,n){return Le(this,e,t,n,!1)},ke.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return _e(this,e,t,n);case"utf8":case"utf-8":return ze(this,e,t,n);case"ascii":case"latin1":case"binary":return Be(this,e,t,n);case"base64":return Ie(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return je(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},ke.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var De=4096;function He(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function Ue(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function qe(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=ut[e[o]];return r}function We(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length-1;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function Xe(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function Ye(e,t,n,i,r,o){if(!ke.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function Ve(e,t,n,i,r){tt(t,i,r,e,n,7);var o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function Ge(e,t,n,i,r){tt(t,i,r,e,n,7);var o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function Ze(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Je(e,t,n,i,r){return t=+t,n>>>=0,r||Ze(e,0,n,4),ce(e,t,n,i,23,4),n+4}function Ke(e,t,n,i,r){return t=+t,n>>>=0,r||Ze(e,0,n,8),ce(e,t,n,i,52,8),n+8}ke.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var i=this.subarray(e,t);return Object.setPrototypeOf(i,ke.prototype),i},ke.prototype.readUintLE=ke.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||Xe(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},ke.prototype.readUintBE=ke.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||Xe(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},ke.prototype.readUint8=ke.prototype.readUInt8=function(e,t){return e>>>=0,t||Xe(e,1,this.length),this[e]},ke.prototype.readUint16LE=ke.prototype.readUInt16LE=function(e,t){return e>>>=0,t||Xe(e,2,this.length),this[e]|this[e+1]<<8},ke.prototype.readUint16BE=ke.prototype.readUInt16BE=function(e,t){return e>>>=0,t||Xe(e,2,this.length),this[e]<<8|this[e+1]},ke.prototype.readUint32LE=ke.prototype.readUInt32LE=function(e,t){return e>>>=0,t||Xe(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},ke.prototype.readUint32BE=ke.prototype.readUInt32BE=function(e,t){return e>>>=0,t||Xe(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},ke.prototype.readBigUInt64LE=ht((function(e){nt(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||it(e,this.length-8);var i=t+256*this[++e]+65536*this[++e]+this[++e]*Math.pow(2,24),r=this[++e]+256*this[++e]+65536*this[++e]+n*Math.pow(2,24);return BigInt(i)+(BigInt(r)<<BigInt(32))})),ke.prototype.readBigUInt64BE=ht((function(e){nt(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||it(e,this.length-8);var i=t*Math.pow(2,24)+65536*this[++e]+256*this[++e]+this[++e],r=this[++e]*Math.pow(2,24)+65536*this[++e]+256*this[++e]+n;return(BigInt(i)<<BigInt(32))+BigInt(r)})),ke.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||Xe(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},ke.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||Xe(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},ke.prototype.readInt8=function(e,t){return e>>>=0,t||Xe(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},ke.prototype.readInt16LE=function(e,t){e>>>=0,t||Xe(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},ke.prototype.readInt16BE=function(e,t){e>>>=0,t||Xe(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},ke.prototype.readInt32LE=function(e,t){return e>>>=0,t||Xe(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},ke.prototype.readInt32BE=function(e,t){return e>>>=0,t||Xe(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},ke.prototype.readBigInt64LE=ht((function(e){nt(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||it(e,this.length-8);var i=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*Math.pow(2,24))})),ke.prototype.readBigInt64BE=ht((function(e){nt(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||it(e,this.length-8);var i=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+65536*this[++e]+256*this[++e]+n)})),ke.prototype.readFloatLE=function(e,t){return e>>>=0,t||Xe(e,4,this.length),le(this,e,!0,23,4)},ke.prototype.readFloatBE=function(e,t){return e>>>=0,t||Xe(e,4,this.length),le(this,e,!1,23,4)},ke.prototype.readDoubleLE=function(e,t){return e>>>=0,t||Xe(e,8,this.length),le(this,e,!0,52,8)},ke.prototype.readDoubleBE=function(e,t){return e>>>=0,t||Xe(e,8,this.length),le(this,e,!1,52,8)},ke.prototype.writeUintLE=ke.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t>>>=0,n>>>=0,i)||Ye(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},ke.prototype.writeUintBE=ke.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t>>>=0,n>>>=0,i)||Ye(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},ke.prototype.writeUint8=ke.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||Ye(this,e,t,1,255,0),this[t]=255&e,t+1},ke.prototype.writeUint16LE=ke.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||Ye(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},ke.prototype.writeUint16BE=ke.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||Ye(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},ke.prototype.writeUint32LE=ke.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||Ye(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},ke.prototype.writeUint32BE=ke.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||Ye(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},ke.prototype.writeBigUInt64LE=ht((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ve(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),ke.prototype.writeBigUInt64BE=ht((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ge(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),ke.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t>>>=0,!i){var r=Math.pow(2,8*n-1);Ye(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},ke.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t>>>=0,!i){var r=Math.pow(2,8*n-1);Ye(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},ke.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||Ye(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},ke.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||Ye(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},ke.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||Ye(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},ke.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||Ye(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},ke.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||Ye(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},ke.prototype.writeBigInt64LE=ht((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ve(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),ke.prototype.writeBigInt64BE=ht((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ge(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),ke.prototype.writeFloatLE=function(e,t,n){return Je(this,e,t,!0,n)},ke.prototype.writeFloatBE=function(e,t,n){return Je(this,e,t,!1,n)},ke.prototype.writeDoubleLE=function(e,t,n){return Ke(this,e,t,!0,n)},ke.prototype.writeDoubleBE=function(e,t,n){return Ke(this,e,t,!1,n)},ke.prototype.copy=function(e,t,n,i){if(!ke.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r=i-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),t),r},ke.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!ke.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var r=e.charCodeAt(0);("utf8"===i&&r<128||"latin1"===i)&&(e=r)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=ke.isBuffer(e)?e:ke.from(e,i),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var $e={};function Qe(t,n,i){$e[t]=function(i){e(ae)(o,i);var r=e(se)(o);function o(){var i;return e(s)(this,o),i=r.call(this),Object.defineProperty(e(oe)(i),"message",{value:n.apply(e(oe)(i),arguments),writable:!0,configurable:!0}),i.name="".concat(i.name," [").concat(t,"]"),i.stack,delete i.name,i}return e(p)(o,[{key:"code",get:function(){return t},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(t,"]: ").concat(this.message)}}]),o}(i)}function et(e){for(var t="",n=e.length,i="-"===e[0]?1:0;n>=i+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function tt(t,n,i,r,o,a){if(t>i||t<n){var s,l="bigint"===(void 0===n?"undefined":e(m)(n))?"n":"";throw s=a>3?0===n||n===BigInt(0)?">= 0".concat(l," and < 2").concat(l," ** ").concat(8*(a+1)).concat(l):">= -(2".concat(l," ** ").concat(8*(a+1)-1).concat(l,") and < 2 ** ")+"".concat(8*(a+1)-1).concat(l):">= ".concat(n).concat(l," and <= ").concat(i).concat(l),new $e.ERR_OUT_OF_RANGE("value",s,t)}!function(e,t,n){nt(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||it(t,e.length-(n+1))}(r,o,a)}function nt(e,t){if("number"!=typeof e)throw new $e.ERR_INVALID_ARG_TYPE(t,"number",e)}function it(e,t,n){if(Math.floor(e)!==e)throw nt(e,n),new $e.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new $e.ERR_BUFFER_OUT_OF_BOUNDS;throw new $e.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}Qe("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),Qe("ERR_INVALID_ARG_TYPE",(function(t,n){return'The "'.concat(t,'" argument must be of type number. Received type ').concat(void 0===n?"undefined":e(m)(n))}),TypeError),Qe("ERR_OUT_OF_RANGE",(function(t,n,i){var r='The value of "'.concat(t,'" is out of range.'),o=i;return Number.isInteger(i)&&Math.abs(i)>Math.pow(2,32)?o=et(String(i)):"bigint"===(void 0===i?"undefined":e(m)(i))&&(o=String(i),(i>Math.pow(BigInt(2),BigInt(32))||i<-Math.pow(BigInt(2),BigInt(32)))&&(o=et(o)),o+="n"),r+=" It must be ".concat(n,". Received ").concat(o)}),RangeError);var rt=/[^+/0-9A-Za-z-_]/g;function ot(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function at(e){return ne(function(e){if((e=(e=e.split("=")[0]).trim().replace(rt,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function st(e,t,n,i){var r;for(r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function lt(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function ct(e){return e!=e}var ut=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var i=16*n,r=0;r<16;++r)t[i+r]=e[n]+e[r];return t}();function ht(e){return"undefined"==typeof BigInt?ft:e}function ft(){throw new Error("BigInt not supported")}var dt=te;function vt(e){return K.isPlainObject(e)||K.isArray(e)}function pt(e){return K.endsWith(e,"[]")?e.slice(0,-2):e}function mt(e,t,n){return e?e.concat(t).map((function(e,t){return e=pt(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var gt=K.toFlatObject(K,{},null,(function(e){return/^is[A-Z]/.test(e)}));var yt=function(e,t,n){if(!K.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var i=(n=K.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!K.isUndefined(t[e])}))).metaTokens,r=n.visitor||c,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&K.isSpecCompliantForm(t);if(!K.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(K.isDate(e))return e.toISOString();if(!s&&K.isBlob(e))throw new re("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(e)||K.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):dt.from(e):e}function c(e,n,r){var s=e;if(e&&!r&&"object"==typeof e)if(K.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(K.isArray(e)&&function(e){return K.isArray(e)&&!e.some(vt)}(e)||(K.isFileList(e)||K.endsWith(n,"[]"))&&(s=K.toArray(e)))return n=pt(n),s.forEach((function(e,i){!K.isUndefined(e)&&null!==e&&t.append(!0===a?mt([n],i,o):null===a?n:n+"[]",l(e))})),!1;return!!vt(e)||(t.append(mt(r,n,o),l(e)),!1)}var u=[],h=Object.assign(gt,{defaultVisitor:c,convertValue:l,isVisitable:vt});if(!K.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!K.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+i.join("."));u.push(n),K.forEach(n,(function(n,o){!0===(!(K.isUndefined(n)||null===n)&&r.call(t,n,K.isString(o)?o.trim():o,i,h))&&e(n,i?i.concat(o):[o])})),u.pop()}}(e),t};function bt(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function wt(e,t){this._pairs=[],e&&yt(e,this,t)}var kt=wt.prototype;kt.append=function(e,t){this._pairs.push([e,t])},kt.toString=function(e){var t=e?function(t){return e.call(this,t,bt)}:bt;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var xt=wt;function Et(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function St(e,t,n){if(!t)return e;var i,r=n&&n.encode||Et,o=n&&n.serialize;if(i=o?o(t,n):K.isURLSearchParams(t)?t.toString():new xt(t,n).toString(r)){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}s=r("8MBJY"),p=r("a2hTj");var Ot,Tt=function(){function t(){e(s)(this,t),this.handlers=[]}return e(p)(t,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){K.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),t}(),At={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ct={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:xt,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:("undefined"==typeof navigator||"ReactNative"!==(Ot=navigator.product)&&"NativeScript"!==Ot&&"NS"!==Ot)&&"undefined"!=typeof window&&"undefined"!=typeof document,isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};function Pt(e,t){return yt(e,new Ct.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return Ct.isNode&&K.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}var Mt=function(e){function t(e,n,i,r){var o=e[r++],a=Number.isFinite(+o),s=r>=e.length;return o=!o&&K.isArray(i)?i.length:o,s?(K.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):(i[o]&&K.isObject(i[o])||(i[o]=[]),t(e,n,i[o],r)&&K.isArray(i[o])&&(i[o]=function(e){var t,n,i={},r=Object.keys(e),o=r.length;for(t=0;t<o;t++)i[n=r[t]]=e[n];return i}(i[o])),!a)}if(K.isFormData(e)&&K.isFunction(e.entries)){var n={};return K.forEachEntry(e,(function(e,i){t(function(e){return K.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),i,n,0)})),n}return null},Lt={"Content-Type":void 0};var Rt={transitional:At,adapter:["xhr","http"],transformRequest:[function(e,t){var n,i=t.getContentType()||"",r=i.indexOf("application/json")>-1,o=K.isObject(e);if(o&&K.isHTMLForm(e)&&(e=new FormData(e)),K.isFormData(e))return r&&r?JSON.stringify(Mt(e)):e;if(K.isArrayBuffer(e)||K.isBuffer(e)||K.isStream(e)||K.isFile(e)||K.isBlob(e))return e;if(K.isArrayBufferView(e))return e.buffer;if(K.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Pt(e,this.formSerializer).toString();if((n=K.isFileList(e))||i.indexOf("multipart/form-data")>-1){var a=this.env&&this.env.FormData;return yt(n?{"files[]":e}:e,a&&new a,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(K.isString(e))try{return(t||JSON.parse)(e),K.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Rt.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(e&&K.isString(e)&&(n&&!this.responseType||i)){var r=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw re.from(e,re.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ct.classes.FormData,Blob:Ct.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};K.forEach(["delete","get","head"],(function(e){Rt.headers[e]={}})),K.forEach(["post","put","patch"],(function(e){Rt.headers[e]=K.merge(Lt)}));var _t=Rt,zt=(s=r("8MBJY"),p=r("a2hTj"),r("1t1Wn")),Bt=r("8nrFW"),It=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jt=Symbol("internals");function Nt(e){return e&&String(e).trim().toLowerCase()}function Ft(e){return!1===e||null==e?e:K.isArray(e)?e.map(Ft):String(e)}function Dt(e,t,n,i,r){return K.isFunction(i)?i.call(this,t,n):(r&&(t=n),K.isString(t)?K.isString(i)?-1!==t.indexOf(i):K.isRegExp(i)?i.test(t):void 0:void 0)}var Ht=Symbol.iterator,Ut=Symbol.toStringTag,qt=function(){function t(n){e(s)(this,t),n&&this.set(n)}return e(p)(t,[{key:"set",value:function(e,t,n){var i=this;function r(e,t,n){var r=Nt(t);if(!r)throw new Error("header name must be a non-empty string");var o=K.findKey(i,r);(!o||void 0===i[o]||!0===n||void 0===n&&!1!==i[o])&&(i[o||t]=Ft(e))}var o,a,s,l,c,u=function(e,t){return K.forEach(e,(function(e,n){return r(e,n,t)}))};return K.isPlainObject(e)||e instanceof this.constructor?u(e,t):K.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?u((c={},(o=e)&&o.split("\n").forEach((function(e){l=e.indexOf(":"),a=e.substring(0,l).trim().toLowerCase(),s=e.substring(l+1).trim(),!a||c[a]&&It[a]||("set-cookie"===a?c[a]?c[a].push(s):c[a]=[s]:c[a]=c[a]?c[a]+", "+s:s)})),c),t):null!=e&&r(t,e,n),this}},{key:"get",value:function(e,t){if(e=Nt(e)){var n=K.findKey(this,e);if(n){var i=this[n];if(!t)return i;if(!0===t)return function(e){for(var t,n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=i.exec(e);)n[t[1]]=t[2];return n}(i);if(K.isFunction(t))return t.call(this,i,n);if(K.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=Nt(e)){var n=K.findKey(this,e);return!(!n||void 0===this[n]||t&&!Dt(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,i=!1;function r(e){if(e=Nt(e)){var r=K.findKey(n,e);!r||t&&!Dt(0,n[r],r,t)||(delete n[r],i=!0)}}return K.isArray(e)?e.forEach(r):r(e),i}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,i=!1;n--;){var r=t[n];e&&!Dt(0,this[r],r,e,!0)||(delete this[r],i=!0)}return i}},{key:"normalize",value:function(e){var t=this,n={};return K.forEach(this,(function(i,r){var o=K.findKey(n,r);if(o)return t[o]=Ft(i),void delete t[r];var a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(r):String(r).trim();a!==r&&delete t[r],t[a]=Ft(i),n[a]=!0})),this}},{key:"concat",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r;return(r=this.constructor).concat.apply(r,[this].concat(e(Bt)(n)))}},{key:"toJSON",value:function(e){var t=Object.create(null);return K.forEach(this,(function(n,i){null!=n&&!1!==n&&(t[i]=e&&K.isArray(n)?n.join(", "):n)})),t}},{key:Ht,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(t){var n=e(zt)(t,2);return n[0]+": "+n[1]})).join("\n")}},{key:Ut,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=new this(e);return n.forEach((function(e){return r.set(e)})),r}},{key:"accessor",value:function(e){var t=(this[jt]=this[jt]={accessors:{}}).accessors,n=this.prototype;function i(e){var i=Nt(e);t[i]||(!function(e,t){var n=K.toCamelCase(" "+t);["get","set","has"].forEach((function(i){Object.defineProperty(e,i+n,{value:function(e,n,r){return this[i].call(this,t,e,n,r)},configurable:!0})}))}(n,e),t[i]=!0)}return K.isArray(e)?e.forEach(i):i(e),this}}]),t}();qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),K.freezeMethods(qt.prototype),K.freezeMethods(qt);var Wt=qt;function Xt(e,t){var n=this||_t,i=t||n,r=Wt.from(i.headers),o=i.data;return K.forEach(e,(function(e){o=e.call(n,o,r.normalize(),t?t.status:void 0)})),r.normalize(),o}function Yt(e){return!(!e||!e.__CANCEL__)}function Vt(e,t,n){re.call(this,null==e?"canceled":e,re.ERR_CANCELED,t,n),this.name="CanceledError"}K.inherits(Vt,re,{__CANCEL__:!0});var Gt=Vt;function Zt(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new re("Request failed with status code "+n.status,[re.ERR_BAD_REQUEST,re.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}var Jt=Ct.isStandardBrowserEnv?{write:function(e,t,n,i,r,o){var a=[];a.push(e+"="+encodeURIComponent(t)),K.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),K.isString(i)&&a.push("path="+i),K.isString(r)&&a.push("domain="+r),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Kt(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function $t(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?Kt(e,t):t}var Qt=Ct.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=K.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var en=function(e,t){e=e||10;var n,i=new Array(e),r=new Array(e),o=0,a=0;return t=void 0!==t?t:1e3,function(s){var l=Date.now(),c=r[a];n||(n=l),i[o]=s,r[o]=l;for(var u=a,h=0;u!==o;)h+=i[u++],u%=e;if((o=(o+1)%e)===a&&(a=(a+1)%e),!(l-n<t)){var f=c&&l-c;return f?Math.round(1e3*h/f):void 0}}};function tn(e,t){var n=0,i=en(50,250);return function(r){var o=r.loaded,a=r.lengthComputable?r.total:void 0,s=o-n,l=i(s);n=o;var c={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&o<=a?(a-o)/l:void 0,event:r};c[t?"download":"upload"]=!0,e(c)}}var nn={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var i,r=e.data,o=Wt.from(e.headers).normalize(),a=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(i),e.signal&&e.signal.removeEventListener("abort",i)}K.isFormData(r)&&(Ct.isStandardBrowserEnv||Ct.isStandardBrowserWebWorkerEnv)&&o.setContentType(!1);var l=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(c+":"+u))}var h=$t(e.baseURL,e.url);function f(){if(l){var i=Wt.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());Zt((function(e){t(e),s()}),(function(e){n(e),s()}),{data:a&&"text"!==a&&"json"!==a?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:i,config:e,request:l}),l=null}}if(l.open(e.method.toUpperCase(),St(h,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=f:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(f)},l.onabort=function(){l&&(n(new re("Request aborted",re.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new re("Network Error",re.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||At;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new re(t,i.clarifyTimeoutError?re.ETIMEDOUT:re.ECONNABORTED,e,l)),l=null},Ct.isStandardBrowserEnv){var d=(e.withCredentials||Qt(h))&&e.xsrfCookieName&&Jt.read(e.xsrfCookieName);d&&o.set(e.xsrfHeaderName,d)}void 0===r&&o.setContentType(null),"setRequestHeader"in l&&K.forEach(o.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),K.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),a&&"json"!==a&&(l.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",tn(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",tn(e.onUploadProgress)),(e.cancelToken||e.signal)&&(i=function(t){l&&(n(!t||t.type?new Gt(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(i),e.signal&&(e.signal.aborted?i():e.signal.addEventListener("abort",i)));var v,p=(v=/^([-+\w]{1,25})(:?\/\/|:)/.exec(h))&&v[1]||"";p&&-1===Ct.protocols.indexOf(p)?n(new re("Unsupported protocol "+p+":",re.ERR_BAD_REQUEST,e)):l.send(r||null)}))}};K.forEach(nn,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));var rn={getAdapter:function(e){for(var t,n,i=(e=K.isArray(e)?e:[e]).length,r=0;r<i&&(t=e[r],!(n=K.isString(t)?nn[t.toLowerCase()]:t));r++);if(!n){if(!1===n)throw new re("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(K.hasOwnProp(nn,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!K.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:nn};function on(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gt(null,e)}function an(e){return on(e),e.headers=Wt.from(e.headers),e.data=Xt.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),rn.getAdapter(e.adapter||_t.adapter)(e).then((function(t){return on(e),t.data=Xt.call(e,e.transformResponse,t),t.headers=Wt.from(t.headers),t}),(function(t){return Yt(t)||(on(e),t&&t.response&&(t.response.data=Xt.call(e,e.transformResponse,t.response),t.response.headers=Wt.from(t.response.headers))),Promise.reject(t)}))}var sn=function(e){return e instanceof Wt?e.toJSON():e};function ln(e,t){t=t||{};var n={};function i(e,t,n){return K.isPlainObject(e)&&K.isPlainObject(t)?K.merge.call({caseless:n},e,t):K.isPlainObject(t)?K.merge({},t):K.isArray(t)?t.slice():t}function r(e,t,n){return K.isUndefined(t)?K.isUndefined(e)?void 0:i(void 0,e,n):i(e,t,n)}function o(e,t){if(!K.isUndefined(t))return i(void 0,t)}function a(e,t){return K.isUndefined(t)?K.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function s(n,r,o){return o in t?i(n,r):o in e?i(void 0,n):void 0}var l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:function(e,t){return r(sn(e),sn(t),!0)}};return K.forEach(Object.keys(e).concat(Object.keys(t)),(function(i){var o=l[i]||r,a=o(e[i],t[i],i);K.isUndefined(a)&&o!==s||(n[i]=a)})),n}m=r("l5bVx");var cn="1.3.5",un={};["object","boolean","number","function","string","symbol"].forEach((function(t,n){un[t]=function(i){return(void 0===i?"undefined":e(m)(i))===t||"a"+(n<1?"n ":" ")+t}}));var hn={};un.transitional=function(e,t,n){function i(e,t){return"[Axios v1.3.5] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new re(i(r," has been removed"+(t?" in "+t:"")),re.ERR_DEPRECATED);return t&&!hn[r]&&(hn[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}};var fn={assertOptions:function(e,t,n){if("object"!=typeof e)throw new re("options must be an object",re.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),r=i.length;r-- >0;){var o=i[r],a=t[o];if(a){var s=e[o],l=void 0===s||a(s,o,e);if(!0!==l)throw new re("option "+o+" must be "+l,re.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new re("Unknown option "+o,re.ERR_BAD_OPTION)}},validators:un},dn=fn.validators,vn=function(){function t(n){e(s)(this,t),this.defaults=n,this.interceptors={request:new Tt,response:new Tt}}return e(p)(t,[{key:"request",value:function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{};var n,i=(t=ln(this.defaults,t)).transitional,r=t.paramsSerializer,o=t.headers;void 0!==i&&fn.assertOptions(i,{silentJSONParsing:dn.transitional(dn.boolean),forcedJSONParsing:dn.transitional(dn.boolean),clarifyTimeoutError:dn.transitional(dn.boolean)},!1),null!=r&&(K.isFunction(r)?t.paramsSerializer={serialize:r}:fn.assertOptions(r,{encode:dn.function,serialize:dn.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&K.merge(o.common,o[t.method]))&&K.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=Wt.concat(n,o);var a=[],s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));var l,c=[];this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));var u,h=0;if(!s){var f=[an.bind(this),void 0];for(f.unshift.apply(f,a),f.push.apply(f,c),u=f.length,l=Promise.resolve(t);h<u;)l=l.then(f[h++],f[h++]);return l}u=a.length;var d=t;for(h=0;h<u;){var v=a[h++],p=a[h++];try{d=v(d)}catch(e){p.call(this,e);break}}try{l=an.call(this,d)}catch(e){return Promise.reject(e)}for(h=0,u=c.length;h<u;)l=l.then(c[h++],c[h++]);return l}},{key:"getUri",value:function(e){return St($t((e=ln(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),t}();K.forEach(["delete","get","head","options"],(function(e){vn.prototype[e]=function(t,n){return this.request(ln(n||{},{method:e,url:t,data:(n||{}).data}))}})),K.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,r){return this.request(ln(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}vn.prototype[e]=t(),vn.prototype[e+"Form"]=t(!0)}));var pn=vn,mn=(s=r("8MBJY"),p=r("a2hTj"),function(){function t(n){if(e(s)(this,t),"function"!=typeof n)throw new TypeError("executor must be a function.");var i;this.promise=new Promise((function(e){i=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},n((function(e,t,n){r.reason||(r.reason=new Gt(e,t,n),i(r.reason))}))}return e(p)(t,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var e;return{token:new t((function(t){e=t})),cancel:e}}}]),t}());zt=r("1t1Wn");var gn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gn).forEach((function(t){var n=e(zt)(t,2),i=n[0],r=n[1];gn[r]=i}));var yn=gn;var bn=function e(t){var n=new pn(t),i=g(pn.prototype.request,n);return K.extend(i,pn.prototype,n,{allOwnKeys:!0}),K.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(ln(t,n))},i}(_t);bn.Axios=pn,bn.CanceledError=Gt,bn.CancelToken=mn,bn.isCancel=Yt,bn.VERSION=cn,bn.toFormData=yt,bn.AxiosError=re,bn.Cancel=bn.CanceledError,bn.all=function(e){return Promise.all(e)},bn.spread=function(e){return function(t){return e.apply(null,t)}},bn.isAxiosError=function(e){return K.isObject(e)&&!0===e.isAxiosError},bn.mergeConfig=ln,bn.AxiosHeaders=Wt,bn.formToJSON=function(e){return Mt(K.isHTMLForm(e)?new FormData(e):e)},bn.HttpStatusCode=yn,bn.default=bn;var wn=bn,kn=(wn.Axios,wn.AxiosError,wn.CanceledError,wn.isCancel,wn.CancelToken,wn.VERSION,wn.all,wn.Cancel,wn.isAxiosError,wn.spread,wn.toFormData,wn.AxiosHeaders,wn.HttpStatusCode,wn.formToJSON,wn.mergeConfig,new WeakMap),xn=function(){"use strict";function t(){e(s)(this,t),e(f)(this,kn,{writable:!0,value:"https://books-backend.p.goit.global/books"}),this.category="",this.id=""}return e(p)(t,[{key:"getBooksCategoriesList",value:function(){var t=this;return e(o)(e(a).mark((function n(){return e(a).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wn.get("".concat(e(l)(t,kn),"/category-list"));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}},{key:"getTopBooks",value:function(){var t=this;return e(o)(e(a).mark((function n(){return e(a).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wn.get("".concat(e(l)(t,kn),"/top-books"));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}},{key:"getSelectedCategoryBooks",value:function(){var t=this;return e(o)(e(a).mark((function n(){return e(a).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wn.get("".concat(e(l)(t,kn),"/category?category=").concat(t.category));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}},{key:"getBookInfo",value:function(){var t=this;return e(o)(e(a).mark((function n(){return e(a).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wn.get("".concat(e(l)(t,kn),"/").concat(t.id));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}}]),t}();function En(e,t){var n=e._id,i=e.book_image,r=e.title,o=e.author;return'<li class="book-card" data-aos="flip-left" data-aos-delay="'.concat(t,'" data-aos-anchor-placement="top-bottom" data-aos-once="true">\n    <a href="#" class="book-card__link" title="').concat(r,'">\n    <div class="book-card__thumb">\n    <img class="book-card__image" src="').concat(i,'" alt="').concat(o," ").concat(r,'" loading="lazy">\n    <p class="book-card__notification">Quick view</p>\n    <p class="book-card__id visually-hidden">').concat(n,'</p>\n    </div>\n    <div class="book-card__info">\n    <p class="info-item__title">').concat(r,'</p>\n    <p class="info-item__author">').concat(o,"</p>\n    </div></a>\n    </li>")}var Sn,On,Tn={};Sn=void 0!==t?t:"undefined"!=typeof window?window:Tn,On=function(e){"use strict";if(void 0===e&&void 0===e.document)return!1;var t,n="\n\nVisit documentation page to learn more: https://notiflix.github.io/documentation",i="Standard",r="Hourglass",o="Circle",a="Arrows",s="Dots",l="Pulse",c={ID:"NotiflixBlockWrap",querySelectorLimit:200,className:"notiflix-block",position:"absolute",zindex:1e3,backgroundColor:"rgba(255,255,255,0.9)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,svgSize:"45px",svgColor:"#383838",messageFontSize:"14px",messageMaxLength:34,messageColor:"#383838"},u=function(e){return console.error("%c Notiflix Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549","\n"+e+n)},h=function(e){return console.log("%c Notiflix Info ","padding:2px;border-radius:20px;color:#fff;background:#26c0d3","\n"+e+n)},f=function(t){return t||(t="head"),null!==e.document[t]||(u('\nNotiflix needs to be appended to the "<'+t+'>" element, but you called it before the "<'+t+'>" element has been created.'),!1)},d=function(){var e={},t=!1,n=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(var i=function(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t&&"[object Object]"===Object.prototype.toString.call(n[i])?e[i]=d(e[i],n[i]):e[i]=n[i])};n<arguments.length;n++)i(arguments[n]);return e},v=function(t){var n=e.document.createElement("div");return n.innerHTML=t,n.textContent||n.innerText||""},p=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" stroke="'+t+'" width="'+e+'" height="'+e+'" transform="scale(.8)" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd" stroke-width="2" transform="translate(1 1)"><circle cx="18" cy="18" r="18" stroke-opacity=".25"/><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" dur="1s" from="0 18 18" repeatCount="indefinite" to="360 18 18" type="rotate"/></path></g></svg>'},m=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+e+'" viewBox="25 25 50 50" style="-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:'+e+";-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:"+e+';position:absolute;top:0;left:0;margin:auto"><style>@-webkit-keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}</style><circle cx="50" cy="50" r="20" fill="none" stroke="'+t+'" stroke-width="2" style="-webkit-animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite" stroke-dasharray="150 200" stroke-dashoffset="-10" stroke-linecap="round"/></svg>'},g=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" fill="'+t+'" width="'+e+'" height="'+e+'" viewBox="0 0 128 128"><g><path fill="inherit" d="M109.25 55.5h-36l12-12a29.54 29.54 0 0 0-49.53 12H18.75A46.04 46.04 0 0 1 96.9 31.84l12.35-12.34v36zm-90.5 17h36l-12 12a29.54 29.54 0 0 0 49.53-12h16.97A46.04 46.04 0 0 1 31.1 96.16L18.74 108.5v-36z"/><animateTransform attributeName="transform" dur="1.5s" from="0 64 64" repeatCount="indefinite" to="360 64 64" type="rotate"/></g></svg>'},y=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" fill="'+t+'" width="'+e+'" height="'+e+'" viewBox="0 0 100 100"><g transform="translate(25 50)"><circle r="9" fill="inherit" transform="scale(.239)"><animateTransform attributeName="transform" begin="-0.266s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(50 50)"><circle r="9" fill="inherit" transform="scale(.00152)"><animateTransform attributeName="transform" begin="-0.133s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(75 50)"><circle r="9" fill="inherit" transform="scale(.299)"><animateTransform attributeName="transform" begin="0s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g></svg>'},b=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" stroke="'+t+'" width="'+e+'" height="'+e+'" viewBox="0 0 44 44"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>'},w=function(){return'[id^=NotiflixBlockWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1000;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;background:rgba(255,255,255,.9);text-align:center;animation-duration:.4s;width:100%;height:100%;left:0;top:0;border-radius:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixBlockWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixBlockWrap]>span[class*="-icon"]{display:block;width:45px;height:45px;position:relative;margin:0 auto}[id^=NotiflixBlockWrap]>span[class*="-icon"] svg{width:inherit;height:inherit}[id^=NotiflixBlockWrap]>span[class*="-message"]{position:relative;display:block;width:100%;margin:10px auto 0;padding:0 10px;font-family:inherit!important;font-weight:normal;font-size:14px;line-height:1.4}[id^=NotiflixBlockWrap].nx-with-animation{-webkit-animation:block-animation-fade .3s ease-in-out 0s normal;animation:block-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixBlockWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:block-animation-fade-remove .3s ease-in-out 0s normal;animation:block-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}'},k=0,x=function(n,i,w,x,S,O){var T;if(Array.isArray(w)){if(w.length<1)return u("Array of HTMLElements should contains at least one HTMLElement."),!1;T=w}else if(Object.prototype.isPrototypeOf.call(NodeList.prototype,w)){if(w.length<1)return u("NodeListOf<HTMLElement> should contains at least one HTMLElement."),!1;T=Array.prototype.slice.call(w)}else{if("string"!=typeof w||(w||"").length<1||1===(w||"").length&&("#"===(w||"")[0]||"."===(w||"")[0]))return u("The selector parameter must be a string and matches a specified CSS selector(s)."),!1;var A=e.document.querySelectorAll(w);if(A.length<1)return u('You called the "Notiflix.Block..." function with "'+w+'" selector, but there is no such element(s) in the document.'),!1;T=A}t||E.Block.init({});var C=d(!0,t,{});if("object"==typeof x&&!Array.isArray(x)||"object"==typeof S&&!Array.isArray(S)){var P={};"object"==typeof x?P=x:"object"==typeof S&&(P=S),t=d(!0,t,P)}var M="";"string"==typeof x&&x.length>0&&(M=x),t.cssAnimation||(t.cssAnimationDuration=0);var L=c.className;"string"==typeof t.className&&(L=t.className.trim());var R,_,z="number"==typeof t.querySelectorLimit?t.querySelectorLimit:200,B=(T||[]).length>=z?z:T.length,I="nx-block-temporary-position";if(n)for(var j=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","html","head","title","script","style","iframe"],N=0;N<B;N++){var F=T[N];if(F){if(j.indexOf(F.tagName.toLocaleLowerCase("en"))>-1)break;var D=F.querySelectorAll("[id^="+c.ID+"]");if(D.length<1){var H="";i&&(i===r?(R=t.svgSize,_=t.svgColor,R||(R="60px"),_||(_="#32c682"),H='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingHourglass" fill="'+_+'" width="'+R+'" height="'+R+'" viewBox="0 0 200 200"><style>@-webkit-keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@-webkit-keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}#NXLoadingHourglass *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g data-animator-group="true" data-animator-type="1" style="-webkit-animation-name:NXhourglass1-animation;animation-name:NXhourglass1-animation;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box"><g id="NXhourglass2" fill="inherit"><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass3-animation;animation-name:NXhourglass3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass4" d="M100 100l-34.38 32.08v31.14h68.76v-31.14z"/></g><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass5-animation;animation-name:NXhourglass5-animation;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass6" d="M100 100L65.62 67.92V36.78h68.76v31.14z"/></g><path d="M51.14 38.89h8.33v14.93c0 15.1 8.29 28.99 23.34 39.1 1.88 1.25 3.04 3.97 3.04 7.08s-1.16 5.83-3.04 7.09c-15.05 10.1-23.34 23.99-23.34 39.09v14.93h-8.33a4.859 4.859 0 1 0 0 9.72h97.72a4.859 4.859 0 1 0 0-9.72h-8.33v-14.93c0-15.1-8.29-28.99-23.34-39.09-1.88-1.26-3.04-3.98-3.04-7.09s1.16-5.83 3.04-7.08c15.05-10.11 23.34-24 23.34-39.1V38.89h8.33a4.859 4.859 0 1 0 0-9.72H51.14a4.859 4.859 0 1 0 0 9.72zm79.67 14.93c0 15.87-11.93 26.25-19.04 31.03-4.6 3.08-7.34 8.75-7.34 15.15 0 6.41 2.74 12.07 7.34 15.15 7.11 4.78 19.04 15.16 19.04 31.03v14.93H69.19v-14.93c0-15.87 11.93-26.25 19.04-31.02 4.6-3.09 7.34-8.75 7.34-15.16 0-6.4-2.74-12.07-7.34-15.15-7.11-4.78-19.04-15.16-19.04-31.03V38.89h61.62v14.93z"/></g></g></svg>'):H=i===o?m(t.svgSize,t.svgColor):i===a?g(t.svgSize,t.svgColor):i===s?y(t.svgSize,t.svgColor):i===l?b(t.svgSize,t.svgColor):p(t.svgSize,t.svgColor));var U='<span class="'+L+'-icon" style="width:'+t.svgSize+";height:"+t.svgSize+';">'+H+"</span>",q="";M.length>0&&(M=M.length>t.messageMaxLength?v(M).substring(0,t.messageMaxLength)+"...":v(M),q='<span style="font-size:'+t.messageFontSize+";color:"+t.messageColor+';" class="'+L+'-message">'+M+"</span>"),k++;var W=e.document.createElement("div");W.id=c.ID+"-"+k,W.className=L+(t.cssAnimation?" nx-with-animation":""),W.style.position=t.position,W.style.zIndex=t.zindex,W.style.background=t.backgroundColor,W.style.animationDuration=t.cssAnimationDuration+"ms",W.style.fontFamily='"'+t.fontFamily+'", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',W.style.display="flex",W.style.flexWrap="wrap",W.style.flexDirection="column",W.style.alignItems="center",W.style.justifyContent="center",t.rtl&&(W.setAttribute("dir","rtl"),W.classList.add("nx-rtl-on")),W.innerHTML=U+q;var X=e.getComputedStyle(F).getPropertyValue("position"),Y="string"==typeof X?X.toLocaleLowerCase("en"):"relative",V=Math.round(1.25*parseInt(t.svgSize))+40,G="";V>(F.offsetHeight||0)&&(G="min-height:"+V+"px;");var Z="";Z=F.getAttribute("id")?"#"+F.getAttribute("id"):F.classList[0]?"."+F.classList[0]:(F.tagName||"").toLocaleLowerCase("en");var J="",K=["absolute","relative","fixed","sticky"].indexOf(Y)<=-1;if(K||G.length>0){if(!f("head"))return!1;K&&(J="position:relative!important;");var $='<style id="Style-'+c.ID+"-"+k+'">'+Z+".nx-block-temporary-position{"+J+G+"}</style>",Q=e.document.createRange();Q.selectNode(e.document.head);var ee=Q.createContextualFragment($);e.document.head.appendChild(ee),F.classList.add(I)}F.appendChild(W)}}}else var te=function(n){var i=setTimeout((function(){null!==n.parentNode&&n.parentNode.removeChild(n);var t=n.getAttribute("id"),r=e.document.getElementById("Style-"+t);r&&null!==r.parentNode&&r.parentNode.removeChild(r),clearTimeout(i)}),t.cssAnimationDuration)},ne=function(e){if(e&&e.length>0)for(var t=0;t<e.length;t++){var n=e[t];n&&(n.classList.add("nx-remove"),te(n))}else h("string"==typeof w?'"Notiflix.Block.remove();" function called with "'+w+'" selector, but this selector does not have a "Block" element to remove.':'"Notiflix.Block.remove();" function called with "'+w+'", but this "Array<HTMLElement>" or "NodeListOf<HTMLElement>" does not have a "Block" element to remove.')},ie=function(e){var n=setTimeout((function(){e.classList.remove(I),clearTimeout(n)}),t.cssAnimationDuration+300)},re=setTimeout((function(){for(var e=0;e<B;e++){var t=T[e];t&&(ie(t),D=t.querySelectorAll("[id^="+c.ID+"]"),ne(D))}clearTimeout(re)}),O);t=d(!0,t,C)},E={Block:{init:function(n){t=d(!0,c,n),function(t,n){if(!f("head"))return!1;if(null!==t()&&!e.document.getElementById(n)){var i=e.document.createElement("style");i.id=n,i.innerHTML=t(),e.document.head.appendChild(i)}}(w,"NotiflixBlockInternalCSS")},merge:function(e){if(!t)return u('You have to initialize the "Notiflix.Block" module before call Merge function.'),!1;t=d(!0,t,e)},standard:function(e,t,n){x(!0,i,e,t,n)},hourglass:function(e,t,n){x(!0,r,e,t,n)},circle:function(e,t,n){x(!0,o,e,t,n)},arrows:function(e,t,n){x(!0,a,e,t,n)},dots:function(e,t,n){x(!0,s,e,t,n)},pulse:function(e,t,n){x(!0,l,e,t,n)},remove:function(e,t){"number"!=typeof t&&(t=0),x(!1,null,e,null,null,t)}}};return"object"==typeof e.Notiflix?d(!0,e.Notiflix,{Block:E.Block}):{Block:E.Block}},"function"==typeof define&&define.amd?define([],(function(){return On(Sn)})):"object"==typeof Tn?Tn=On(Sn):Sn.Notiflix=On(Sn);var An=r("h6c0i"),Cn={};m=r("l5bVx");Cn=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="dist/",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=(i(n(1)),n(6)),a=i(o),s=i(n(7)),l=i(n(8)),c=i(n(9)),u=i(n(10)),h=i(n(11)),f=i(n(14)),d=[],v=!1,p={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},m=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(v=!0),v)return d=(0,h.default)(d,p),(0,u.default)(d,p.once),d},g=function(){d=(0,f.default)(),m()},y=function(){d.forEach((function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")}))},b=function(e){return!0===e||"mobile"===e&&c.default.mobile()||"phone"===e&&c.default.phone()||"tablet"===e&&c.default.tablet()||"function"==typeof e&&!0===e()},w=function(e){p=r(p,e),d=(0,f.default)();var t=document.all&&!window.atob;return b(p.disable)||t?y():(p.disableMutationObserver||l.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),p.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",p.easing),document.querySelector("body").setAttribute("data-aos-duration",p.duration),document.querySelector("body").setAttribute("data-aos-delay",p.delay),"DOMContentLoaded"===p.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?m(!0):"load"===p.startEvent?window.addEventListener(p.startEvent,(function(){m(!0)})):document.addEventListener(p.startEvent,(function(){m(!0)})),window.addEventListener("resize",(0,s.default)(m,p.debounceDelay,!0)),window.addEventListener("orientationchange",(0,s.default)(m,p.debounceDelay,!0)),window.addEventListener("scroll",(0,a.default)((function(){(0,u.default)(d,p.once)}),p.throttleDelay)),p.disableMutationObserver||l.default.ready("[data-aos]",g),d)};e.exports={init:w,refresh:m,refreshHard:g}},function(e,t){},,,,,function(t,n){(function(n){"use strict";function i(e,t,n){function i(t){var n=p,i=m;return p=m=void 0,k=t,y=e.apply(i,n)}function r(e){return k=e,b=setTimeout(c,t),x?i(e):y}function a(e){var n=t-(e-w);return T?S(n,g-(e-k)):n}function s(e){var n=e-w;return void 0===w||n>=t||n<0||T&&e-k>=g}function c(){var e=O();return s(e)?h(e):void(b=setTimeout(c,a(e)))}function h(e){return b=void 0,A&&p?i(e):(p=m=void 0,y)}function f(){void 0!==b&&clearTimeout(b),k=0,p=w=m=b=void 0}function d(){return void 0===b?y:h(O())}function v(){var e=O(),n=s(e);if(p=arguments,m=this,w=e,n){if(void 0===b)return r(w);if(T)return b=setTimeout(c,t),i(w)}return void 0===b&&(b=setTimeout(c,t)),y}var p,m,g,y,b,w,k=0,x=!1,T=!1,A=!0;if("function"!=typeof e)throw new TypeError(u);return t=l(t)||0,o(n)&&(x=!!n.leading,g=(T="maxWait"in n)?E(l(n.maxWait)||0,t):g,A="trailing"in n?!!n.trailing:A),v.cancel=f,v.flush=d,v}function r(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError(u);return o(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),i(e,t,{leading:r,maxWait:t,trailing:a})}function o(e){var t=void 0===e?"undefined":c(e);return!!e&&("object"==t||"function"==t)}function a(e){return!!e&&"object"==(void 0===e?"undefined":c(e))}function s(e){return"symbol"==(void 0===e?"undefined":c(e))||a(e)&&x.call(e)==f}function l(e){if("number"==typeof e)return e;if(s(e))return h;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(d,"");var n=p.test(e);return n||g.test(e)?y(e.slice(2),n?2:8):v.test(e)?h:+e}var c="function"==typeof Symbol&&"symbol"==e(m)(Symbol.iterator)?function(t){return void 0===t?"undefined":e(m)(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":e(m)(t)},u="Expected a function",h=NaN,f="[object Symbol]",d=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,g=/^0o[0-7]+$/i,y=parseInt,b="object"==(void 0===n?"undefined":c(n))&&n&&n.Object===Object&&n,w="object"==("undefined"==typeof self?"undefined":c(self))&&self&&self.Object===Object&&self,k=b||w||Function("return this")(),x=Object.prototype.toString,E=Math.max,S=Math.min,O=function(){return k.Date.now()};t.exports=r}).call(n,function(){return this}())},function(t,n){(function(n){"use strict";function i(e,t,n){function i(t){var n=p,i=m;return p=m=void 0,k=t,y=e.apply(i,n)}function o(e){return k=e,b=setTimeout(u,t),O?i(e):y}function a(e){var n=t-(e-w);return T?E(n,g-(e-k)):n}function l(e){var n=e-w;return void 0===w||n>=t||n<0||T&&e-k>=g}function u(){var e=S();return l(e)?h(e):void(b=setTimeout(u,a(e)))}function h(e){return b=void 0,A&&p?i(e):(p=m=void 0,y)}function f(){void 0!==b&&clearTimeout(b),k=0,p=w=m=b=void 0}function d(){return void 0===b?y:h(S())}function v(){var e=S(),n=l(e);if(p=arguments,m=this,w=e,n){if(void 0===b)return o(w);if(T)return b=setTimeout(u,t),i(w)}return void 0===b&&(b=setTimeout(u,t)),y}var p,m,g,y,b,w,k=0,O=!1,T=!1,A=!0;if("function"!=typeof e)throw new TypeError(c);return t=s(t)||0,r(n)&&(O=!!n.leading,g=(T="maxWait"in n)?x(s(n.maxWait)||0,t):g,A="trailing"in n?!!n.trailing:A),v.cancel=f,v.flush=d,v}function r(e){var t=void 0===e?"undefined":l(e);return!!e&&("object"==t||"function"==t)}function o(e){return!!e&&"object"==(void 0===e?"undefined":l(e))}function a(e){return"symbol"==(void 0===e?"undefined":l(e))||o(e)&&k.call(e)==h}function s(e){if("number"==typeof e)return e;if(a(e))return u;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(f,"");var n=v.test(e);return n||p.test(e)?g(e.slice(2),n?2:8):d.test(e)?u:+e}var l="function"==typeof Symbol&&"symbol"==e(m)(Symbol.iterator)?function(t){return void 0===t?"undefined":e(m)(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":e(m)(t)},c="Expected a function",u=NaN,h="[object Symbol]",f=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,p=/^0o[0-7]+$/i,g=parseInt,y="object"==(void 0===n?"undefined":l(n))&&n&&n.Object===Object&&n,b="object"==("undefined"==typeof self?"undefined":l(self))&&self&&self.Object===Object&&self,w=y||b||Function("return this")(),k=Object.prototype.toString,x=Math.max,E=Math.min,S=function(){return w.Date.now()};t.exports=i}).call(n,function(){return this}())},function(e,t){"use strict";function n(e){var t=void 0,i=void 0;for(t=0;t<e.length;t+=1){if((i=e[t]).dataset&&i.dataset.aos)return!0;if(i.children&&n(i.children))return!0}return!1}function i(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function r(){return!!i()}function o(e,t){var n=window.document,r=new(i())(a);s=t,r.observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function a(e){e&&e.forEach((function(e){var t=Array.prototype.slice.call(e.addedNodes),i=Array.prototype.slice.call(e.removedNodes);if(n(t.concat(i)))return s()}))}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){};t.default={isSupported:r,ready:o}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=function(){function e(){n(this,e)}return r(e,[{key:"phone",value:function(){var e=i();return!(!o.test(e)&&!a.test(e.substr(0,4)))}},{key:"mobile",value:function(){var e=i();return!(!s.test(e)&&!l.test(e.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),e}();t.default=new c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){var i=e.node.getAttribute("data-aos-once");t>e.position?e.node.classList.add("aos-animate"):void 0!==i&&("false"===i||!n&&"true"!==i)&&e.node.classList.remove("aos-animate")},i=function(e,t){var i=window.pageYOffset,r=window.innerHeight;e.forEach((function(e,o){n(e,r+i,t)}))};t.default=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(12)),o=function(e,t){return e.forEach((function(e,n){e.node.classList.add("aos-init"),e.position=(0,r.default)(e.node,t.offset)})),e};t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(13)),o=function(e,t){var n=0,i=0,o=window.innerHeight,a={offset:e.getAttribute("data-aos-offset"),anchor:e.getAttribute("data-aos-anchor"),anchorPlacement:e.getAttribute("data-aos-anchor-placement")};switch(a.offset&&!isNaN(a.offset)&&(i=parseInt(a.offset)),a.anchor&&document.querySelectorAll(a.anchor)&&(e=document.querySelectorAll(a.anchor)[0]),n=(0,r.default)(e).top,a.anchorPlacement){case"top-bottom":break;case"center-bottom":n+=e.offsetHeight/2;break;case"bottom-bottom":n+=e.offsetHeight;break;case"top-center":n+=o/2;break;case"bottom-center":n+=o/2+e.offsetHeight;break;case"center-center":n+=o/2+e.offsetHeight/2;break;case"top-top":n+=o;break;case"bottom-top":n+=e.offsetHeight+o;break;case"center-top":n+=e.offsetHeight/2+o}return a.anchorPlacement||a.offset||isNaN(t)||(i=t),n+i};t.default=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-("BODY"!=e.tagName?e.scrollLeft:0),n+=e.offsetTop-("BODY"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:n,left:t}};t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e=e||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(e,(function(e){return{node:e}}))};t.default=n}]),e(Cn).init();var Pn={backgroundColor:"transparent",svgColor:"gray",svgSize:"100px",querySelectorLimit:20},Mn={fontFamily:"DMSans"},Ln=window.innerWidth,Rn=1;function _n(e){Rn=Ln<768?1:Ln>767&&Ln<1440?3:5,document.querySelector(".gallery__list").innerHTML=function(e){return e.map((function(e){var t=e.list_name,n=e.books,i=0;return' <li class="books-list list">\n            <h3 class="block-title">'.concat(t,'</h3>\n                <ul class="book-card__list list" ()>\n                  ').concat(n.slice(0,Rn).map((function(e){return En(e,i+=50)})).join(""),'\n                </ul>\n              <button class="btn-default btn-all-categories-js" data-list-name="').concat(t,'">see more</button>\n        </li>')}))}(e).join("")}addEventListener("resize",(function(){(window.innerWidth>767&&Ln<768||window.innerWidth>1439&&Ln<1440||window.innerWidth<1440&&Ln>1439||window.innerWidth<768&&Ln>767)&&location.reload()}));var zn=new xn;function Bn(){return In.apply(this,arguments)}function In(){return(In=e(o)(e(a).mark((function t(){var n,i;return e(a).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("topBooks"in sessionStorage)){t.next=9;break}return Tn.Block.standard(".gallery_container",Pn),Tn.Block.remove(".gallery_container"),n=sessionStorage.getItem("topBooks"),_n(JSON.parse(n)),e(Cn).refresh(),t.abrupt("return");case 9:return t.prev=9,Tn.Block.standard(".gallery_container",Pn),t.next=13,zn.getTopBooks();case 13:_n((i=t.sent).data),e(Cn).refresh(),sessionStorage.setItem("topBooks",JSON.stringify(i.data)),Tn.Block.remove(".gallery_container"),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(9),An.Notify.failure("Oops something went wrong",Mn);case 23:case"end":return t.stop()}}),t,null,[[9,20]])})))).apply(this,arguments)}o=r("bpxeT"),a=r("2TvXO");function jn(){var e=document.querySelector(".book-card__title"),t=e.innerHTML.split(" "),n=t.pop(),i=t.join(" ");e.innerHTML="".concat(i,' <span class="book-card__title--accent-word">').concat(n,"</span>")}jn();var Nn=r("js1up");An=r("h6c0i");e(Cn).init();var Fn={backgroundColor:"rgba(255, 255, 255, 0.4)",svgColor:"gray",svgSize:"100px",querySelectorLimit:20},Dn={fontFamily:"DMSans"};Bn(),document.querySelector(".gallery__list").addEventListener("click",(function(e){"button"===e.target.localName&&(Yn=e.target.getAttribute("data-list-name"),Gn(e),(0,Nn.backToTop)(Xn.offsetTop-60))}));var Hn=new xn,Un=document.querySelector(".filter__list"),qn=document.querySelector(".filter__item--active"),Wn=document.querySelector(".gallery__list"),Xn=document.querySelector(".book-card__title"),Yn="ALL CATEGORIES";function Vn(){return(Vn=e(o)(e(a).mark((function t(){var n,i;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("Categories-List"in sessionStorage)){e.next=7;break}return n=sessionStorage.getItem("Categories-List"),i=JSON.parse(n).map((function(e){return'<li class="filter__item" data-mark-active="'.concat(e.list_name,'">').concat(e.list_name,"</li>")})).join(""),Un.insertAdjacentHTML("beforeend",i),e.abrupt("return");case 7:return e.prev=7,e.next=10,Hn.getBooksCategoriesList().then((function(e){sessionStorage.setItem("Categories-List",JSON.stringify(e.data));var t=e.data.map((function(e){return'<li class="filter__item" data-mark-active="'.concat(e.list_name,'">').concat(e.list_name,"</li>")})).join("");Un.insertAdjacentHTML("beforeend",t)}));case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(7),An.Notify.info("Oops something going wrong",Dn),Un.innerHTML="Oops something going wrong. Error 404";case 16:case"end":return e.stop()}}),t,null,[[7,12]])})))).apply(this,arguments)}function Gn(e){var t=document.querySelector('[data-mark-active="'.concat(Yn,'"]'));qn.classList.remove("filter__item--active"),t.classList.add("filter__item--active"),qn=t,function(e){Zn.apply(this,arguments)}(Yn),jn()}function Zn(){return(Zn=e(o)(e(a).mark((function t(n){return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"All categories"!==n){e.next=6;break}return Wn.innerHTML="",e.next=5,Bn();case 5:return e.abrupt("return",Xn.innerHTML="Best Sellers Books");case 6:return console.log=function(){},Tn.Block.standard(".gallery_container",Fn),Hn.category=n,Xn.innerHTML=n,e.next=12,Hn.getSelectedCategoryBooks().then((function(e){var t=0,n=e.data.map((function(e){return En(e,t+=50)})).join("");Wn.innerHTML="",Wn.insertAdjacentHTML("beforeend",n),Tn.Block.remove(".gallery_container")}));case 12:return e.abrupt("return",e.sent);case 15:e.prev=15,e.t0=e.catch(0),An.Notify.info("Oops we didn't find such category",Dn);case 18:case"end":return e.stop()}}),t,null,[[0,15]])})))).apply(this,arguments)}!function(){Vn.apply(this,arguments)}(),Un.addEventListener("click",(function(e){e.target.outerText.toLowerCase()!==Yn.toLowerCase()&&(Yn=e.target.outerText,Gn(e))})),r("2Z7mb"),r("eBaW8"),r("hbPx1"),r("iNkeL"),r("iNWLi"),r("cs7FV");var Jn;Jn=r("aNJCr").getBundleURL("EVgbq")+r("iE7OH").resolve("gqYIc");var Kn;Kn=r("aNJCr").getBundleURL("EVgbq")+r("iE7OH").resolve("7WYG5");var $n;$n=r("aNJCr").getBundleURL("EVgbq")+r("iE7OH").resolve("fTHO4");var Qn;Qn=r("aNJCr").getBundleURL("EVgbq")+r("iE7OH").resolve("kYAgw");var ei;ei=r("aNJCr").getBundleURL("EVgbq")+r("iE7OH").resolve("gGODR");var ti;ti=r("aNJCr").getBundleURL("EVgbq")+r("iE7OH").resolve("gtAUi");var ni;ni=r("aNJCr").getBundleURL("EVgbq")+r("iE7OH").resolve("6DhFo");var ii=[];function ri(t){var n=t._id,i=t.title,r=t.author,o=t.book_image,a=t.description,s=t.buy_links;ii={_id:n,title:i,author:r,book_image:o,description:a,buy_links:s};var l=s.filter((function(e){return["Amazon","Apple Books","Bookshop"].includes(e.name)})).map((function(e){return e.url}));return'<div id="modal" data-fancybox="modal" class="modal" style="display:none">\n    <div class="modal__pop-up">\n      <button class="pop-up__btn-close" type="button">\n        <svg class="btn-close-icon" width="32" height="32">\n          <use href="'.concat(e(ni),'#x-close-icon"></use>\n        </svg>\n      </button>\n      <div class="pop-up__book">\n        <div class="pop-up__book-container">\n          <img class="book__image" src="').concat(o,'" alt="').concat(r,": ").concat(i,'" >\n          <div>\n            <div>\n              <h2 class="book__title info-item__title">').concat(i,'</h2>\n              <p class="book__author info-item__author">').concat(r,'</p>\n            </div>\n            <p class="book__description">').concat(a,'</p>\n            <ul class="book__list">\n              <li class="book__item">\n                <a class="book__buy-links" href="').concat(l[0],'" target="_blank" rel="noopener noreferrer" aria-label="Amazon">\n                  <picture class="buy-links__icon amazon">\n                    <source srcset="').concat(e(Jn)," 1x, ").concat(e(Kn),' 2x">\n                    <img src="').concat(e(Kn),'" alt="Amazon">\n                  </picture>\n                </a>\n              </li>\n              <li class="book__item">\n                <a class="book__buy-links" href="').concat(l[1],'" target="_blank" rel="noopener noreferrer" aria-label="Apple Books">\n                  <picture class="buy-links__icon">\n                    <source\n                      srcset="').concat(e($n)," 1x, ").concat(e(Qn),' 2x">\n                    <img src="').concat(e(Qn),'" alt="Apple Books" data="').concat(n,'">\n                  </picture>\n                </a>\n              </li>\n              <li class="book__item">\n                <a class="book__buy-links" href="').concat(l[2],'" target="_blank" rel="noopener noreferrer" aria-label="Bookshop">\n                  <picture class="buy-links__icon">\n                    <source\n                      srcset="').concat(e(ei)," 1x, ").concat(e(ti),' 2x">\n                    <img src="').concat(e(ti),'" alt="Bookshop">\n                  </picture>\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n      <button class="pop-up__btn-add btn-default" type="button">add to shopping list</button>\n      <button class="pop-up__btn-remove btn-default visually-hidden" type="button">remove from the shopping list</button>\n      <p class="pop-up__text-info visually-hidden">Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.\n      </p>\n    </div>\n  </div>\n')}var oi=r("iNWLi"),ai=(oe=r("ds8z5"),s=r("8MBJY"),p=r("a2hTj"),r("hKHmD")),si=r("jh8P3"),li=r("fVNic"),ci=(ae=r("eYQtU"),r("jmhxu")),ui=(zt=r("1t1Wn"),Bt=r("8nrFW"),se=r("2MbLg"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return e=parseFloat(e+"")||0,Math.round((e+Number.EPSILON)*t)/t}),hi=function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;var t=e.scrollHeight>e.clientHeight,n=window.getComputedStyle(e).overflowY,i=-1!==n.indexOf("hidden"),r=-1!==n.indexOf("visible");return t&&!i&&!r},fi=function(e,t){return!(!e||e===document.body||t&&e===t)&&(hi(e)?e:fi(e.parentElement,t))},di=function(e){var t=(new DOMParser).parseFromString(e,"text/html").body;if(t.childElementCount>1){for(var n=document.createElement("div");t.firstChild;)n.appendChild(t.firstChild);return n}return t.firstChild},vi=function(e){return"".concat(e||"").split(" ").filter((function(e){return!!e}))},pi=function(e,t,n){vi(t).forEach((function(t){e&&e.classList.toggle(t,n||!1)}))},mi=function t(n){"use strict";e(s)(this,t),Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=n,this.pageX=n.pageX,this.pageY=n.pageY,this.clientX=n.clientX,this.clientY=n.clientY,this.id=self.Touch&&n instanceof Touch?n.identifier:-1,this.time=Date.now()},gi={passive:!1},yi=function(){"use strict";function t(n,i){var r=i.start,o=void 0===r?function(){return!0}:r,a=i.move,l=void 0===a?function(){}:a,c=i.end,u=void 0===c?function(){}:c;e(s)(this,t),Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=n,this.startCallback=o,this.moveCallback=l,this.endCallback=u;var h=!0,f=!1,d=void 0;try{for(var v,p=["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"][Symbol.iterator]();!(h=(v=p.next()).done);h=!0){var m=v.value;this[m]=this[m].bind(this)}}catch(e){f=!0,d=e}finally{try{h||null==p.return||p.return()}finally{if(f)throw d}}this.element.addEventListener("mousedown",this.onPointerStart,gi),this.element.addEventListener("touchstart",this.onTouchStart,gi),this.element.addEventListener("touchmove",this.onMove,gi),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}return e(p)(t,[{key:"onPointerStart",value:function(e){if(e.buttons&&0===e.button){var t=new mi(e);this.currentPointers.some((function(e){return e.id===t.id}))||this.triggerPointerStart(t,e)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}}},{key:"onTouchStart",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=Array.from(e.changedTouches||[])[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.triggerPointerStart(new mi(a),e)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}window.addEventListener("blur",this.onWindowBlur)}},{key:"onMove",value:function(e){var t=this.currentPointers.slice(),n="changedTouches"in e?Array.from(e.changedTouches||[]).map((function(e){return new mi(e)})):[new mi(e)],i=[],r=!0,o=!1,a=void 0;try{for(var s,l=this,c=function(e,t){var n=t.value,r=l.currentPointers.findIndex((function(e){return e.id===n.id}));r<0||(i.push(n),l.currentPointers[r]=n)},u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0)c(0,s)}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}i.length&&this.moveCallback(e,this.currentPointers.slice(),t)}},{key:"onPointerEnd",value:function(e){e.buttons>0&&0!==e.button||(this.triggerPointerEnd(e,new mi(e)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}},{key:"onTouchEnd",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=Array.from(e.changedTouches||[])[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.triggerPointerEnd(e,new mi(a))}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"triggerPointerStart",value:function(e,t){return!!this.startCallback(t,e,this.currentPointers.slice())&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}},{key:"triggerPointerEnd",value:function(e,t){var n=this.currentPointers.findIndex((function(e){return e.id===t.id}));n<0||(this.currentPointers.splice(n,1),this.startPointers.splice(n,1),this.endCallback(e,t,this.currentPointers.slice()))}},{key:"onWindowBlur",value:function(){this.clear()}},{key:"clear",value:function(){for(;this.currentPointers.length;){var e=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:e.clientX,clientY:e.clientY}),e,this.currentPointers.slice())}}},{key:"stop",value:function(){this.element.removeEventListener("mousedown",this.onPointerStart,gi),this.element.removeEventListener("touchstart",this.onTouchStart,gi),this.element.removeEventListener("touchmove",this.onMove,gi),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}}]),t}();function bi(e,t){return t?Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2)):0}function wi(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e}var ki=function(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)},xi=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(var o=i.length,a=0;a<o;a++){var s=i[a]||{};Object.entries(s).forEach((function(n){var i=e(zt)(n,2),r=i[0],o=i[1],a=Array.isArray(o)?[]:{};t[r]||Object.assign(t,e(ai)({},r,a)),ki(o)?Object.assign(t[r],xi(a,o)):Array.isArray(o)?Object.assign(t,e(ai)({},r,e(Bt)(o))):Object.assign(t,e(ai)({},r,o))}))}return t},Ei=function(e,t){return e.split(".").reduce((function(e,t){return"object"==typeof e?e[t]:void 0}),t)},Si=function(){"use strict";function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(s)(this,t),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(n);var i=!0,r=!1,o=void 0;try{for(var a,l=Object.getOwnPropertyNames(Object.getPrototypeOf(this))[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var c=a.value;c.startsWith("on")&&"function"==typeof this[c]&&(this[c]=this[c].bind(this))}}catch(e){r=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw o}}}return e(p)(t,[{key:"setOptions",value:function(t){this.options=t?xi({},this.constructor.defaults,t):{};var n=!0,i=!1,r=void 0;try{for(var o,a=Object.entries(this.option("on")||{})[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=e(zt)(o.value,2),l=s[0],c=s[1];this.on(l,c)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}},{key:"option",value:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o,a=Ei(t,this.options);return a&&"function"==typeof a&&(a=(o=a).call.apply(o,[this,this].concat(e(Bt)(i)))),a}},{key:"optionFor",value:function(t,n,i){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];var s,l,c,u=Ei(n,t);"string"!=typeof(c=u)||isNaN(c)||isNaN(parseFloat(c))||(u=parseFloat(u)),"true"===u&&(u=!0),"false"===u&&(u=!1),u&&"function"==typeof u&&(u=(s=u).call.apply(s,[this,this,t].concat(e(Bt)(o))));var h=Ei(n,this.options);return h&&"function"==typeof h?u=(l=h).call.apply(l,[this,this,t].concat(e(Bt)(o),[u])):void 0===u&&(u=h),void 0===u?i:u}},{key:"cn",value:function(e){var t=this.options.classes;return t&&t[e]||""}},{key:"localize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this;e=String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,(function(e,t,i){var r="";return i?r=n.option("".concat(t[0]+t.toLowerCase().substring(1),".l10n.").concat(i)):t&&(r=n.option("l10n.".concat(t))),r||(r=e),r}));for(var i=0;i<t.length;i++)e=e.split(t[i][0]).join(t[i][1]);return e.replace(/\{\{(.*?)\}\}/g,(function(e,t){return t}))}},{key:"on",value:function(e,t){var n=this,i=[];"string"==typeof e?i=e.split(" "):Array.isArray(e)&&(i=e),this.events||(this.events=new Map),i.forEach((function(e){var i=n.events.get(e);i||(n.events.set(e,[]),i=[]),i.includes(t)||i.push(t),n.events.set(e,i)}))}},{key:"off",value:function(e,t){var n=this,i=[];"string"==typeof e?i=e.split(" "):Array.isArray(e)&&(i=e),i.forEach((function(e){var i=n.events.get(e);if(Array.isArray(i)){var r=i.indexOf(t);r>-1&&i.splice(r,1)}}))}},{key:"emit",value:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=this;e(Bt)(this.events.get(t)||[]).forEach((function(t){return t.apply(void 0,[o].concat(e(Bt)(i)))})),"*"!==t&&this.emit.apply(this,["*",t].concat(e(Bt)(i)))}}]),t}();Object.defineProperty(Si,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.16"}),Object.defineProperty(Si,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});var Oi,Ti,Ai=function(t){"use strict";e(ae)(i,t);var n=e(se)(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(s)(this,i),t=n.call(this,r),Object.defineProperty(e(oe)(t),"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),e(ci)(t)}return e(p)(i,[{key:"attachPlugins",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new Map,i=!0,r=!1,o=void 0;try{for(var a,s=Object.entries(t)[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=e(zt)(a.value,2),c=l[0],u=l[1],h=this.option(c),f=this.plugins[c];f||!1===h?f&&!1===h&&(f.detach(),delete this.plugins[c]):n.set(c,new u(this,h||{}))}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}var d=!0,v=!1,p=void 0;try{for(var m,g=n[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var y=e(zt)(m.value,2),b=y[0],w=y[1];this.plugins[b]=w,w.attach()}}catch(e){v=!0,p=e}finally{try{d||null==g.return||g.return()}finally{if(v)throw p}}this.emit("attachPlugins")}},{key:"detachPlugins",value:function(e){e=e||Object.keys(this.plugins);var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value,s=this.plugins[a];s&&s.detach(),delete this.plugins[a]}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return this.emit("detachPlugins"),this}}]),i}(Si);(Ti=Oi||(Oi={}))[Ti.Init=0]="Init",Ti[Ti.Error=1]="Error",Ti[Ti.Ready=2]="Ready",Ti[Ti.Panning=3]="Panning",Ti[Ti.Mousemove=4]="Mousemove",Ti[Ti.Destroy=5]="Destroy";var Ci=["a","b","c","d","e","f"],Pi={PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"},Mi={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:Pi},Li='<div class="f-spinner"><svg viewBox="0 0 50 50"><circle cx="25" cy="25" r="20"></circle><circle cx="25" cy="25" r="20"></circle></svg></div>',Ri=function(e){return e&&null!==e&&e instanceof Element&&"nodeType"in e},_i=function(e,t){e&&vi(t).forEach((function(t){e.classList.remove(t)}))},zi=function(e,t){e&&vi(t).forEach((function(t){e.classList.add(t)}))},Bi={a:1,b:0,c:0,d:1,e:0,f:0},Ii=null,ji=null,Ni=function(t){"use strict";e(ae)(i,t);var n=e(se)(i);function i(t){var r,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e(s)(this,i),r=n.call(this,a),Object.defineProperty(e(oe)(r),"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(r),"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(r),"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(r),"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(r),"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(r),"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e(oe)(r),"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(oe)(r),"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e(oe)(r),"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e(oe)(r),"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e(oe)(r),"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(oe)(r),"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e(oe)(r),"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(oe)(r),"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(oe)(r),"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e(oe)(r),"state",{enumerable:!0,configurable:!0,writable:!0,value:Oi.Init}),Object.defineProperty(e(oe)(r),"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e(oe)(r),"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e(oe)(r),"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e(oe)(r),"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(r),"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(e(oe)(r),"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(e(oe)(r),"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(e(oe)(r),"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(e(oe)(r),"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},Bi)}),Object.defineProperty(e(oe)(r),"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},Bi)}),Object.defineProperty(e(oe)(r),"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(e(oe)(r),"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!t)throw new Error("Container Element Not Found");r.container=t,r.initContent(),r.attachPlugins(Object.assign(Object.assign({},i.Plugins),l)),r.emit("init");var c=r.content;if(c.addEventListener("load",r.onLoad),c.addEventListener("error",r.onError),r.isContentLoading){if(r.option("spinner")){t.classList.add(r.cn("isLoading"));var u=di(Li);!t.contains(c)||c.parentElement instanceof HTMLPictureElement?r.spinner=t.appendChild(u):r.spinner=(null===(o=c.parentElement)||void 0===o?void 0:o.insertBefore(u,c))||null}r.emit("beforeLoad")}else queueMicrotask((function(){r.enable()}));return e(ci)(r)}return e(p)(i,[{key:"isTouchDevice",get:function(){return null===ji&&(ji=window.matchMedia("(hover: none)").matches),ji}},{key:"isMobile",get:function(){return null===Ii&&(Ii=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),Ii}},{key:"panMode",get:function(){return"mousemove"!==this.options.panMode||this.isTouchDevice?"drag":"mousemove"}},{key:"panOnlyZoomed",get:function(){var e=this.options.panOnlyZoomed;return"auto"===e?this.isTouchDevice:e}},{key:"isInfinite",get:function(){return this.option("infinite")}},{key:"angle",get:function(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}},{key:"targetAngle",get:function(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}},{key:"scale",get:function(){var e=this.current,t=e.a,n=e.b;return Math.sqrt(t*t+n*n)||1}},{key:"targetScale",get:function(){var e=this.target,t=e.a,n=e.b;return Math.sqrt(t*t+n*n)||1}},{key:"minScale",get:function(){return this.option("minScale")||1}},{key:"fullScale",get:function(){var e=this.contentRect;return e.fullWidth/e.fitWidth||1}},{key:"maxScale",get:function(){return this.fullScale*(this.option("maxScale")||1)||1}},{key:"coverScale",get:function(){var e=this.containerRect,t=this.contentRect,n=Math.max(e.height/t.fitHeight,e.width/t.fitWidth)||1;return Math.min(this.fullScale,n)}},{key:"isScaling",get:function(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}},{key:"isContentLoading",get:function(){var e=this.content;return!!(e&&e instanceof HTMLImageElement)&&!e.complete}},{key:"isResting",get:function(){if(this.isBouncingX||this.isBouncingY)return!1;var e=!0,t=!1,n=void 0;try{for(var i,r=Ci[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value,a="e"==o||"f"===o?.001:1e-5;if(Math.abs(this.target[o]-this.current[o])>a)return!1}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}},{key:"initContent",value:function(){var e=this.container,t=this.cn("content"),n=this.option("content")||e.querySelector(".".concat(t));if(n||(n=e.querySelector("img,picture")||e.firstElementChild)&&zi(n,t),n instanceof HTMLPictureElement&&(n=n.querySelector("img")),!n)throw new Error("No content found");this.content=n}},{key:"onLoad",value:function(){this.spinner&&(this.spinner.remove(),this.spinner=null),this.option("spinner")&&this.container.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),this.state===Oi.Init?this.enable():this.updateMetrics()}},{key:"onError",value:function(){this.state!==Oi.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=Oi.Error,this.emit("error"))}},{key:"attachObserver",value:function(){var e,t=this,n=function(){return Math.abs(t.containerRect.width-t.container.getBoundingClientRect().width)>.1||Math.abs(t.containerRect.height-t.container.getBoundingClientRect().height)>.1};this.resizeObserver||void 0===window.ResizeObserver||(this.resizeObserver=new ResizeObserver((function(){var e=t;t.updateTimer||(n()?(t.onResize(),t.isMobile&&(t.updateTimer=setTimeout((function(){n()&&e.onResize(),e.updateTimer=null}),500))):t.updateTimer&&(clearTimeout(t.updateTimer),t.updateTimer=null))}))),null===(e=this.resizeObserver)||void 0===e||e.observe(this.container)}},{key:"detachObserver",value:function(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()}},{key:"attachEvents",value:function(){var e=this.container;e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new yi(e,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener("mousemove",this.onMouseMove)}},{key:"detachEvents",value:function(){var e,t=this.container;t.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),t.removeEventListener("wheel",this.onWheel,{passive:!1}),null===(e=this.pointerTracker)||void 0===e||e.stop(),this.pointerTracker=null,document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}},{key:"animate",value:function(){var e=this,t=this.friction;this.setTargetForce();var n=this.option("maxVelocity"),i=!0,r=!1,o=void 0;try{for(var a,s=Ci[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;t?(this.velocity[l]*=1-t,n&&!this.isScaling&&(this.velocity[l]=Math.max(Math.min(this.velocity[l],n),-1*n)),this.current[l]+=this.velocity[l]):this.current[l]=this.target[l]}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame((function(){return e.animate()})):this.stop("current")}},{key:"setTargetForce",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=Ci[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;"e"===o&&this.isBouncingX||"f"===o&&this.isBouncingY||(this.velocity[o]=(1/(1-this.friction)-1)*(this.target[o]-this.current[o]))}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}},{key:"checkBounds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this,i=n.current,r=i.e+e,o=i.f+t,a=this.getBounds(),s=a.x,l=a.y,c=s.min,u=s.max,h=l.min,f=l.max,d=0,v=0;return c!==1/0&&r<c?d=c-r:u!==1/0&&r>u&&(d=u-r),h!==1/0&&o<h?v=h-o:f!==1/0&&o>f&&(v=f-o),Math.abs(d)<.001&&(d=0),Math.abs(v)<.001&&(v=0),Object.assign(Object.assign({},a),{xDiff:d,yDiff:v,inBounds:!d&&!v})}},{key:"clampTargetBounds",value:function(){var e=this.target,t=this.getBounds(),n=t.x,i=t.y;n.min!==1/0&&(e.e=Math.max(e.e,n.min)),n.max!==1/0&&(e.e=Math.min(e.e,n.max)),i.min!==1/0&&(e.f=Math.max(e.f,i.min)),i.max!==1/0&&(e.f=Math.min(e.f,i.max))}},{key:"calculateContentDim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current,t=this,n=t.content,i=t.contentRect,r=i.fitWidth,o=i.fitHeight,a=i.fullWidth,s=i.fullHeight,l=a,c=s;if(this.option("zoom")||0!==this.angle){var u=!(n instanceof HTMLImageElement||"none"!==window.getComputedStyle(n).maxWidth&&"none"!==window.getComputedStyle(n).maxHeight),h=u?a:r,f=u?s:o,d=this.getMatrix(e),v=new DOMPoint(0,0).matrixTransform(d),p=new DOMPoint(0+h,0).matrixTransform(d),m=new DOMPoint(0+h,0+f).matrixTransform(d),g=new DOMPoint(0,0+f).matrixTransform(d),y=Math.abs(m.x-v.x),b=Math.abs(m.y-v.y),w=Math.abs(g.x-p.x),k=Math.abs(g.y-p.y);l=Math.max(y,w),c=Math.max(b,k)}return{contentWidth:l,contentHeight:c}}},{key:"setEdgeForce",value:function(){if(this.ignoreBounds||this.isDragging||"mousemove"===this.panMode||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);var e=this.target,t=this.checkBounds(),n=t.x,i=t.y,r=t.xDiff,o=t.yDiff,a=this.option("maxVelocity"),s=this.velocity.e,l=this.velocity.f;0!==r?(this.isBouncingX=!0,r*s<=0?s+=.14*r:(s=.14*r,n.min!==1/0&&(this.target.e=Math.max(e.e,n.min)),n.max!==1/0&&(this.target.e=Math.min(e.e,n.max))),a&&(s=Math.max(Math.min(s,a),-1*a))):this.isBouncingX=!1,0!==o?(this.isBouncingY=!0,o*l<=0?l+=.14*o:(l=.14*o,i.min!==1/0&&(this.target.f=Math.max(e.f,i.min)),i.max!==1/0&&(this.target.f=Math.min(e.f,i.max))),a&&(l=Math.max(Math.min(l,a),-1*a))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=s),this.isBouncingY&&(this.velocity.f=l)}},{key:"enable",value:function(){var e=this.content,t=new DOMMatrixReadOnly(window.getComputedStyle(e).transform),n=!0,i=!1,r=void 0;try{for(var o,a=Ci[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.current[s]=this.target[s]=t[s]}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=Oi.Ready,this.emit("ready")}},{key:"onClick",value:function(e){var t,n=this;this.isDragging&&(null===(t=this.pointerTracker)||void 0===t||t.clear(),this.trackingPoints=[],this.startDecelAnim());var i=e.target;if(i&&!e.defaultPrevented){if(i&&i.hasAttribute("disabled"))return e.preventDefault(),void e.stopPropagation();if(!(r=window.getSelection())||"Range"!==r.type||i.closest("button")){var r,o=i.closest("[data-panzoom-action]"),a=i.closest("[data-panzoom-change]"),s=o||a,l=s&&Ri(s)?s.dataset:null;if(l){var c=l.panzoomChange,u=l.panzoomAction;if((c||u)&&e.preventDefault(),c){var h={};try{h=JSON.parse(c)}catch(e){console&&console.warn("The given data was not valid JSON")}return void this.applyChange(h)}if(u)return void(this[u]&&this[u]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return e.preventDefault(),void e.stopPropagation();var f=this.content.getBoundingClientRect();if(!this.dragStart.time||this.canZoomOut()||!(Math.abs(f.x-this.dragStart.x)>2||Math.abs(f.y-this.dragStart.y)>2)){this.dragStart.time=0;var d=function(t){n.option("zoom")&&t&&"string"==typeof t&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(t)&&"function"==typeof n[t]&&(e.preventDefault(),n[t]({event:e}))},v=this.option("click",e),p=this.option("dblClick",e);p?(this.clicks++,1==this.clicks&&(this.clickTimer=setTimeout((function(){1===n.clicks?(n.emit("click",e),!e.defaultPrevented&&v&&d(v)):(n.emit("dblClick",e),e.defaultPrevented||d(p)),n.clicks=0,n.clickTimer=null}),350))):(this.emit("click",e),!e.defaultPrevented&&v&&d(v))}}}}},{key:"addTrackingPoint",value:function(e){var t=this.trackingPoints.filter((function(e){return e.time>Date.now()-100}));t.push(e),this.trackingPoints=t}},{key:"onPointerDown",value:function(e,t,n){var i;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];var r=this.content.getBoundingClientRect();if(this.dragStart={x:r.x,y:r.y,top:r.top,left:r.left,time:Date.now()},this.clickTimer)return!1;if("mousemove"===this.panMode&&this.targetScale>1)return e.preventDefault(),e.stopPropagation(),!1;if(!n.length){var o=e.composedPath()[0];if(["A","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(o.nodeName)||o.closest("[contenteditable]")||o.closest("[data-selectable]")||o.closest("[data-panzoom-change]")||o.closest("[data-panzoom-action]"))return!1;null===(i=window.getSelection())||void 0===i||i.removeAllRanges()}if("mousedown"===e.type)e.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(t),this.emit("touchStart",e)),!0}},{key:"onPointerMove",value:function(e,t,n){if(!1!==this.option("touch",e)&&this.isDragging&&!(t.length<2&&this.panOnlyZoomed&&ui(this.targetScale)<=ui(this.minScale)||(this.emit("touchMove",e),e.defaultPrevented))){this.addTrackingPoint(t[0]);var i=this.content,r=wi(n[0],n[1]),o=wi(t[0],t[1]),a=0,s=0;if(t.length>1){var l=i.getBoundingClientRect();a=r.clientX-l.left-.5*l.width,s=r.clientY-l.top-.5*l.height}var c=bi(n[0],n[1]),u=bi(t[0],t[1]),h=c?u/c:1,f=o.clientX-r.clientX,d=o.clientY-r.clientY;this.dragOffset.x+=f,this.dragOffset.y+=d,this.dragOffset.time=Date.now()-this.dragStart.time;var v=ui(this.targetScale)===ui(this.minScale)&&this.option("lockAxis");if(v&&!this.lockedAxis)if("xy"===v||"y"===v||"touchmove"===e.type){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void e.preventDefault();var p=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=p>45&&p<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,f=0,d=0}else this.lockedAxis=v;if(fi(e.target,this.content)&&(v="x",this.dragOffset.y=0),!v||"xy"===v||this.lockedAxis===v||ui(this.targetScale)!==ui(this.minScale)){e.cancelable&&e.preventDefault(),this.container.classList.add(this.cn("isDragging"));var m=this.checkBounds(f,d);this.option("rubberband")?("x"!==this.isInfinite&&(m.xDiff>0&&f<0||m.xDiff<0&&f>0)&&(f*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*m.xDiff))),"y"!==this.isInfinite&&(m.yDiff>0&&d<0||m.yDiff<0&&d>0)&&(d*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*m.yDiff)))):(m.xDiff&&(f=0),m.yDiff&&(d=0));var g=this.targetScale,y=this.minScale,b=this.maxScale;g<.5*y&&(h=Math.max(h,y)),g>1.5*b&&(h=Math.min(h,b)),"y"===this.lockedAxis&&ui(g)===ui(y)&&(f=0),"x"===this.lockedAxis&&ui(g)===ui(y)&&(d=0),this.applyChange({originX:a,originY:s,panX:f,panY:d,scale:h,friction:this.option("dragFriction"),ignoreBounds:!0})}}}},{key:"onPointerUp",value:function(e,t,n){if(n.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(t),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),fi(e.target,this.content)&&"y"===this.lockedAxis&&(this.trackingPoints=[]),this.emit("touchEnd",e),this.isDragging=!1,this.lockedAxis=!1,this.state!==Oi.Destroy&&(e.defaultPrevented||this.startDecelAnim()))}},{key:"startDecelAnim",value:function(){var e=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;var t=!0,n=!1,i=void 0;try{for(var r,o=Ci[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.velocity[a]=0}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}this.target.e=this.current.e,this.target.f=this.current.f,_i(this.container,"is-scaling"),_i(this.container,"is-animating"),this.isTicking=!1;var s=this.trackingPoints,l=s[0],c=s[s.length-1],u=0,h=0,f=0;c&&l&&(u=c.clientX-l.clientX,h=c.clientY-l.clientY,f=c.time-l.time);var d=0,v=0,p=0,m=0,g=this.option("decelFriction"),y=this.targetScale;if(f>0){p=Math.abs(u)>3?u/(f/30):0,m=Math.abs(h)>3?h/(f/30):0;var b=this.option("maxVelocity");b&&(p=Math.max(Math.min(p,b),-1*b),m=Math.max(Math.min(m,b),-1*b))}p&&(d=p/(1/(1-g)-1)),m&&(v=m/(1/(1-g)-1)),("y"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"y"===this.lockedAxis&&ui(y)===this.minScale)&&(d=p=0),("x"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"x"===this.lockedAxis&&ui(y)===this.minScale)&&(v=m=0);var w=this.dragOffset.x,k=this.dragOffset.y,x=this.option("dragMinThreshold")||0;Math.abs(w)<x&&Math.abs(k)<x&&(d=v=0,p=m=0),(y<this.minScale-1e-5||y>this.maxScale+1e-5||e&&!d&&!v)&&(g=.35),this.applyChange({panX:d,panY:v,friction:g}),this.emit("decel",p,m,w,k)}},{key:"onWheel",value:function(e){var t=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),n=Math.max(-1,Math.min(1,t));if(this.emit("wheel",e,n),"mousemove"!==this.panMode&&!e.defaultPrevented){var i=this.option("wheel");"pan"===i?(e.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-e.deltaX,panY:2*-e.deltaY,bounce:!1})):"zoom"===i&&!1!==this.option("zoom")&&this.zoomWithWheel(e)}}},{key:"onMouseMove",value:function(e){this.panWithMouse(e)}},{key:"onKeydown",value:function(e){"Escape"===e.key&&this.toggleFS()}},{key:"onResize",value:function(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}},{key:"setTransform",value:function(){this.emit("beforeTransform");var e=this,t=e.current,n=e.target,i=e.content,r=e.contentRect,o=Object.assign({},Bi),a=!0,s=!1,l=void 0;try{for(var c,u=Ci[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value,f="e"==h||"f"===h?1e3:1e5;o[h]=ui(t[h],f),Math.abs(n[h]-t[h])<("e"==h||"f"===h?.51:.001)&&(t[h]=n[h])}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}var d=o.a,v=o.b,p=o.c,m=o.d,g=o.e,y=o.f,b="matrix(".concat(d,", ").concat(v,", ").concat(p,", ").concat(m,", ").concat(g,", ").concat(y,")"),w=i.parentElement instanceof HTMLPictureElement?i.parentElement:i;if(this.option("transformParent")&&(w=w.parentElement||w),w.style.transform!==b){w.style.transform=b;var k=this.calculateContentDim(),x=k.contentWidth,E=k.contentHeight;r.width=x,r.height=E,this.emit("afterTransform")}}},{key:"updateMetrics",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this&&this.state!==Oi.Destroy&&!this.isContentLoading){var t=this,n=t.container,i=t.content,r=i instanceof HTMLImageElement,o=n.getBoundingClientRect(),a=getComputedStyle(this.container),s=o.width,l=o.height,c=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom),u=s-(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)),h=l-c;this.containerRect={width:s,height:l,innerWidth:u,innerHeight:h};var f,d,v=this.option("width")||"auto",p=this.option("height")||"auto";"auto"===v&&(v=parseFloat(i.dataset.width||"")||(((d=i)instanceof HTMLImageElement?d.naturalWidth:d instanceof SVGElement?d.width.baseVal.value:Math.max(d.offsetWidth,d.scrollWidth))||0)),"auto"===p&&(p=parseFloat(i.dataset.height||"")||(((f=i)instanceof HTMLImageElement?f.naturalHeight:f instanceof SVGElement?f.height.baseVal.value:Math.max(f.offsetHeight,f.scrollHeight))||0));var m=i.parentElement instanceof HTMLPictureElement?i.parentElement:i;this.option("transformParent")&&(m=m.parentElement||m);var g=m.getAttribute("style")||"";m.style.setProperty("transform","none","important"),r&&(m.style.width="",m.style.height=""),m.offsetHeight;var y,b,w,k,x,E,S=i.getBoundingClientRect(),O=S.width,T=S.height,A=0,C=0;r&&(Math.abs(v-O)>1||Math.abs(p-T)>1)&&((E=(k=v)/(x=p))>(b=O)/(w=T)?(k=b,x=b/E):(k=w*E,x=w),O=(y={width:k,height:x,top:.5*(w-x),left:.5*(b-k)}).width,T=y.height,A=y.top,C=y.left),this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:S.top-o.top+A,bottom:o.bottom-S.bottom+A,left:S.left-o.left+C,right:o.right-S.right+C,fitWidth:O,fitHeight:T,width:O,height:T,fullWidth:v,fullHeight:p}),m.style.cssText=g,r&&(m.style.width="".concat(O,"px"),m.style.height="".concat(T,"px")),this.setTransform(),!0!==e&&this.emit("refresh"),this.ignoreBounds||(ui(this.targetScale)<ui(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===Oi.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}}},{key:"getBounds",value:function(){var e=this.option("bounds");if("auto"!==e)return e;var t=this.calculateContentDim(this.target),n=t.contentWidth,i=t.contentHeight,r=0,o=0,a=0,s=0,l=this.option("infinite");if(!0===l||this.lockedAxis&&l===this.lockedAxis)r=-1/0,a=1/0,o=-1/0,s=1/0;else{var c=this.containerRect,u=this.contentRect,h=ui(this.contentRect.fitWidth*this.targetScale,1e3),f=ui(this.contentRect.fitHeight*this.targetScale,1e3),d=c.innerWidth,v=c.innerHeight;if(this.containerRect.width===h&&(d=c.width),this.containerRect.width===f&&(v=c.height),n>d){r=-1*(a=.5*(n-d));var p=.5*(u.right-u.left);r+=p,a+=p}if(this.contentRect.fitWidth>d&&n<d&&(r-=.5*(this.contentRect.fitWidth-d),a-=.5*(this.contentRect.fitWidth-d)),i>v){o=-1*(s=.5*(i-v));var m=.5*(u.bottom-u.top);o+=m,s+=m}this.contentRect.fitHeight>v&&i<v&&(r-=.5*(this.contentRect.fitHeight-v),a-=.5*(this.contentRect.fitHeight-v))}return{x:{min:r,max:a},y:{min:o,max:s}}}},{key:"updateControls",value:function(){var e=this,t=e.container,n=e.panMode,i=e.contentRect,r=e.fullScale,o=e.targetScale,a=e.coverScale,s=e.maxScale,l=e.minScale,c={toggleMax:o-l<.5*(s-l)?s:l,toggleCover:o-l<.5*(a-l)?a:l,toggleZoom:o-l<.5*(r-l)?r:l}[e.option("click")||""]||l,u=e.canZoomIn(),h=e.canZoomOut(),f=h&&"drag"===n;ui(o)<ui(l)&&!this.panOnlyZoomed&&(f=!0),(ui(i.width,1)>ui(i.fitWidth,1)||ui(i.height,1)>ui(i.fitHeight,1))&&(f=!0),ui(i.width*o,1)<ui(i.fitWidth,1)&&(f=!1),"mousemove"===n&&(f=!1);var d=u&&ui(c)>ui(o),v=!d&&!f&&h&&ui(c)<ui(o);pi(t,this.cn("canZoomIn"),d),pi(t,this.cn("canZoomOut"),v),pi(t,this.cn("isDraggable"),f);var p=!0,m=!1,g=void 0;try{for(var y,b=t.querySelectorAll('[data-panzoom-action="zoomIn"]')[Symbol.iterator]();!(p=(y=b.next()).done);p=!0){var w=y.value;u?(w.removeAttribute("disabled"),w.removeAttribute("tabindex")):(w.setAttribute("disabled",""),w.setAttribute("tabindex","-1"))}}catch(e){m=!0,g=e}finally{try{p||null==b.return||b.return()}finally{if(m)throw g}}var k=!0,x=!1,E=void 0;try{for(var S,O=t.querySelectorAll('[data-panzoom-action="zoomOut"]')[Symbol.iterator]();!(k=(S=O.next()).done);k=!0){var T=S.value;h?(T.removeAttribute("disabled"),T.removeAttribute("tabindex")):(T.setAttribute("disabled",""),T.setAttribute("tabindex","-1"))}}catch(e){x=!0,E=e}finally{try{k||null==O.return||O.return()}finally{if(x)throw E}}var A=!0,C=!1,P=void 0;try{for(var M,L=t.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')[Symbol.iterator]();!(A=(M=L.next()).done);A=!0){var R=M.value;u||h?(R.removeAttribute("disabled"),R.removeAttribute("tabindex")):(R.setAttribute("disabled",""),R.setAttribute("tabindex","-1"));var _=R.querySelector("g");_&&(_.style.display=u?"":"none")}}catch(e){C=!0,P=e}finally{try{A||null==L.return||L.return()}finally{if(C)throw P}}}},{key:"panTo",value:function(e){var t=e.x,n=void 0===t?this.target.e:t,i=e.y,r=void 0===i?this.target.f:i,o=e.scale,a=void 0===o?this.targetScale:o,s=e.friction,l=void 0===s?this.option("friction"):s,c=e.angle,u=void 0===c?0:c,h=e.originX,f=void 0===h?0:h,d=e.originY,v=void 0===d?0:d,p=e.flipX,m=void 0!==p&&p,g=e.flipY,y=void 0!==g&&g,b=e.ignoreBounds,w=void 0!==b&&b;this.state!==Oi.Destroy&&this.applyChange({panX:n-this.target.e,panY:r-this.target.f,scale:a/this.targetScale,angle:u,originX:f,originY:v,friction:l,flipX:m,flipY:y,ignoreBounds:w})}},{key:"applyChange",value:function(e){var t=e.panX,n=void 0===t?0:t,i=e.panY,r=void 0===i?0:i,o=e.scale,a=void 0===o?1:o,s=e.angle,l=void 0===s?0:s,c=e.originX,u=void 0===c?-this.current.e:c,h=e.originY,f=void 0===h?-this.current.f:h,d=e.friction,v=void 0===d?this.option("friction"):d,p=e.flipX,m=void 0!==p&&p,g=e.flipY,y=void 0!==g&&g,b=e.ignoreBounds,w=void 0!==b&&b,k=e.bounce,x=void 0===k?this.option("bounce"):k;if(this.state!==Oi.Destroy){this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=v||0,this.ignoreBounds=w;var E=this.current,S=E.e,O=E.f,T=this.getMatrix(this.target),A=(new DOMMatrix).translate(S,O).translate(u,f).translate(n,r);if(this.option("zoom")){if(!w){var C=this.targetScale,P=this.minScale,M=this.maxScale;C*a<P&&(a=P/C),C*a>M&&(a=M/C)}A=A.scale(a)}A=A.translate(-u,-f).translate(-S,-O).multiply(T),l&&(A=A.rotate(l)),m&&(A=A.scale(-1,1)),y&&(A=A.scale(1,-1));var L=!0,R=!1,_=void 0;try{for(var z,B=Ci[Symbol.iterator]();!(L=(z=B.next()).done);L=!0){var I=z.value;"e"!==I&&"f"!==I&&(A[I]>this.minScale+1e-5||A[I]<this.minScale-1e-5)?this.target[I]=A[I]:this.target[I]=ui(A[I],1e3)}}catch(e){R=!0,_=e}finally{try{L||null==B.return||B.return()}finally{if(R)throw _}}(this.targetScale<this.scale||Math.abs(a-1)>.1||"mousemove"===this.panMode||!1===x)&&!w&&this.clampTargetBounds(),this.isResting||(this.state=Oi.Panning,this.requestTick())}}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.state!==Oi.Init&&this.state!==Oi.Destroy){var t=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;var n=!0,i=!1,r=void 0;try{for(var o,a=Ci[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.velocity[s]=0,"current"===e?this.current[s]=this.target[s]:"target"===e&&(this.target[s]=this.current[s])}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}this.setTransform(),_i(this.container,"is-scaling"),_i(this.container,"is-animating"),this.isTicking=!1,this.state=Oi.Ready,t&&(this.emit("endAnimation"),this.updateControls())}}},{key:"requestTick",value:function(){var e=this;this.isTicking||(this.emit("startAnimation"),this.updateControls(),zi(this.container,"is-animating"),this.isScaling&&zi(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame((function(){return e.animate()})))}},{key:"panWithMouse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.option("mouseMoveFriction");if(this.pmme=e,"mousemove"===this.panMode&&e&&!(ui(this.targetScale)<=ui(this.minScale))){this.emit("mouseMove",e);var n=this,i=n.container,r=n.containerRect,o=n.contentRect,a=r.width,s=r.height,l=i.getBoundingClientRect(),c=(e.clientX||0)-l.left,u=(e.clientY||0)-l.top,h=this.calculateContentDim(this.target),f=h.contentWidth,d=h.contentHeight,v=this.option("mouseMoveFactor");v>1&&(f!==a&&(f*=v),d!==s&&(d*=v));var p=.5*(f-a)-c/a*100/100*(f-a);p+=.5*(o.right-o.left);var m=.5*(d-s)-u/s*100/100*(d-s);m+=.5*(o.bottom-o.top),this.applyChange({panX:p-this.target.e,panY:m-this.target.f,friction:t})}}},{key:"zoomWithWheel",value:function(e){if(this.state!==Oi.Destroy&&this.state!==Oi.Init){var t=Date.now();if(t-this.pwt<45)e.preventDefault();else{this.pwt=t;var n=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),i=Math.max(-1,Math.min(1,n)),r=this,o=r.targetScale,a=r.maxScale,s=r.minScale,l=o*(100+45*i)/100;ui(l)<ui(s)&&ui(o)<=ui(s)?(this.cwd+=Math.abs(i),l=s):ui(l)>ui(a)&&ui(o)>=ui(a)?(this.cwd+=Math.abs(i),l=a):(this.cwd=0,l=Math.max(Math.min(l,a),s)),this.cwd>this.option("wheelLimit")||(e.preventDefault(),ui(l)!==ui(o)&&this.zoomTo(l,{event:e}))}}}},{key:"canZoomIn",value:function(){return this.option("zoom")&&(ui(this.contentRect.width,1)<ui(this.contentRect.fitWidth,1)||ui(this.targetScale)<ui(this.maxScale))}},{key:"canZoomOut",value:function(){return this.option("zoom")&&ui(this.targetScale)>ui(this.minScale)}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.25,t=arguments.length>1?arguments[1]:void 0;this.zoomTo(this.targetScale*e,t)}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.8,t=arguments.length>1?arguments[1]:void 0;this.zoomTo(this.targetScale*e,t)}},{key:"zoomToFit",value:function(e){this.zoomTo("fit",e)}},{key:"zoomToCover",value:function(e){this.zoomTo("cover",e)}},{key:"zoomToFull",value:function(e){this.zoomTo("full",e)}},{key:"zoomToMax",value:function(e){this.zoomTo("max",e)}},{key:"toggleZoom",value:function(e){this.zoomTo(this.targetScale-this.minScale<.5*(this.fullScale-this.minScale)?"full":"fit",e)}},{key:"toggleMax",value:function(e){this.zoomTo(this.targetScale-this.minScale<.5*(this.maxScale-this.minScale)?"max":"fit",e)}},{key:"toggleCover",value:function(e){this.zoomTo(this.targetScale-this.minScale<.5*(this.coverScale-this.minScale)?"cover":"fit",e)}},{key:"iterateZoom",value:function(e){this.zoomTo("next",e)}},{key:"zoomTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.friction,i=void 0===n?"auto":n,r=t.originX,o=void 0===r?0:r,a=t.originY,s=void 0===a?0:a,l=t.event;if(!this.isContentLoading&&this.state!==Oi.Destroy){var c=this,u=c.targetScale;this.stop();var h=1;if("mousemove"===this.panMode&&(l=this.pmme||l),l){var f=this.content.getBoundingClientRect(),d=l.clientX||0,v=l.clientY||0;o=d-f.left-.5*f.width,s=v-f.top-.5*f.height}var p=this.fullScale,m=this.maxScale,g=this.coverScale;"number"==typeof e?h=e/u:("next"===e&&(p-g<.2&&(g=p),e=u<p-1e-5?"full":u<m-1e-5?"max":"fit"),h="full"===e?p/u||1:"cover"===e?g/u||1:"max"===e?m/u||1:1/u||1),i="auto"===i?h>1?.15:.25:i,this.applyChange({scale:h,originX:o,originY:s,friction:i}),l&&"mousemove"===this.panMode&&this.panWithMouse(l,i)}}},{key:"rotateCCW",value:function(){this.applyChange({angle:-90})}},{key:"rotateCW",value:function(){this.applyChange({angle:90})}},{key:"flipX",value:function(){this.applyChange({flipX:!0})}},{key:"flipY",value:function(){this.applyChange({flipY:!0})}},{key:"fitX",value:function(){this.stop("target");var e=this,t=e.containerRect,n=e.contentRect,i=e.target;this.applyChange({panX:.5*t.width-(n.left+.5*n.fitWidth)-i.e,panY:.5*t.height-(n.top+.5*n.fitHeight)-i.f,scale:t.width/n.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}},{key:"fitY",value:function(){this.stop("target");var e=this,t=e.containerRect,n=e.contentRect,i=e.target;this.applyChange({panX:.5*t.width-(n.left+.5*n.fitWidth)-i.e,panY:.5*t.innerHeight-(n.top+.5*n.fitHeight)-i.f,scale:t.height/n.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}},{key:"toggleFS",value:function(){var e=this.container,t=this.cn("inFullscreen"),n=this.cn("htmlHasFullscreen");e.classList.toggle(t);var i=e.classList.contains(t);i?(document.documentElement.classList.add(n),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(n),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(i?"enterFS":"exitFS")}},{key:"getMatrix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current,t=e.a,n=e.b,i=e.c,r=e.d,o=e.e,a=e.f;return new DOMMatrix([t,n,i,r,o,a])}},{key:"reset",value:function(e){if(this.state!==Oi.Init&&this.state!==Oi.Destroy){this.stop("current");var t=!0,n=!1,i=void 0;try{for(var r,o=Ci[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.target[a]=Bi[a]}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=void 0===e?this.option("friction"):e,this.state=Oi.Panning,this.requestTick())}}},{key:"destroy",value:function(){this.stop(),this.state=Oi.Destroy,this.detachEvents(),this.detachObserver();var e=this.container,t=this.content,n=this.option("classes")||{},i=!0,r=!1,o=void 0;try{for(var a,s=Object.values(n)[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;e.classList.remove(l+"")}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}t&&(t.removeEventListener("load",this.onLoad),t.removeEventListener("error",this.onError)),this.detachPlugins()}}]),i}(Ai);Object.defineProperty(Ni,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Mi}),Object.defineProperty(Ni,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});var Fi,Di,Hi=function(t,n){var i=!0;return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];i&&(i=!1,t.apply(void 0,e(Bt)(o)),setTimeout((function(){i=!0}),n))}},Ui=function(e,t){var n=[];return e.childNodes.forEach((function(e){e.nodeType!==Node.ELEMENT_NODE||t&&!e.matches(t)||n.push(e)})),n};(Di=Fi||(Fi={}))[Di.Init=0]="Init",Di[Di.Ready=1]="Ready",Di[Di.Destroy=2]="Destroy";var qi=function(e){if("string"==typeof e&&(e={html:e}),!(e instanceof String||e instanceof HTMLElement)){var t=e.thumb;void 0!==t&&("string"==typeof t&&(e.thumbSrc=t),t instanceof HTMLImageElement&&(e.thumbEl=t,e.thumbElSrc=t.src,e.thumbSrc=t.src),delete e.thumb)}return Object.assign({html:"",el:null,isDom:!1,class:"",index:-1,dim:0,gap:0,pos:0,transition:!1},e)},Wi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({index:-1,slides:[],dim:0,pos:-1},e)},Xi=function(t){"use strict";e(ae)(i,t);var n=e(se)(i);function i(t,r){var o;return e(s)(this,i),o=n.call(this,r),Object.defineProperty(e(oe)(o),"instance",{enumerable:!0,configurable:!0,writable:!0,value:t}),e(ci)(o)}return e(p)(i,[{key:"attach",value:function(){}},{key:"detach",value:function(){}}]),i}(Si),Yi=function(t){"use strict";e(ae)(i,t);var n=e(se)(i);function i(){var t;return e(s)(this,i),t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(e(oe)(t),"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e(oe)(t),"list",{enumerable:!0,configurable:!0,writable:!0,value:null}),e(ci)(t)}return e(p)(i,[{key:"onRefresh",value:function(){this.refresh()}},{key:"build",value:function(){var e=this.list;return e||(e=document.createElement("ul"),zi(e,this.cn("list")),e.setAttribute("role","tablist"),this.instance.container.appendChild(e),zi(this.instance.container,this.cn("hasDots")),this.list=e),e}},{key:"refresh",value:function(){var t,n=this.instance.pages.length,i=Math.min(2,this.option("minCount")),r=Math.max(2e3,this.option("maxCount")),o=this.option("dynamicFrom");if(n<i||n>r)this.cleanup();else{var a="number"==typeof o&&n>5&&n>=o,s=!this.list||this.isDynamic!==a||this.list.children.length!==n;s&&this.cleanup();var l=this.build();if(pi(l,this.cn("isDynamic"),!!a),s)for(var c=0;c<n;c++)l.append(this.createItem(c));var u,h=0,f=!0,d=!1,v=void 0;try{for(var p,m=e(Bt)(l.children)[Symbol.iterator]();!(f=(p=m.next()).done);f=!0){var g=p.value,y=h===this.instance.page;y&&(u=g),pi(g,this.cn("isCurrent"),y),null===(t=g.children[0])||void 0===t||t.setAttribute("aria-selected",y?"true":"false");var b=!0,w=!1,k=void 0;try{for(var x,E=["isBeforePrev","isPrev","isNext","isAfterNext"][Symbol.iterator]();!(b=(x=E.next()).done);b=!0){var S=x.value;_i(g,this.cn(S))}}catch(e){w=!0,k=e}finally{try{b||null==E.return||E.return()}finally{if(w)throw k}}h++}}catch(e){d=!0,v=e}finally{try{f||null==m.return||m.return()}finally{if(d)throw v}}if(u=u||l.firstChild,a&&u){var O=u.previousElementSibling,T=O&&O.previousElementSibling;zi(O,this.cn("isPrev")),zi(T,this.cn("isBeforePrev"));var A=u.nextElementSibling,C=A&&A.nextElementSibling;zi(A,this.cn("isNext")),zi(C,this.cn("isAfterNext"))}this.isDynamic=a}}},{key:"createItem",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=document.createElement("li");n.setAttribute("role","presentation");var i=di(this.instance.localize(this.option("dotTpl"),[["%d",t+1]]).replace(/\%i/g,t+""));return n.appendChild(i),null===(e=n.children[0])||void 0===e||e.setAttribute("role","tab"),n}},{key:"cleanup",value:function(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,_i(this.instance.container,this.cn("hasDots"))}},{key:"attach",value:function(){this.instance.on(["refresh","change"],this.onRefresh)}},{key:"detach",value:function(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}]),i}(Xi);Object.defineProperty(Yi,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2}});var Vi=function(t){"use strict";e(ae)(i,t);var n=e(se)(i);function i(){var t;return e(s)(this,i),t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(e(oe)(t),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(t),"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(t),"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),e(ci)(t)}return e(p)(i,[{key:"onRefresh",value:function(){var e=this.instance,t=e.pages.length,n=e.page;if(t<2)this.cleanup();else{this.build();var i=this.prev,r=this.next;i&&r&&(i.removeAttribute("disabled"),r.removeAttribute("disabled"),e.isInfinite||(n<=0&&i.setAttribute("disabled",""),n>=t-1&&r.setAttribute("disabled","")))}}},{key:"createButton",value:function(e){var t=this.instance,n=document.createElement("button");n.setAttribute("tabindex","0"),n.setAttribute("title",t.localize("{{".concat(e.toUpperCase(),"}}"))),zi(n,this.cn("button")+" "+this.cn("next"===e?"isNext":"isPrev"));var i,r=t.isRTL?"next"===e?"prev":"next":e;return n.innerHTML=t.localize(this.option("".concat(r,"Tpl"))),n.dataset["carousel".concat((i=e,i?i.match("^[a-z]")?i.charAt(0).toUpperCase()+i.substring(1):i:""))]="true",n}},{key:"build",value:function(){var e=this.container;e||(this.container=e=document.createElement("div"),zi(e,this.cn("container")),this.instance.container.appendChild(e)),this.next||(this.next=e.appendChild(this.createButton("next"))),this.prev||(this.prev=e.appendChild(this.createButton("prev")))}},{key:"cleanup",value:function(){this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove(),this.prev=null,this.next=null,this.container=null}},{key:"attach",value:function(){this.instance.on(["refresh","change"],this.onRefresh)}},{key:"detach",value:function(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}]),i}(Xi);Object.defineProperty(Vi,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}});var Gi=function(t){"use strict";e(ae)(i,t);var n=e(se)(i);function i(){var t;return e(s)(this,i),t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(e(oe)(t),"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(t),"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(t),"nav",{enumerable:!0,configurable:!0,writable:!0,value:null}),e(ci)(t)}return e(p)(i,[{key:"addAsTargetFor",value:function(e){this.target=this.instance,this.nav=e,this.attachEvents()}},{key:"addAsNavFor",value:function(e){this.nav=this.instance,this.target=e,this.attachEvents()}},{key:"attachEvents",value:function(){this.nav&&this.target&&(this.nav.options.initialSlide=this.target.options.initialPage,this.nav.on("ready",this.onNavReady),this.nav.state===Fi.Ready&&this.onNavReady(this.nav),this.target.on("ready",this.onTargetReady),this.target.state===Fi.Ready&&this.onTargetReady(this.target))}},{key:"onNavReady",value:function(e){e.on("createSlide",this.onNavCreateSlide),e.on("Panzoom.click",this.onNavClick),e.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()}},{key:"onTargetReady",value:function(e){e.on("change",this.onTargetChange),e.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()}},{key:"onNavClick",value:function(e,t,n){n.pointerType||this.onNavTouch(e,e.panzoom,n)}},{key:"onNavTouch",value:function(e,t,n){var i,r;if(!(Math.abs(t.dragOffset.x)>3||Math.abs(t.dragOffset.y)>3)){var o=n.target,a=this.nav,s=this.target;if(a&&s&&o){var l=o.closest("[data-index]");if(n.stopPropagation(),n.preventDefault(),l){var c=parseInt(l.dataset.index||"",10)||0,u=s.getPageForSlide(c),h=a.getPageForSlide(c);a.slideTo(h),s.slideTo(u,{friction:null===(r=null===(i=this.nav)||void 0===i?void 0:i.plugins)||void 0===r?void 0:r.Sync.option("friction")}),this.markSelectedSlide(c)}}}}},{key:"onNavCreateSlide",value:function(e,t){t.index===this.selectedIndex&&this.markSelectedSlide(t.index)}},{key:"onTargetChange",value:function(){var e=this.target,t=this.nav;if(e&&t&&t.state===Fi.Ready&&e.state===Fi.Ready){var n=e.pages[e.page].slides[0].index,i=t.getPageForSlide(n);this.markSelectedSlide(n),t.slideTo(i)}}},{key:"markSelectedSlide",value:function(t){var n=this.nav;n&&n.state===Fi.Ready&&(this.selectedIndex=t,e(Bt)(n.slides).map((function(e){e.el&&e.el.classList[e.index===t?"add":"remove"]("is-nav-selected")})))}},{key:"attach",value:function(){var e=this.options.target,t=this.options.nav;e?this.addAsNavFor(e):t&&this.addAsTargetFor(t)}},{key:"detach",value:function(){this.nav&&(this.nav.off("ready",this.onNavReady),this.nav.off("createSlide",this.onNavCreateSlide),this.nav.off("Panzoom.click",this.onNavClick),this.nav.off("Panzoom.touchEnd",this.onNavTouch)),this.nav=null,this.target&&(this.target.off("ready",this.onTargetReady),this.target.off("refresh",this.onTargetChange),this.target.off("change",this.onTargetChange)),this.target=null}}]),i}(Xi);Object.defineProperty(Gi,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});var Zi={Navigation:Vi,Dots:Yi,Sync:Gi},Ji=function(t){"use strict";e(ae)(i,t);var n=e(se)(i);function i(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e(s)(this,i),r=n.call(this),Object.defineProperty(e(oe)(r),"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e(oe)(r),"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e(oe)(r),"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(e(oe)(r),"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(oe)(r),"state",{enumerable:!0,configurable:!0,writable:!0,value:Fi.Init}),Object.defineProperty(e(oe)(r),"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(oe)(r),"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(r),"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e(oe)(r),"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(r),"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(r),"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e(oe)(r),"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e(oe)(r),"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(r),"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(e(oe)(r),"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(oe)(r),"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),"string"==typeof t&&(t=document.querySelector(t)),!t||!Ri(t))throw new Error("No Element found");return r.container=t,r.slideNext=Hi(r.slideNext.bind(e(oe)(r)),150),r.slidePrev=Hi(r.slidePrev.bind(e(oe)(r)),150),r.userOptions=o,r.userPlugins=a,queueMicrotask((function(){r.processOptions()})),e(ci)(r)}return e(p)(i,[{key:"axis",get:function(){return this.isHorizontal?"e":"f"}},{key:"isEnabled",get:function(){return this.state===Fi.Ready}},{key:"isInfinite",get:function(){var e=!1,t=this.contentDim,n=this.viewportDim;return this.pages.length>=2&&t>1.5*n&&(e=this.option("infinite")),e}},{key:"isRTL",get:function(){return"rtl"===this.option("direction")}},{key:"isHorizontal",get:function(){return"x"===this.option("axis")}},{key:"processOptions",value:function(){var t=this,n=xi({},i.defaults,this.userOptions),r="",o=n.breakpoints,a=!0,s=!1,l=void 0;if(o&&ki(o))try{for(var c,u=Object.entries(o)[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=e(zt)(c.value,2),f=h[0],d=h[1];window.matchMedia(f).matches&&ki(d)&&(r+=f,xi(n,d))}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}r===this.bp&&this.state!==Fi.Init||(this.bp=r,this.state===Fi.Ready&&(n.initialSlide=this.pages[this.page].slides[0].index),this.state!==Fi.Init&&this.destroy(),e(si)(e(li)(i.prototype),"setOptions",this).call(this,n),!1===this.option("enabled")?this.attachEvents():setTimeout((function(){t.init()}),0))}},{key:"init",value:function(){this.state=Fi.Init,this.emit("init"),this.attachPlugins(Object.assign(Object.assign({},i.Plugins),this.userPlugins)),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=Fi.Ready,this.emit("ready")}},{key:"initLayout",value:function(){var t,n,i=this.container,r=this.option("classes");zi(i,this.cn("container")),pi(i,r.isLTR,!this.isRTL),pi(i,r.isRTL,this.isRTL),pi(i,r.isVertical,!this.isHorizontal),pi(i,r.isHorizontal,this.isHorizontal);var o=this.option("viewport")||i.querySelector(".".concat(r.viewport));o||(o=document.createElement("div"),zi(o,r.viewport),(t=o).append.apply(t,e(Bt)(Ui(i,".".concat(r.slide)))),i.prepend(o));var a=this.option("track")||i.querySelector(".".concat(r.track));a||(a=document.createElement("div"),zi(a,r.track),(n=a).append.apply(n,e(Bt)(Array.from(o.childNodes)))),a.setAttribute("aria-live","polite"),o.contains(a)||o.prepend(a),this.viewport=o,this.track=a,this.emit("initLayout")}},{key:"initSlides",value:function(){var t=this.track;if(t){var n=this;this.slides=[],e(Bt)(Ui(t,".".concat(this.cn("slide")))).forEach((function(e){if(Ri(e)){var t=qi({el:e,isDom:!0,index:n.slides.length});n.slides.push(t),n.emit("initSlide",t,n.slides.length)}}));var i=!0,r=!1,o=void 0;try{for(var a,s=this.option("slides",[])[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,c=qi(l);c.index=this.slides.length,this.slides.push(c),this.emit("initSlide",c,this.slides.length)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}this.emit("initSlides")}}},{key:"setInitialPage",value:function(){var e,t=this.option("initialSlide");e="number"==typeof t?this.getPageForSlide(t):parseInt(this.option("initialPage",0)+"",10)||0,this.page=e}},{key:"setInitialPosition",value:function(){if(this.track&&this.pages.length){var e=this.isHorizontal,t=this.page;this.pages[t]||(this.page=t=0);var n=this.pages[t].pos*(this.isRTL&&e?1:-1),i=e?"".concat(n,"px"):"0",r=e?"0":"".concat(n,"px");this.track.style.transform="translate3d(".concat(i,", ").concat(r,", 0) scale(1)"),this.option("adaptiveHeight")&&this.setViewportHeight()}}},{key:"initPanzoom",value:function(){var t=this;this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);var n=this.option("Panzoom")||{};this.panzoom=new Ni(this.viewport,xi({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:function(e){return!(t.pages.length<2&&!e.options.infinite)},bounds:function(){return t.getBounds()},maxVelocity:function(e){return Math.abs(e.target[t.axis]-e.current[t.axis])<2*t.viewportDim?100:0}},n)),this.panzoom.on("*",(function(n,i){for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];t.emit.apply(t,["Panzoom.".concat(i),n].concat(e(Bt)(o)))})),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)}},{key:"attachEvents",value:function(){var e=this.container;e&&(e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)}},{key:"createPages",value:function(){var e=[],t=this.contentDim,n=this.viewportDim,i=this.option("slidesPerPage");("number"!=typeof i||t<=n)&&(i=1/0);var r=0,o=0,a=0,s=!0,l=!1,c=void 0;try{for(var u,h=this.slides[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var f=u.value;(!e.length||o+f.dim>n||a===i)&&(e.push(Wi()),r=e.length-1,o=0,a=0),e[r].slides.push(f),o+=f.dim+f.gap,a++}}catch(e){l=!0,c=e}finally{try{s||null==h.return||h.return()}finally{if(l)throw c}}return e}},{key:"processPages",value:function(){var t=this,n=this.pages,i=this.contentDim,r=this.viewportDim,o=this.option("center"),a=this.option("fill"),s=a&&o&&i>r&&!this.isInfinite;if(n.forEach((function(t,n){t.index=n,t.pos=t.slides[0].pos,t.dim=0;var a=!0,l=!1,c=void 0;try{for(var u,h=t.slides.entries()[Symbol.iterator]();!(a=(u=h.next()).done);a=!0){var f=e(zt)(u.value,2),d=f[0],v=f[1];t.dim+=v.dim,d<t.slides.length-1&&(t.dim+=v.gap)}}catch(e){l=!0,c=e}finally{try{a||null==h.return||h.return()}finally{if(l)throw c}}s&&t.pos+.5*t.dim<.5*r?t.pos=0:s&&t.pos+.5*t.dim>=i-.5*r?t.pos=i-r:o&&(t.pos+=-.5*(r-t.dim))})),n.forEach((function(e,n){a&&!t.isInfinite&&i>r&&(e.pos=Math.max(e.pos,0),e.pos=Math.min(e.pos,i-r)),e.pos=ui(e.pos,1e3),e.dim=ui(e.dim,1e3),e.pos<.1&&e.pos>-.1&&(e.pos=0)})),this.isInfinite)return n;var l,c=[];return n.forEach((function(t){var n=Object.assign({},t);l&&n.pos===l.pos?(l.dim+=n.dim,l.slides=e(Bt)(l.slides).concat(e(Bt)(n.slides))):(n.index=c.length,l=n,c.push(n))})),c}},{key:"getPageFromIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.pages.length;return e=parseInt((e||0).toString())||0,this.isInfinite?(e%t+t)%t:Math.max(Math.min(e,t-1),0)}},{key:"getSlideMetrics",value:function(e){var t,n=this.isHorizontal?"width":"height",i=0,r=e.el;r?i=parseFloat(r.dataset[n]||"")||0:((r=document.createElement("div")).style.visibility="hidden",zi(r,this.cn("slide")+" "+e.class),(this.track||document.body).prepend(r)),i?(r.style[n]="".concat(i,"px"),r.style["width"===n?"height":"width"]=""):i=r.getBoundingClientRect()[n];var o=getComputedStyle(r);return"content-box"===o.boxSizing&&(this.isHorizontal?(i+=parseFloat(o.paddingLeft)||0,i+=parseFloat(o.paddingRight)||0):(i+=parseFloat(o.paddingTop)||0,i+=parseFloat(o.paddingBottom)||0)),t=parseFloat(o[this.isHorizontal?"marginRight":"marginBottom"])||0,this.isHorizontal,e.el||r.remove(),{dim:ui(i,1e3),gap:ui(t,1e3)}}},{key:"getBounds",value:function(){var e={min:0,max:0};if(this.isInfinite)e={min:-1/0,max:1/0};else if(this.pages.length){var t=this.pages[0].pos,n=this.pages[this.pages.length-1].pos;e=this.isRTL&&this.isHorizontal?{min:t,max:n}:{min:-1*n,max:-1*t}}return{x:this.isHorizontal?e:{min:0,max:0},y:this.isHorizontal?{min:0,max:0}:e}}},{key:"repositionSlides",value:function(){var t,n=this,i=n.viewport,r=n.viewportDim,o=n.contentDim,a=n.page,s=n.pages,l=0,c=0,u=0,h=0;this.panzoom?h=-1*this.panzoom.current[this.axis]:s[a]&&(h=s[a].pos||0),t=this.isHorizontal?this.isRTL?"right":"left":"top",this.isRTL&&this.isHorizontal&&(h*=-1);var f=!0,d=!1,v=void 0;try{for(var p,m=this.slides[Symbol.iterator]();!(f=(p=m.next()).done);f=!0){var g=p.value;g.el?("top"===t?(g.el.style.right="",g.el.style.left=""):g.el.style.top="",g.index!==l?g.el.style[t]=0===c?"":"".concat(ui(c,1e3),"px"):g.el.style[t]="",u+=g.dim+g.gap,l++):c+=g.dim+g.gap}}catch(e){d=!0,v=e}finally{try{f||null==m.return||m.return()}finally{if(d)throw v}}if(this.isInfinite&&u&&i){var y=this.isHorizontal,b=getComputedStyle(i),w="padding",k=y?"Right":"Bottom",x=parseFloat(b[w+(y?"Left":"Top")]);h-=x,r+=x,r+=parseFloat(b[w+k]);var E=!0,S=!1,O=void 0;try{for(var T,A=this.slides[Symbol.iterator]();!(E=(T=A.next()).done);E=!0){var C=T.value;C.el&&(ui(C.pos)<ui(r)&&ui(C.pos+C.dim+C.gap)<ui(h)&&ui(h)>ui(o-r)&&(C.el.style[t]="".concat(ui(c+u,1e3),"px")),ui(C.pos+C.gap)>=ui(o-r)&&ui(C.pos)>ui(h+r)&&ui(h)<ui(r)&&(C.el.style[t]="-".concat(ui(u,1e3),"px")))}}catch(e){S=!0,O=e}finally{try{E||null==A.return||A.return()}finally{if(S)throw O}}}var P,M,L=e(Bt)(this.inTransition);if(L.length>1&&(P=this.pages[L[0]],M=this.pages[L[1]]),P&&M){var R=0,_=!0,z=!1,B=void 0;try{for(var I,j=this.slides[Symbol.iterator]();!(_=(I=j.next()).done);_=!0){var N=I.value;N.el?this.inTransition.has(N.index)&&P.slides.indexOf(N)<0&&(N.el.style[t]="".concat(ui(R+(P.pos-M.pos),1e3),"px")):R+=N.dim+N.gap}}catch(e){z=!0,B=e}finally{try{_||null==j.return||j.return()}finally{if(z)throw B}}}}},{key:"createSlideEl",value:function(e){if(this.track&&e&&!e.el){var t=document.createElement("div");zi(t,this.cn("slide")),zi(t,e.class),zi(t,e.customClass),e.html&&(t.innerHTML=e.html);var n=[];this.slides.forEach((function(e,t){e.el&&n.push(t)}));var i=e.index,r=null;if(n.length){var o=n.reduce((function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e}));r=this.slides[o]}var a=r&&r.el?r.index<e.index?r.el.nextSibling:r.el:null;this.track.insertBefore(t,this.track.contains(a)?a:null),e.el=t,this.emit("createSlide",e)}}},{key:"removeSlideEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.el;if(n){if(_i(n,this.cn("isSelected")),e.isDom&&!t)return n.removeAttribute("aria-hidden"),n.removeAttribute("data-index"),_i(n,this.cn("isSelected")),void(n.style.left="");this.emit("removeSlide",e);var i=new CustomEvent("animationend");n.dispatchEvent(i),e.el&&e.el.remove(),e.el=null}}},{key:"transitionTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.option("transition");if(!t)return!1;var n=this,i=n.pages,r=n.panzoom;e=parseInt((e||0).toString())||0;var o=this.getPageFromIndex(e);if(!r||!i[o]||i.length<2||Math.abs(i[this.page].slides[0].dim-this.viewportDim)>1)return!1;var a=e>this.page?1:-1,s=this.pages[o].pos*(this.isRTL?1:-1);if(this.page===o&&ui(s,1e3)===ui(r.target[this.axis],1e3))return!1;this.clearTransitions();var l=r.isResting;zi(this.container,this.cn("inTransition"));var c=this.pages[this.page].slides[0],u=this.pages[o].slides[0];this.inTransition.add(u.index),this.createSlideEl(u);var h=c.el,f=u.el;l||"slide"===t||(t="fadeFast",h=null);var d=this.isRTL?"next":"prev",v=this.isRTL?"prev":"next";return h&&(this.inTransition.add(c.index),c.transition=t,h.addEventListener("animationend",this.onAnimationEnd),h.classList.add("f-".concat(t,"Out"),"to-".concat(a>0?v:d))),f&&(u.transition=t,f.addEventListener("animationend",this.onAnimationEnd),f.classList.add("f-".concat(t,"In"),"from-".concat(a>0?d:v))),r.panTo({x:this.isHorizontal?s:0,y:this.isHorizontal?0:s,friction:0}),this.onChange(o),!0}},{key:"manageSlideVisiblity",value:function(){var e=new Set,t=new Set,n=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0),i=!0,r=!1,o=void 0;try{for(var a,s=this.slides[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n.has(l)?e.add(l):t.add(l)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}var c=!0,u=!1,h=void 0;try{for(var f,d=this.inTransition[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var v=f.value;e.add(this.slides[v])}}catch(e){u=!0,h=e}finally{try{c||null==d.return||d.return()}finally{if(u)throw h}}var p=!0,m=!1,g=void 0;try{for(var y,b=e[Symbol.iterator]();!(p=(y=b.next()).done);p=!0){var w=y.value;this.createSlideEl(w),this.lazyLoadSlide(w)}}catch(e){m=!0,g=e}finally{try{p||null==b.return||b.return()}finally{if(m)throw g}}var k=!0,x=!1,E=void 0;try{for(var S,O=t[Symbol.iterator]();!(k=(S=O.next()).done);k=!0){var T=S.value;e.has(T)||this.removeSlideEl(T)}}catch(e){x=!0,E=e}finally{try{k||null==O.return||O.return()}finally{if(x)throw E}}this.markSelectedSlides(),this.repositionSlides()}},{key:"markSelectedSlides",value:function(){if(this.pages[this.page]&&this.pages[this.page].slides){var e="aria-hidden",t=this.cn("isSelected"),n=!0,i=!1,r=void 0;if(t)try{for(var o,a=this.slides[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.el&&(s.el.dataset.index="".concat(s.index),this.pages[this.page].slides.includes(s)?(s.el.classList.contains(t)||(zi(s.el,t),this.emit("selectSlide",s)),s.el.removeAttribute(e)):(s.el.classList.contains(t)&&(_i(s.el,t),this.emit("unselectSlide",s)),s.el.setAttribute(e,"true")))}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}}},{key:"flipInfiniteTrack",value:function(){var e=this.panzoom;if(e&&this.isInfinite){var t="x"===this.option("axis")?"e":"f",n=this.viewportDim,i=this.contentDim,r=e.current[t],o=e.target[t]-r,a=0,s=.5*n,l=i;this.isRTL&&this.isHorizontal?(r<-s&&(a=-1,r+=l),r>l-s&&(a=1,r-=l)):(r>s&&(a=1,r-=l),r<-l+s&&(a=-1,r+=l)),a&&(e.current[t]=r,e.target[t]=r+o)}}},{key:"lazyLoadSlide",value:function(e){var t=this,n=this,i=e&&e.el;if(i){var r=new Set,o="f-fadeIn";i.querySelectorAll("[data-lazy-srcset]").forEach((function(e){e instanceof HTMLImageElement&&r.add(e)}));var a=Array.from(i.querySelectorAll("[data-lazy-src]"));i.dataset.lazySrc&&a.push(i),a.map((function(e){e instanceof HTMLImageElement?r.add(e):Ri(e)&&(e.style.backgroundImage="url('".concat(e.dataset.lazySrc||"","')"),delete e.dataset.lazySrc)}));var s=function(e,i,r){r&&(r.remove(),r=null),i.complete&&(i.classList.add(o),setTimeout((function(){i.classList.remove(o)}),350),i.style.display=""),t.option("adaptiveHeight")&&e.el&&t.pages[t.page].slides.indexOf(e)>-1&&(n.updateMetrics(),n.setViewportHeight()),t.emit("load",e)},l=!0,c=!1,u=void 0;try{for(var h,f=function(t,n){var i=n.value,r=null;i.src=i.dataset.lazySrcset||i.dataset.lazySrc||"",delete i.dataset.lazySrc,delete i.dataset.lazySrcset,i.style.display="none",i.addEventListener("error",(function(){s(e,i,r)})),i.addEventListener("load",(function(){s(e,i,r)})),setTimeout((function(){i.parentNode&&e.el&&(i.complete?s(e,i,r):(r=di(Li),i.parentNode.insertBefore(r,i)))}),300)},d=r[Symbol.iterator]();!(l=(h=d.next()).done);l=!0)f(0,h)}catch(e){c=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}}}},{key:"onAnimationEnd",value:function(e){var t,n=e.target,i=n?parseInt(n.dataset.index||"",10)||0:-1,r=this.slides[i],o=e.animationName;if(n&&r&&o){var a=!!this.inTransition.has(i)&&r.transition;a&&o.substring(0,a.length+2)==="f-".concat(a)&&this.inTransition.delete(i),this.inTransition.size||this.clearTransitions(),i===this.page&&(null===(t=this.panzoom)||void 0===t?void 0:t.isResting)&&this.emit("settle")}}},{key:"onDecel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this,r=i.isRTL,o=i.isHorizontal,a=i.axis,s=i.pages,l=s.length,c=Math.abs(Math.atan2(n,t)/(Math.PI/180)),u=0;if(u=c>45&&c<135?o?0:n:o?t:0,l){var h=this.option("dragFree"),f=this.page,d=r&&o?1:-1,v=e.target[a]*d,p=e.current[a]*d,m=this.getPageFromPosition(v),g=m.pageIndex,y=this.getPageFromPosition(p),b=y.pageIndex;h?this.onChange(g):(Math.abs(u)>5?(s[f].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&(f=b),f=r&&o?u<0?f-1:f+1:u<0?f+1:f-1):f=b,this.slideTo(f,{transition:!1,friction:e.option("decelFriction")}))}}},{key:"onClick",value:function(e){var t,n,i=e.target,r=i&&Ri(i)?i.dataset:null;r&&(void 0!==r.carouselPage?(n="slideTo",t=r.carouselPage):void 0!==r.carouselNext?n="slideNext":void 0!==r.carouselPrev&&(n="slidePrev")),n?(e.preventDefault(),e.stopPropagation(),i&&!i.hasAttribute("disabled")&&this[n](t)):this.emit("click",e)}},{key:"onSlideTo",value:function(e){var t=e.detail||0;this.slideTo(this.getPageForSlide(t),{friction:0})}},{key:"onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.page;this.prevPage=n,this.page=e,this.option("adaptiveHeight")&&this.setViewportHeight(),e!==n&&(this.markSelectedSlides(),this.emit("change",e,n,t))}},{key:"onRefresh",value:function(){var e=this.contentDim,t=this.viewportDim;this.updateMetrics(),this.contentDim===e&&this.viewportDim===t||this.slideTo(this.page,{friction:0,transition:!1})}},{key:"onResize",value:function(){this.option("breakpoints")&&this.processOptions()}},{key:"onBeforeTransform",value:function(e){this.lp!==e.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=e.current.e}},{key:"onEndAnimation",value:function(){this.inTransition.size||this.emit("settle")}},{key:"reInit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.destroy(),this.state=Fi.Init,this.userOptions=e||this.userOptions,this.userPlugins=t||this.userPlugins,this.processOptions()}},{key:"slideTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.friction,i=void 0===n?this.option("friction"):n,r=t.transition,o=void 0===r?this.option("transition"):r;if(this.state!==Fi.Destroy){var a=this,s=a.axis,l=a.isHorizontal,c=a.isRTL,u=a.pages,h=a.panzoom,f=u.length,d=c&&l?1:-1;if(h&&f&&!this.transitionTo(e,o)){var v=this.getPageFromIndex(e),p=u[v].pos;if(this.isInfinite){var m=this.contentDim,g=h.target[s]*d;if(2===f)p+=m*Math.floor(parseFloat(e+"")/2);else{var y=g;p=[p,p-m,p+m].reduce((function(e,t){return Math.abs(t-y)<Math.abs(e-y)?t:e}))}}p*=d,Math.abs(h.target[s]-p)<.1||(h.panTo({x:l?p:0,y:l?0:p,friction:i}),this.onChange(v))}}}},{key:"slideToClosest",value:function(e){if(this.panzoom){var t=this.getPageFromPosition(this.panzoom.current[this.isHorizontal?"e":"f"]).pageIndex;this.slideTo(t,e)}}},{key:"slideNext",value:function(){this.slideTo(this.page+1)}},{key:"slidePrev",value:function(){this.slideTo(this.page-1)}},{key:"clearTransitions",value:function(){this.inTransition.clear(),_i(this.container,this.cn("inTransition"));var t=["to-prev","to-next","from-prev","from-next"],n=!0,i=!1,r=void 0;try{for(var o,a=this.slides[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=s.el;if(l){var c;l.removeEventListener("animationend",this.onAnimationEnd),(c=l.classList).remove.apply(c,e(Bt)(t));var u=s.transition;u&&l.classList.remove("f-".concat(u,"Out"),"f-".concat(u,"In"))}}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}this.manageSlideVisiblity()}},{key:"prependSlide",value:function(e){var t,n,i=Array.isArray(e)?e:[e],r=!0,o=!1,a=void 0;try{for(var s,l=i.reverse()[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;this.slides.unshift(qi(c))}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}for(var u=0;u<this.slides.length;u++)this.slides[u].index=u;var h=(null===(t=this.pages[this.page])||void 0===t?void 0:t.pos)||0;this.page+=i.length,this.updateMetrics();var f=(null===(n=this.pages[this.page])||void 0===n?void 0:n.pos)||0;if(this.panzoom){var d=this.isRTL?h-f:f-h;this.panzoom.target.e-=d,this.panzoom.current.e-=d,this.panzoom.requestTick()}}},{key:"appendSlide",value:function(e){var t=Array.isArray(e)?e:[e],n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=qi(s);l.index=this.slides.length,this.slides.push(l),this.emit("initSlide",s,this.slides.length)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}this.updateMetrics()}},{key:"removeSlide",value:function(e){var t=this.slides.length;e=(e%t+t)%t,this.removeSlideEl(this.slides[e],!0),this.slides.splice(e,1);for(var n=0;n<this.slides.length;n++)this.slides[n].index=n;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1})}},{key:"updateMetrics",value:function(){var t=this,n=t.panzoom,i=t.viewport,r=t.track,o=t.isHorizontal;if(r){var a=o?"width":"height";if(i){var s=ui(i.getBoundingClientRect()[a],1e3),l=getComputedStyle(i),c="padding",u=o?"Right":"Bottom";s-=parseFloat(l[c+(o?"Left":"Top")])+parseFloat(l[c+u]),this.viewportDim=s}var h,f=this.pages.length,d=0,v=!0,p=!1,m=void 0;try{for(var g,y=this.slides.entries()[Symbol.iterator]();!(v=(g=y.next()).done);v=!0){var b,w=e(zt)(g.value,2),k=w[0],x=w[1],E=0,S=0;!x.el&&h?(E=h.dim,S=h.gap):(E=(b=this.getSlideMetrics(x)).dim,S=b.gap,h=x),E=ui(E,1e3),S=ui(S,1e3),x.dim=E,x.gap=S,x.pos=d,d+=E,(this.isInfinite||k<this.slides.length-1)&&(d+=S)}}catch(e){p=!0,m=e}finally{try{v||null==y.return||y.return()}finally{if(p)throw m}}var O=this.contentDim;d=ui(d,1e3),this.contentDim=d,n&&(n.contentRect[a]=d,n.contentRect["e"===this.axis?"fullWidth":"fullHeight"]=d),this.pages=this.createPages(),this.pages=this.processPages(),this.state===Fi.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),n&&f===this.pages.length&&Math.abs(d-O)>.5&&(n.target[this.axis]=-1*this.pages[this.page].pos,n.current[this.axis]=-1*this.pages[this.page].pos,n.stop()),this.manageSlideVisiblity(),this.emit("refresh")}}},{key:"getProgress",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];void 0===e&&(e=this.page);var n=this,i=n.panzoom,r=n.pages[e]||0;if(!r||!i)return 0;var o=-1*i.current.e,a=n.contentDim,s=[ui((o-r.pos)/(1*r.dim),1e3),ui((o+a-r.pos)/(1*r.dim),1e3),ui((o-a-r.pos)/(1*r.dim),1e3)].reduce((function(e,t){return Math.abs(t)<Math.abs(e)?t:e}));return t?s:Math.max(-1,Math.min(1,s))}},{key:"setViewportHeight",value:function(){var e=this,t=e.page,n=e.pages,i=e.viewport,r=e.isHorizontal;if(i&&n[t]){var o=0;r&&this.track&&(this.track.style.height="auto",n[t].slides.forEach((function(e){e.el&&(o=Math.max(o,e.el.offsetHeight))}))),i.style.height=o?"".concat(o,"px"):""}}},{key:"getPageForSlide",value:function(e){var t=!0,n=!1,i=void 0,r=!0,o=!1,a=void 0;try{for(var s,l=this.pages[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;try{for(var u,h=c.slides[Symbol.iterator]();!(t=(u=h.next()).done);t=!0){if(u.value.index===e)return c.index}}catch(e){n=!0,i=e}finally{try{t||null==h.return||h.return()}finally{if(n)throw i}}}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return-1}},{key:"getVisibleSlides",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=new Set,i=this,r=i.contentDim,o=i.viewportDim,a=i.pages,s=i.page;r=r+(null===(e=this.slides[this.slides.length-1])||void 0===e?void 0:e.gap)||0;var l=0;l=this.panzoom?-1*this.panzoom.current[this.axis]:a[s]&&a[s].pos||0,this.isInfinite&&(l-=Math.floor(l/r)*r),this.isRTL&&this.isHorizontal&&(l*=-1);var c=l-o*t,u=l+o*(t+1),h=this.isInfinite?[-1,0,1]:[0],f=!0,d=!1,v=void 0,p=!0,m=!1,g=void 0;try{for(var y,b=this.slides[Symbol.iterator]();!(p=(y=b.next()).done);p=!0){var w=y.value;try{for(var k,x=h[Symbol.iterator]();!(f=(k=x.next()).done);f=!0){var E=k.value,S=w.pos+E*r,O=w.pos+w.dim+w.gap+E*r;S<u&&O>c&&n.add(w)}}catch(e){d=!0,v=e}finally{try{f||null==x.return||x.return()}finally{if(d)throw v}}}}catch(e){m=!0,g=e}finally{try{p||null==b.return||b.return()}finally{if(m)throw g}}return n}},{key:"getPageFromPosition",value:function(e){var t,n,i=this.viewportDim,r=this.contentDim,o=this.pages.length,a=this.slides.length,s=this.slides[a-1],l=this.option("center");l&&(e+=.5*i),this.isInfinite||(e=Math.max(this.slides[0].pos,Math.min(e,s.pos)));var c=r+s.gap;n=Math.floor(e/c)||0,e-=n*c;var u=s,h=this.slides.find((function(t){var n=e+(u&&!l?.5*u.dim:0);return u=t,t.pos<=n&&t.pos+t.dim+t.gap>n}));return h||(h=s),{page:(t=this.getPageForSlide(h.index))+n*o,pageIndex:t}}},{key:"destroy",value:function(){var t,n=this;if(![Fi.Destroy].includes(this.state)){this.state=Fi.Destroy;var i=this,r=i.container,o=i.viewport,a=i.track,s=i.slides,l=i.panzoom,c=this.option("classes");r.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),r.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),l&&(l.destroy(),this.panzoom=null),s&&s.forEach((function(e){n.removeSlideEl(e)})),this.detachPlugins(),o&&o.offsetParent&&a&&a.offsetParent&&(t=o).replaceWith.apply(t,e(Bt)(a.childNodes));var u=!0,h=!1,f=void 0;try{for(var d,v=Object.entries(c)[Symbol.iterator]();!(u=(d=v.next()).done);u=!0){var p=e(zt)(d.value,2),m=p[0],g=p[1];"container"!==m&&g&&r.classList.remove(g)}}catch(e){h=!0,f=e}finally{try{u||null==v.return||v.return()}finally{if(h)throw f}}this.track=null,this.viewport=null,this.page=0,this.slides=[];var y=this.events.get("ready");this.events=new Map,y&&this.events.set("ready",y)}}}]),i}(Ai);Object.defineProperty(Ji,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:Ni}),Object.defineProperty(Ji,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}}}),Object.defineProperty(Ji,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:Zi});var Ki,$i,Qi,er,tr,nr=function(e){var t=window.pageYOffset,n=window.pageYOffset+window.innerHeight;if(!Ri(e))return 0;var i=e.getBoundingClientRect(),r=i.y+window.pageYOffset,o=i.y+i.height+window.pageYOffset;if(t>o||n<r)return 0;if(t<r&&n>o)return 100;if(r<t&&o>n)return 100;var a=i.height;r<t&&(a-=window.pageYOffset-r),o>n&&(a-=o-n);var s=a/window.innerHeight*100;return Math.round(s)},ir=!("undefined"==typeof window||!window.document||!window.document.createElement),rr=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'].join(","),or=function(e){if(e&&ir){void 0===Ki&&document.createElement("div").focus({get preventScroll(){return Ki=!0,!1}});try{if(Ki)e.focus({preventScroll:!0});else{var t=window.pageXOffset||document.body.scrollTop,n=window.pageYOffset||document.body.scrollLeft;e.focus(),document.body.scrollTo({top:t,left:n,behavior:"auto"})}}catch(e){}}},ar={dragToClose:!0,hideScrollbar:!0,Carousel:{classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"}},contentClick:"toggleZoom",contentDblClick:!1,backdropClick:"close",animated:!0,idle:3500,showClass:"f-zoomInUp",hideClass:"f-fadeOut",commonCaption:!1,parentEl:null,startIndex:0,l10n:Object.assign(Object.assign({},Pi),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}),tpl:{closeButton:'<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',main:'<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">\n    <div class="fancybox__backdrop"></div>\n    <div class="fancybox__carousel"></div>\n    <div class="fancybox__footer"></div>\n  </div>'},groupAll:!1,groupAttr:"data-fancybox",defaultType:"image",defaultDisplay:"block",autoFocus:!0,trapFocus:!0,placeFocusBack:!0,closeButton:"auto",keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},Fullscreen:{autoStart:!1},compact:function(){return window.matchMedia("(max-width: 578px), (max-height: 578px)").matches},wheel:"zoom"};(tr=$i||($i={}))[tr.Init=0]="Init",tr[tr.Ready=1]="Ready",tr[tr.Closing=2]="Closing",tr[tr.CustomClosing=3]="CustomClosing",tr[tr.Destroy=4]="Destroy",(er=Qi||(Qi={}))[er.Loading=0]="Loading",er[er.Opening=1]="Opening",er[er.Ready=2]="Ready",er[er.Closing=3]="Closing";var sr=function(){queueMicrotask((function(){!function(){var e=lr.parseURL(),t=e.slug,n=e.index,i=_r.getInstance();if(i&&!1!==i.option("Hash")){var r=i.carousel;if(t&&r){var o=!0,a=!1,s=void 0;try{for(var l,c=r.slides[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;if(u.slug&&u.slug===t)return r.slideTo(u.index)}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}if(t===i.option("slug"))return r.slideTo(n-1);var h=i.getSlide(),f=h&&h.triggerEl&&h.triggerEl.dataset;if(f&&f.fancybox===t)return r.slideTo(n-1)}lr.hasSilentClose=!0,i.close()}lr.startFromUrl()}()}))},lr=function(t){"use strict";e(ae)(i,t);var n=e(se)(i);function i(){var t;return e(s)(this,i),t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(e(oe)(t),"origHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(e(oe)(t),"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),e(ci)(t)}return e(p)(i,[{key:"onChange",value:function(){var e=this.instance,t=e.carousel;this.timer&&clearTimeout(this.timer);var n=e.getSlide();if(t&&n){var i,r=e.isOpeningSlide(n),o=new URL(document.URL).hash,a=n.slug||void 0;!(i=a||this.instance.option("slug"))&&n.triggerEl&&n.triggerEl.dataset&&(i=n.triggerEl.dataset.fancybox);var s="";i&&"true"!==i&&(s="#"+i+(!a&&t.slides.length>1?"-"+(n.index+1):"")),r&&(this.origHash=o!==s?o:""),s&&o!==s&&(this.timer=setTimeout((function(){try{window.history[r?"pushState":"replaceState"]({},document.title,window.location.pathname+window.location.search+s)}catch(e){}}),300))}}},{key:"onClose",value:function(){if(this.timer&&clearTimeout(this.timer),!0!==i.hasSilentClose)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(this.origHash||""))}catch(e){}}},{key:"attach",value:function(){this.instance.on("Carousel.ready",this.onChange),this.instance.on("Carousel.change",this.onChange),this.instance.on("close",this.onClose)}},{key:"detach",value:function(){this.instance.off("Carousel.ready",this.onChange),this.instance.off("Carousel.change",this.onChange),this.instance.off("close",this.onClose)}}],[{key:"parseURL",value:function(){var e=window.location.hash.slice(1),t=e.split("-"),n=t[t.length-1],i=n&&/^\+?\d+$/.test(n)&&parseInt(t.pop()||"1",10)||1;return{hash:e,slug:t.join("-"),index:i}}},{key:"startFromUrl",value:function(){if(i.hasSilentClose=!1,!_r.getInstance()&&!1!==_r.defaults.Hash){var e=i.parseURL(),t=e.hash,n=e.slug,r=e.index;if(n){var o=document.querySelector('[data-slug="'.concat(t,'"]'));if(o&&o.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),!_r.getInstance()){var a=document.querySelectorAll('[data-fancybox="'.concat(n,'"]'));a.length&&((o=a[r-1])&&o.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))}}}}},{key:"destroy",value:function(){window.removeEventListener("hashchange",sr,!1)}}]),i}(Xi);function cr(){window.addEventListener("hashchange",sr,!1),setTimeout((function(){lr.startFromUrl()}),500)}Object.defineProperty(lr,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(lr,"hasSilentClose",{enumerable:!0,configurable:!0,writable:!0,value:!1}),ir&&(/complete|interactive|loaded/.test(document.readyState)?cr():document.addEventListener("DOMContentLoaded",cr));var ur=function(t){"use strict";e(ae)(i,t);var n=e(se)(i);function i(){return e(s)(this,i),n.apply(this,arguments)}return e(p)(i,[{key:"onCreateSlide",value:function(e,t,n){var i=this,r=this.instance,o=r.optionFor(n,"src")||"",a=n.el,s=n.type;a&&"image"===s&&"string"==typeof o&&this.setContent(n,o).then((function(e){var t=n.contentEl,o=n.imageEl,s=n.thumbElSrc;if(!r.isClosing()&&t&&o){t.offsetHeight;var l,c=!!r.isOpeningSlide(n)&&i.getZoomInfo(n);if(i.option("protected")){a.addEventListener("contextmenu",(function(e){e.preventDefault()}));var u=document.createElement("div");zi(u,"fancybox-protected"),t.appendChild(u)}if(s&&c){var h=i,f=e.contentRect,d=Math.max(f.fullWidth,f.fullHeight),v=null;!c.opacity&&d>1200&&(v=document.createElement("img"),zi(v,"fancybox-ghost"),v.src=s,t.appendChild(v));var p=function(){v&&(zi(v,"f-fadeFastOut"),setTimeout((function(){v&&(v.remove(),v=null)}),200))};(l=s,new Promise((function(e,t){var n=new Image;n.onload=e,n.onerror=t,n.src=l}))).then((function(){var e=h;n.state=Qi.Opening,h.instance.emit("reveal",n),h.zoomIn(n).then((function(){p(),e.instance.done(n)}),(function(){r.hideLoading(n)})),v&&setTimeout((function(){p()}),d>2500?800:200)}),(function(){r.hideLoading(n),r.revealContent(n)}))}else{var m=i.optionFor(n,"initialSize"),g=i.optionFor(n,"zoom"),y={event:r.prevMouseMoveEvent||r.options.event,friction:g?.12:0},b=r.optionFor(n,"showClass")||void 0,w=!0;r.isOpeningSlide(n)&&("full"===m?e.zoomToFull(y):"cover"===m?e.zoomToCover(y):"max"===m?e.zoomToMax(y):w=!1,e.stop("current")),w&&b&&(b=e.isDragging?"f-fadeIn":""),r.revealContent(n,b)}}}),(function(){r.setError(n,"{{IMAGE_ERROR}}")}))}},{key:"onRemoveSlide",value:function(e,t,n){n.panzoom&&n.panzoom.destroy(),n.panzoom=void 0,n.imageEl=void 0}},{key:"onChange",value:function(e,t,n,i){var r=!0,o=!1,a=void 0;try{for(var s,l=t.slides[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=c.panzoom;u&&c.index!==n&&u.reset(.35)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}},{key:"onClose",value:function(){var e=this.instance,t=e.container,n=e.getSlide();if(t&&t.parentElement&&n){var i=n.el,r=n.contentEl,o=n.panzoom,a=n.thumbElSrc;if(i&&a&&r&&o&&!o.isContentLoading&&o.state!==Oi.Init&&o.state!==Oi.Destroy){o.updateMetrics();var s=this.getZoomInfo(n);if(s){this.instance.state=$i.CustomClosing,t.classList.remove("is-zooming-in"),t.classList.add("is-zooming-out"),r.style.backgroundImage="url('".concat(a,"')");var l=t.getBoundingClientRect();Object.assign(t.style,{position:"absolute",top:"".concat(window.pageYOffset,"px"),left:"".concat(window.pageXOffset,"px"),bottom:"auto",right:"auto",width:"".concat(l.width,"px"),height:"".concat(l.height,"px"),overflow:"hidden"});var c,u,h=s.x,f=s.y,d=s.scale,v=s.opacity;if(v){var p=(c=o.scale,u=d-c,function(e){return 1+((e-c)/u*-1||0)});o.on("afterTransform",(function(){r.style.opacity=p(o.scale)+""}))}o.on("endAnimation",(function(){e.destroy()})),o.target.a=d,o.target.b=0,o.target.c=0,o.target.d=d,o.panTo({x:h,y:f,scale:d,friction:v?.2:.33,ignoreBounds:!0}),o.isResting&&e.destroy()}}}}},{key:"setContent",value:function(e,t){var n=this;return new Promise((function(i,r){var o,a,s=n.instance,l=e.el;if(l){s.showLoading(e);var c=n.optionFor(e,"content");"string"==typeof c&&(c=di(c)),c&&Ri(c)||((c=document.createElement("img"))instanceof HTMLImageElement&&(c.src=t||"",c.alt=(null===(o=e.caption)||void 0===o?void 0:o.replace(/<[^>]+>/gi,"").substring(0,1e3))||"Image ".concat(e.index+1," of ").concat(null===(a=s.carousel)||void 0===a?void 0:a.pages.length),c.draggable=!1,e.srcset&&c.setAttribute("srcset",e.srcset)),e.sizes&&c.setAttribute("sizes",e.sizes)),c.classList.add("fancybox-image"),e.imageEl=c,s.setContent(e,c,!1),e.panzoom=new Ni(l,xi({},n.option("Panzoom")||{},{content:c,width:s.optionFor(e,"width","auto"),height:s.optionFor(e,"height","auto"),wheel:function(){var e=s.option("wheel");return("zoom"===e||"pan"==e)&&e},click:function(t,n){var i,r;if(s.isCompact||s.isClosing())return!1;if(e.index!==(null===(i=s.getSlide())||void 0===i?void 0:i.index))return!1;var o=!n||n.target&&(null===(r=e.contentEl)||void 0===r?void 0:r.contains(n.target));return s.option(o?"contentClick":"backdropClick")||!1},dblClick:function(){return s.isCompact?"toggleZoom":s.option("contentDblClick")||!1},spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,transformParent:!0,on:{ready:function(e){i(e)},error:function(){r()},destroy:function(){r()}}}))}else r()}))}},{key:"zoomIn",value:function(e){var t=this;return new Promise((function(n,i){var r=t.instance,o=r.container,a=e.panzoom,s=e.contentEl,l=e.el;a&&a.updateMetrics();var c=t.getZoomInfo(e);if(c&&l&&s&&a&&o){var u=c.x,h=c.y,f=c.scale,d=c.opacity,v=function(){e.state!==Qi.Closing&&(d&&(s.style.opacity=Math.max(Math.min(1,1-(1-a.scale)/(1-f)),0)+""),a.scale>=1&&a.scale>a.targetScale-.1&&n(a))},p=function(e){_i(o,"is-zooming-in"),e.scale<.99||e.scale>1.01||(s.style.opacity="",e.off("endAnimation",p),e.off("touchStart",p),e.off("afterTransform",v),n(e))};a.on("endAnimation",p),a.on("touchStart",p),a.on("afterTransform",v),a.on(["error","destroy"],(function(){i()})),a.panTo({x:u,y:h,scale:f,friction:0,ignoreBounds:!0}),a.stop("current");var m={event:"mousemove"===a.panMode?r.prevMouseMoveEvent||r.options.event:void 0},g=t.optionFor(e,"initialSize");zi(o,"is-zooming-in"),r.hideLoading(e),"full"===g?a.zoomToFull(m):"cover"===g?a.zoomToCover(m):"max"===g?a.zoomToMax(m):a.reset(.172)}else i()}))}},{key:"getZoomInfo",value:function(e){var t=e.el,n=e.imageEl,i=e.thumbEl,r=e.panzoom;if(!t||!n||!i||!r||nr(i)<3||!this.optionFor(e,"zoom")||this.instance.state===$i.Destroy)return!1;var o=i.getBoundingClientRect(),a=o.top,s=o.left,l=o.width,c=o.height,u=r.contentRect,h=u.top,f=u.left,d=u.fitWidth,v=u.fitHeight;if(!(l&&c&&d&&v))return!1;var p=l/d,m=r.container.getBoundingClientRect();h+=m.top;var g=-1*((f+=m.left)+.5*d-(s+.5*l)),y=-1*(h+.5*v-(a+.5*c)),b=this.option("zoomOpacity")||!1;return"auto"===b&&(b=Math.abs(l/c-d/v)>.1),{x:g,y:y,scale:p,opacity:b}}},{key:"attach",value:function(){this.instance.on("Carousel.change",this.onChange),this.instance.on("Carousel.createSlide",this.onCreateSlide),this.instance.on("Carousel.removeSlide",this.onRemoveSlide),this.instance.on("close",this.onClose)}},{key:"detach",value:function(){this.instance.off("Carousel.change",this.onChange),this.instance.off("Carousel.createSlide",this.onCreateSlide),this.instance.off("Carousel.removeSlide",this.onRemoveSlide),this.instance.off("close",this.onClose)}}]),i}(Xi);Object.defineProperty(ur,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:"fit",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:"auto"}});var hr=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new URL(t),r=new URLSearchParams(i.search),o=new URLSearchParams,a=!0,s=!1,l=void 0;try{for(var c,u=e(Bt)(r).concat(e(Bt)(Object.entries(n)))[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=e(zt)(c.value,2),f=h[0],d=h[1],v=d.toString();"t"===f?o.set("start",parseInt(v).toString()):o.set(f,v)}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}var p=o.toString(),m=t.match(/#t=((.*)?\d+s)/);return m&&(p+="#t=".concat(m[1])),p},fr=["image","html","ajax","inline","clone","iframe","map","pdf","html5video","youtube","vimeo","video"],dr=function(t){"use strict";e(ae)(i,t);var n=e(se)(i);function i(){return e(s)(this,i),n.apply(this,arguments)}return e(p)(i,[{key:"onInitSlide",value:function(e,t,n){this.processType(n)}},{key:"onCreateSlide",value:function(e,t,n){this.setContent(n)}},{key:"onRemoveSlide",value:function(e,t,n){n.closeBtnEl&&(n.closeBtnEl.remove(),n.closeBtnEl=void 0),n.xhr&&(n.xhr.abort(),n.xhr=null),n.iframeEl&&(n.iframeEl.onload=n.iframeEl.onerror=null,n.iframeEl.src="//about:blank",n.iframeEl=null);var i=n.contentEl,r=n.placeholderEl;if("inline"===n.type&&i&&r)i.classList.remove("fancybox__content"),"none"!==i.style.display&&(i.style.display="none"),r.parentNode&&r.parentNode.insertBefore(i,r),r.remove(),n.placeholderEl=null;else for(;n.el&&n.el.firstChild;)n.el.removeChild(n.el.firstChild)}},{key:"onSelectSlide",value:function(e,t,n){n.state===Qi.Ready&&this.playVideo()}},{key:"onUnselectSlide",value:function(e,t,n){var i,r,o;if("html5video"!==n.type)"vimeo"===n.type?o={method:"pause",value:"true"}:"youtube"===n.type&&(o={event:"command",func:"pauseVideo"}),o&&n.iframeEl&&n.iframeEl.contentWindow&&n.iframeEl.contentWindow.postMessage(JSON.stringify(o),"*"),n.poller&&clearTimeout(n.poller);else try{null===(r=null===(i=n.el)||void 0===i?void 0:i.querySelector("video"))||void 0===r||r.pause()}catch(e){}}},{key:"onDone",value:function(e,t){e.isCurrentSlide(t)&&!e.isClosing()&&this.playVideo()}},{key:"onRefresh",value:function(e,t){var n=this;t.slides.forEach((function(e){e.el&&(n.setAspectRatio(e),n.resizeIframe(e))}))}},{key:"onMessage",value:function(e){try{var t=JSON.parse(e.data);if("https://player.vimeo.com"===e.origin){var n=!0,i=!1,r=void 0;if("ready"===t.event)try{for(var o,a=Array.from(document.getElementsByClassName("fancybox__iframe"))[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s instanceof HTMLIFrameElement&&s.contentWindow===e.source&&(s.dataset.ready="true")}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}else if(e.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&"onReady"===t.event){var l=document.getElementById(t.id);l&&(l.dataset.ready="true")}}catch(e){}}},{key:"loadAjaxContent",value:function(e){var t=this.instance.optionFor(e,"src")||"";this.instance.showLoading(e);var n=this.instance,i=new XMLHttpRequest;n.showLoading(e),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&n.state===$i.Ready&&(n.hideLoading(e),200===i.status?n.setContent(e,i.responseText):n.setError(e,404===i.status?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};var r=e.ajax||null;i.open(r?"POST":"GET",t+""),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(r),e.xhr=i}},{key:"setInlineContent",value:function(e){var t=null;if(Ri(e.src))t=e.src;else if("string"==typeof e.src){var n=e.src.split("#",2).pop();t=n?document.getElementById(n):null}if(t){if("clone"===e.type||t.closest(".fancybox__slide")){var i=(t=t.cloneNode(!0)).dataset.animationName;i&&(t.classList.remove(i),delete t.dataset.animationName);var r=t.getAttribute("id");r=r?"".concat(r,"--clone"):"clone-".concat(this.instance.id,"-").concat(e.index),t.setAttribute("id",r)}else if(t.parentNode){var o=document.createElement("div");o.classList.add("fancybox-placeholder"),t.parentNode.insertBefore(o,t),e.placeholderEl=o}this.instance.setContent(e,t)}else this.instance.setError(e,"{{ELEMENT_NOT_FOUND}}")}},{key:"setIframeContent",value:function(t){var n=this,i=t.src,r=t.el;if(i&&"string"==typeof i&&r){var o=this.instance,a=document.createElement("iframe");a.className="fancybox__iframe",a.setAttribute("id","fancybox__iframe_".concat(o.id,"_").concat(t.index));var s=!0,l=!1,c=void 0;try{for(var u,h=Object.entries(this.optionFor(t,"iframeAttr")||{})[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var f=e(zt)(u.value,2),d=f[0],v=f[1];a.setAttribute(d,v)}}catch(e){l=!0,c=e}finally{try{s||null==h.return||h.return()}finally{if(l)throw c}}a.onerror=function(){o.setError(t,"{{IFRAME_ERROR}}")},t.iframeEl=a;var p=this.optionFor(t,"preload");if(r.classList.add("is-loading"),"iframe"!==t.type||!1===p)return a.setAttribute("src",t.src+""),this.resizeIframe(t),void o.setContent(t,a);o.showLoading(t),a.onload=function(){if(a.src.length){var e="true"!==a.dataset.ready;a.dataset.ready="true",n.resizeIframe(t),e?o.revealContent(t):o.hideLoading(t)}},a.setAttribute("src",i),o.setContent(t,a,!1)}}},{key:"resizeIframe",value:function(e){var t=e.iframeEl,n=null==t?void 0:t.parentElement;if(t&&n){var i=e.autoSize,r=e.width||0,o=e.height||0;r&&o&&(i=!1);var a=n&&n.style;if(!1!==e.preload&&!1!==i&&a)try{var s=window.getComputedStyle(n),l=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),c=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),u=t.contentWindow;if(u){var h=u.document,f=h.getElementsByTagName("html")[0],d=h.body;a.width="",d.style.overflow="hidden",r=r||f.scrollWidth+l,a.width="".concat(r,"px"),d.style.overflow="",a.flex="0 0 auto",a.height="".concat(d.scrollHeight,"px"),o=f.scrollHeight+c}}catch(e){}if(r||o){var v={flex:"0 1 auto",width:"",height:""};r&&(v.width="".concat(r,"px")),o&&(v.height="".concat(o,"px")),Object.assign(a,v)}}}},{key:"playVideo",value:function(){var e=this.instance.getSlide();if(e){var t=e.el;if(t&&t.offsetParent&&this.optionFor(e,"videoAutoplay")){if("html5video"===e.type)try{var n=t.querySelector("video");if(n){var i=n.play();void 0!==i&&i.then((function(){})).catch((function(e){n.muted=!0,n.play()}))}}catch(e){}if("youtube"===e.type||"vimeo"===e.type){var r=function(){if(e.iframeEl&&e.iframeEl.contentWindow){var t;if("true"===e.iframeEl.dataset.ready)return(t="youtube"===e.type?{event:"command",func:"playVideo"}:{method:"play",value:"true"})&&e.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"),void(e.poller=void 0);"youtube"===e.type&&(t={event:"listening",id:e.iframeEl.getAttribute("id")},e.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"))}e.poller=setTimeout(r,250)};r()}}}}},{key:"processType",value:function(e){if(e.html)return e.type="html",e.src=e.html,void(e.html="");var t=this.instance.optionFor(e,"src","");if(t&&"string"==typeof t){var n=e.type,i=null;if(i=t.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){var r=this.optionFor(e,"youtube"),o=r.nocookie,a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(r,["nocookie"]),s="www.youtube".concat(o?"-nocookie":"",".com"),l=hr(t,a),c=encodeURIComponent(i[2]);e.videoId=c,e.src="https://".concat(s,"/embed/").concat(c,"?").concat(l),e.thumbSrc=e.thumbSrc||"https://i.ytimg.com/vi/".concat(c,"/mqdefault.jpg"),n="youtube"}else if(i=t.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/)){var u=hr(t,this.optionFor(e,"vimeo")),h=encodeURIComponent(i[1]),f=i[4]||"";e.videoId=h,e.src="https://player.vimeo.com/video/".concat(h,"?").concat(f?"h=".concat(f).concat(u?"&":""):"").concat(u),n="vimeo"}if(!n&&e.triggerEl){var d=e.triggerEl.dataset.type;fr.includes(d)&&(n=d)}n||"string"==typeof t&&("#"===t.charAt(0)?n="inline":(i=t.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(n="html5video",e.videoFormat=e.videoFormat||"video/"+("ogv"===i[1]?"ogg":i[1])):t.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?n="image":t.match(/\.(pdf)((\?|#).*)?$/i)?n="pdf":(i=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src="https://maps.google.".concat(i[1],"/?ll=").concat((i[2]?i[2]+"&z="+Math.floor(parseFloat(i[3]))+(i[4]?i[4].replace(/^\//,"&"):""):i[4]+"").replace(/\?/,"&"),"&output=").concat(i[4]&&i[4].indexOf("layer=c")>0?"svembed":"embed"),n="map"):(i=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src="https://maps.google.".concat(i[1],"/maps?q=").concat(i[2].replace("query=","q=").replace("api=1",""),"&output=embed"),n="map")),n=n||this.instance.option("defaultType"),e.type=n,"image"===n&&(e.thumbSrc=e.thumbSrc||e.src)}}},{key:"setContent",value:function(e){var t=this.instance.optionFor(e,"src")||"";if(e&&e.type&&t){switch(e.type){case"html":this.instance.setContent(e,t);break;case"html5video":var n=this.option("videoTpl");n&&this.instance.setContent(e,n.replace(/\{\{src\}\}/gi,t+"").replace(/\{\{format\}\}/gi,this.optionFor(e,"videoFormat")||"").replace(/\{\{poster\}\}/gi,e.poster||e.thumbSrc||""));break;case"inline":case"clone":this.setInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"pdf":case"map":case"youtube":case"vimeo":e.preload=!1;case"iframe":this.setIframeContent(e)}this.setAspectRatio(e)}}},{key:"setAspectRatio",value:function(e){var t,n=e.contentEl,i=this.optionFor(e,"videoRatio"),r=null===(t=e.el)||void 0===t?void 0:t.getBoundingClientRect();if(n&&r&&i&&1!==i&&e.type&&["video","youtube","vimeo","html5video"].includes(e.type)){var o=r.width,a=r.height;n.style.aspectRatio=i+"",n.style.width=o/a>i?"auto":"",n.style.height=o/a>i?"":"auto"}}},{key:"attach",value:function(){this.instance.on("Carousel.initSlide",this.onInitSlide),this.instance.on("Carousel.createSlide",this.onCreateSlide),this.instance.on("Carousel.removeSlide",this.onRemoveSlide),this.instance.on("Carousel.selectSlide",this.onSelectSlide),this.instance.on("Carousel.unselectSlide",this.onUnselectSlide),this.instance.on("Carousel.Panzoom.refresh",this.onRefresh),this.instance.on("done",this.onDone),window.addEventListener("message",this.onMessage)}},{key:"detach",value:function(){this.instance.off("Carousel.initSlide",this.onInitSlide),this.instance.off("Carousel.createSlide",this.onCreateSlide),this.instance.off("Carousel.removeSlide",this.onRemoveSlide),this.instance.off("Carousel.selectSlide",this.onSelectSlide),this.instance.off("Carousel.unselectSlide",this.onUnselectSlide),this.instance.off("Carousel.Panzoom.refresh",this.onRefresh),this.instance.off("done",this.onDone),window.removeEventListener("message",this.onMessage)}}]),i}(Xi);Object.defineProperty(dr,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{ajax:null,autoSize:!0,preload:!0,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"},videoAutoplay:!0,videoRatio:16/9,videoTpl:'<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">\n  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos.</video>',videoFormat:"",vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}}});var vr=function(t){"use strict";e(ae)(i,t);var n=e(se)(i);function i(){var t;return e(s)(this,i),t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(e(oe)(t),"state",{enumerable:!0,configurable:!0,writable:!0,value:"ready"}),Object.defineProperty(e(oe)(t),"inHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e(oe)(t),"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(t),"progressBar",{enumerable:!0,configurable:!0,writable:!0,value:null}),e(ci)(t)}return e(p)(i,[{key:"isActive",get:function(){return"ready"!==this.state}},{key:"onReady",value:function(e){this.option("autoStart")&&(e.isInfinite||e.page<e.pages.length-1)&&this.start()}},{key:"onChange",value:function(){var e;(null===(e=this.instance.panzoom)||void 0===e?void 0:e.isResting)||(this.removeProgressBar(),this.pause())}},{key:"onSettle",value:function(){this.resume()}},{key:"onVisibilityChange",value:function(){"visible"===document.visibilityState?this.resume():this.pause()}},{key:"onMouseEnter",value:function(){this.inHover=!0,this.pause()}},{key:"onMouseLeave",value:function(){var e;this.inHover=!1,(null===(e=this.instance.panzoom)||void 0===e?void 0:e.isResting)&&this.resume()}},{key:"onTimerEnd",value:function(){"play"===this.state&&(this.instance.isInfinite||this.instance.page!==this.instance.pages.length-1?this.instance.slideNext():this.instance.slideTo(0))}},{key:"removeProgressBar",value:function(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}},{key:"createProgressBar",value:function(){var e;if(!this.option("showProgress"))return null;this.removeProgressBar();var t=this.instance,n=(null===(e=t.pages[t.page])||void 0===e?void 0:e.slides)||[],i=this.option("progressParentEl");if(i||(i=(1===n.length?n[0].el:null)||t.viewport),!i)return null;var r=document.createElement("div");return zi(r,"f-progress"),i.prepend(r),this.progressBar=r,r.offsetHeight,r}},{key:"set",value:function(){var e=this;if(!(this.instance.pages.length<2||this.progressBar)){var t=this.option("timeout");this.state="play",zi(this.instance.container,"has-autoplay");var n=this.createProgressBar();n&&(n.style.transitionDuration="".concat(t,"ms"),n.style.transform="scaleX(1)"),this.timer=setTimeout((function(){e.timer=null,e.inHover||e.onTimerEnd()}),t),this.emit("set")}}},{key:"clear",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.removeProgressBar()}},{key:"start",value:function(){if(this.set(),this.option("pauseOnHover")){var e=this.instance.container;e.addEventListener("mouseenter",this.onMouseEnter,!1),e.addEventListener("mouseleave",this.onMouseLeave,!1)}document.addEventListener("visibilitychange",this.onVisibilityChange,!1)}},{key:"stop",value:function(){var e=this.instance.container;this.clear(),this.state="ready",e.removeEventListener("mouseenter",this.onMouseEnter,!1),e.removeEventListener("mouseleave",this.onMouseLeave,!1),document.removeEventListener("visibilitychange",this.onVisibilityChange,!1),_i(e,"has-autoplay"),this.emit("stop")}},{key:"pause",value:function(){"play"===this.state&&(this.state="pause",this.clear(),this.emit("pause"))}},{key:"resume",value:function(){var e=this.instance;if(e.isInfinite||e.page!==e.pages.length-1)if("play"!==this.state){if("pause"===this.state&&!this.inHover){var t=new Event("resume",{bubbles:!0,cancelable:!0});this.emit("resume",event),t.defaultPrevented||this.set()}}else this.set();else this.stop()}},{key:"toggle",value:function(){"play"===this.state||"pause"===this.state?this.stop():this.set()}},{key:"attach",value:function(){this.instance.on("ready",this.onReady),this.instance.on("Panzoom.startAnimation",this.onChange),this.instance.on("Panzoom.endAnimation",this.onSettle),this.instance.on("Panzoom.touchMove",this.onChange)}},{key:"detach",value:function(){this.instance.off("ready",this.onReady),this.instance.off("Panzoom.startAnimation",this.onChange),this.instance.off("Panzoom.endAnimation",this.onSettle),this.instance.off("Panzoom.touchMove",this.onChange),this.stop()}}]),i}(Xi);Object.defineProperty(vr,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});var pr=function(t){"use strict";e(ae)(i,t);var n=e(se)(i);function i(){var t;return e(s)(this,i),t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(e(oe)(t),"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),e(ci)(t)}return e(p)(i,[{key:"onPrepare",value:function(e){var t=e.carousel;if(t){var n=e.container;n&&(t.options.Autoplay=xi(this.option("Autoplay")||{},{pauseOnHover:!1,autoStart:!1,timeout:this.option("timeout"),progressParentEl:function(){return n.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]")||n},on:{set:function(t){var i;n.classList.add("has-slideshow"),(null===(i=e.getSlide())||void 0===i?void 0:i.state)!==Qi.Ready&&t.pause()},stop:function(){n.classList.remove("has-slideshow"),e.isCompact||e.endIdle()},resume:function(t,n){var i,r,o;!n||!n.cancelable||(null===(i=e.getSlide())||void 0===i?void 0:i.state)===Qi.Ready&&(null===(o=null===(r=e.carousel)||void 0===r?void 0:r.panzoom)||void 0===o?void 0:o.isResting)||n.preventDefault()}}}),t.attachPlugins({Autoplay:vr}),this.ref=t.plugins.Autoplay)}}},{key:"onReady",value:function(e){var t=e.carousel,n=this.ref;t&&n&&this.option("playOnStart")&&(t.isInfinite||t.page<t.pages.length-1)&&n.start()}},{key:"onDone",value:function(e,t){var n=this.ref;if(n){var i=t.panzoom;i&&i.on("startAnimation",(function(){e.isCurrentSlide(t)&&n.stop()})),e.isCurrentSlide(t)&&n.resume()}}},{key:"onKeydown",value:function(e,t){var n,i=this.ref;i&&t===this.option("key")&&"BUTTON"!==(null===(n=document.activeElement)||void 0===n?void 0:n.nodeName)&&i.toggle()}},{key:"attach",value:function(){this.instance.on("Carousel.init",this.onPrepare),this.instance.on("Carousel.ready",this.onReady),this.instance.on("done",this.onDone),this.instance.on("keydown",this.onKeydown)}},{key:"detach",value:function(){this.instance.off("Carousel.init",this.onPrepare),this.instance.off("Carousel.ready",this.onReady),this.instance.off("done",this.onDone),this.instance.off("keydown",this.onKeydown)}}]),i}(Xi);Object.defineProperty(pr,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{key:" ",playOnStart:!1,timeout:3e3}});var mr,gr,yr={classes:{container:"f-thumbs f-carousel__thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide",isResting:"is-resting",isSelected:"is-selected",isLoading:"is-loading",hasThumbs:"has-thumbs"},minCount:2,parentEl:null,thumbTpl:'<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',type:"modern"};(gr=mr||(mr={}))[gr.Init=0]="Init",gr[gr.Ready=1]="Ready",gr[gr.Hidden=2]="Hidden",gr[gr.Disabled=3]="Disabled";var br=function(t){"use strict";e(ae)(i,t);var n=e(se)(i);function i(){var t;return e(s)(this,i),t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(e(oe)(t),"type",{enumerable:!0,configurable:!0,writable:!0,value:"modern"}),Object.defineProperty(e(oe)(t),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(t),"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(t),"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(t),"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(t),"thumbWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(oe)(t),"thumbClipWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(oe)(t),"thumbHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(oe)(t),"thumbGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(oe)(t),"thumbExtraGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(oe)(t),"shouldCenter",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(e(oe)(t),"state",{enumerable:!0,configurable:!0,writable:!0,value:mr.Init}),e(ci)(t)}return e(p)(i,[{key:"formatThumb",value:function(e,t){return this.instance.localize(t,[["%i",e.index],["%d",e.index+1],["%s",e.thumbSrc||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])}},{key:"getSlides",value:function(){var e=[],t=this.option("thumbTpl")||"",n=!0,i=!1,r=void 0;if(t)try{for(var o,a=(this.instance.slides||[])[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l="";s.type&&(l="for-".concat(s.type),s.type&&["video","youtube","vimeo","html5video"].includes(s.type)&&(l+=" for-video")),e.push({html:this.formatThumb(s,t),customClass:l})}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return e}},{key:"onInitSlide",value:function(e,t){var n=t.el;n&&(t.thumbSrc=n.dataset.thumbSrc||t.thumbSrc||"",t.thumbClipWidth=parseFloat(n.dataset.thumbClipWidth||"")||t.thumbClipWidth||0,t.thumbHeight=parseFloat(n.dataset.thumbHeight||"")||t.thumbHeight||0)}},{key:"onInitSlides",value:function(){this.state===mr.Init&&this.build()}},{key:"onRefreshM",value:function(){this.refreshModern()}},{key:"onChangeM",value:function(){"modern"===this.type&&(this.shouldCenter=!0,this.centerModern())}},{key:"onClickModern",value:function(e){e.preventDefault(),e.stopPropagation();var t,n,i,r=this.instance,o=r.page,a=function(e){if(e){var t=e.closest("[data-carousel-index]");if(t)return parseInt(t.dataset.carouselIndex||"",10)||0}return-1},s=function(e,t){var n=document.elementFromPoint(e,t);return n?a(n):-1},l=a(e.target);l<0&&((l=s(e.clientX+this.thumbGap,e.clientY))===o&&(l=o-1)),l<0&&((l=s(e.clientX-this.thumbGap,e.clientY))===o&&(l=o+1)),l<0&&(t=this.thumbExtraGap,n=s(e.clientX-t,e.clientY),i=s(e.clientX+t,e.clientY),l<0&&n===o&&(l=o+1),l<0&&i===o&&(l=o-1)),l===o?this.centerModern():l>-1&&l<r.pages.length&&r.slideTo(l)}},{key:"onTransformM",value:function(){if("modern"===this.type){var e=this,t=e.instance,n=e.container,i=e.track,r=t.panzoom;if(n&&i&&r&&this.panzoom){pi(n,this.cn("isResting"),r.state!==Oi.Init&&r.isResting);var o=this.thumbGap,a=this.thumbExtraGap,s=this.thumbClipWidth,l=0,c=0,u=0,h=!0,f=!1,d=void 0;try{for(var v,p=t.slides[Symbol.iterator]();!(h=(v=p.next()).done);h=!0){var m=v.value,g=m.index,y=m.thumbSlideEl;if(y){pi(y,this.cn("isSelected"),g===t.page),c=1-Math.abs(t.getProgress(g)),y.style.setProperty("--progress",c?c+"":"");var b=.5*((m.thumbWidth||0)-s);l+=o,l+=b,c&&(l-=c*(b+a)),y.style.setProperty("--shift",l-o+""),l+=b,c&&(l-=c*(b+a)),l-=o,0===g&&(u=a*c)}}}catch(e){f=!0,d=e}finally{try{h||null==p.return||p.return()}finally{if(f)throw d}}i&&(i.style.setProperty("--left",u+""),i.style.setProperty("--width",l+u+o+a*c+"")),this.shouldCenter&&this.centerModern()}}}},{key:"buildClassic",value:function(){var e=this,t=this.container,n=this.track,i=this.getSlides();if(t&&n&&i){var r=new this.instance.constructor(t,xi({track:n,infinite:!1,center:!0,fill:!0,dragFree:!0,slidesPerPage:1,transition:!1,Dots:!1,Navigation:!1,Sync:{},classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide"}},this.option("Carousel")||{},{Sync:{target:this.instance},slides:i}));this.carousel=r,this.track=n,r.on("ready",(function(){e.emit("ready")}))}}},{key:"buildModern",value:function(){var e=this;if("modern"===this.type){var t=this,n=t.container,i=t.track,r=t.instance,o=this.option("thumbTpl")||"";if(n&&i&&o){zi(n,"is-horizontal"),this.updateModern();var a=!0,s=!1,l=void 0;try{for(var c,u=(r.slides||[])[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value,f=document.createElement("div");if(zi(f,this.cn("slide")),h.type){var d="for-".concat(h.type);["video","youtube","vimeo","html5video"].includes(h.type)&&(d+=" for-video"),zi(f,d)}f.appendChild(di(this.formatThumb(h,o))),h.thumbSlideEl=f,i.appendChild(f),this.resizeModernSlide(h)}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}var v=new r.constructor.Panzoom(n,{content:i,lockAxis:"x",zoom:!1,panOnlyZoomed:!1,bounds:function(){var t=0,n=0,i=r.slides[0],o=r.slides[r.slides.length-1],a=r.slides[r.page];return i&&o&&a&&(n=-1*e.getModernThumbPos(0),0!==r.page&&(n+=.5*(i.thumbWidth||0)),t=-1*e.getModernThumbPos(r.slides.length-1),r.page!==r.slides.length-1&&(t+=(o.thumbWidth||0)-(a.thumbWidth||0)-.5*(o.thumbWidth||0))),{x:{min:t,max:n},y:{min:0,max:0}}}});v.on("touchStart",(function(t,n){e.shouldCenter=!1})),v.on("click",(function(t,n){return e.onClickModern(n)})),v.on("ready",(function(){e.centerModern(),e.emit("ready")})),v.on(["afterTransform","refresh"],(function(t){e.lazyLoadModern()})),this.panzoom=v,this.refreshModern()}}}},{key:"updateModern",value:function(){if("modern"===this.type){var e=this.container;e&&(this.thumbGap=parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-gap"))||0,this.thumbExtraGap=parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-extra-gap"))||0,this.thumbWidth=parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-width"))||40,this.thumbClipWidth=parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-clip-width"))||40,this.thumbHeight=parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-height"))||40)}}},{key:"refreshModern",value:function(){var e;if("modern"===this.type){this.updateModern();var t=!0,n=!1,i=void 0;try{for(var r,o=(this.instance.slides||[])[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.resizeModernSlide(a)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}this.onTransformM(),null===(e=this.panzoom)||void 0===e||e.updateMetrics(!0),this.centerModern(0)}}},{key:"centerModern",value:function(e){var t=this.instance,n=this.container,i=this.panzoom;if(n&&i&&i.state!==Oi.Init){for(var r=t.page,o=this.getModernThumbPos(r),a=o,s=t.page-3;s<t.page+3;s++)if(!(s<0||s>t.pages.length-1||s===t.page)){var l=1-Math.abs(t.getProgress(s));l>0&&l<1&&(a+=l*(this.getModernThumbPos(s)-o))}var c=100;void 0===e&&(e=.2,t.inTransition.size>0&&(e=.12),Math.abs(-1*i.current.e-a)>i.containerRect.width&&(e=.5,c=0)),i.options.maxVelocity=c,i.applyChange({panX:ui(-1*a-i.target.e,1e3),friction:null===t.prevPage?0:e})}}},{key:"lazyLoadModern",value:function(){var e=this.instance,t=this.panzoom;if(t){var n=-1*t.current.e||0,i=this.getModernThumbPos(e.page),r=!0,o=!1,a=void 0;if(t.state!==Oi.Init||0===i)try{for(var s,l=this,c=function(e,i){var r=i.value,o=l,a=r.thumbSlideEl;if(!a)return"continue";var s=a.querySelector("img[data-lazy-src]"),c=r.index,u=l.getModernThumbPos(c),h=n-.5*t.containerRect.innerWidth,f=h+t.containerRect.innerWidth;if(!s||u<h||u>f)return"continue";var d=s.dataset.lazySrc;if(!d||!d.length)return"continue";if(delete s.dataset.lazySrc,s.src=d,s.complete)return"continue";zi(a,l.cn("isLoading"));var v=di(Li);a.appendChild(v),s.addEventListener("load",(function(){a.offsetParent&&(a.classList.remove(o.cn("isLoading")),v.remove())}),!1)},u=(e.slides||[])[Symbol.iterator]();!(r=(s=u.next()).done);r=!0)c(0,s)}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}}}},{key:"resizeModernSlide",value:function(e){if("modern"===this.type&&e.thumbSlideEl){var t=e.thumbClipWidth&&e.thumbHeight?Math.round(this.thumbHeight*(e.thumbClipWidth/e.thumbHeight)):this.thumbWidth;e.thumbWidth=t}}},{key:"getModernThumbPos",value:function(e){var t=this.instance.slides[e],n=this.panzoom;if(!n||!n.contentRect.fitWidth)return 0;var i=n.containerRect.innerWidth,r=n.contentRect.width;2===this.instance.slides.length&&(e-=1,r=2*this.thumbClipWidth);var o=e*(this.thumbClipWidth+this.thumbGap)+this.thumbExtraGap+.5*(t.thumbWidth||0);return ui((o-=r>i?.5*i:.5*r)||0,1)}},{key:"build",value:function(){var e=this.instance,t=e.container,n=this.option("minCount")||0;if(n){var i=0,r=!0,o=!1,a=void 0;try{for(var s,l=(e.slides||[])[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){s.value.thumbSrc&&i++}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}if(i<n)return this.cleanup(),void(this.state=mr.Disabled)}var c=this.option("type");if(["modern","classic"].indexOf(c)<0)this.state=mr.Disabled;else{this.type=c;var u=document.createElement("div");zi(u,this.cn("container")),zi(u,"is-".concat(c));var h=this.option("parentEl");h?h.appendChild(u):t.after(u),this.container=u,zi(t,this.cn("hasThumbs"));var f=document.createElement("div");zi(f,this.cn("track")),u.appendChild(f),this.track=f,"classic"===c?this.buildClassic():this.buildModern(),this.state=mr.Ready,u.addEventListener("click",(function(t){setTimeout((function(){var t;null===(t=null==u?void 0:u.querySelector('[data-carousel-index="'.concat(e.page,'"]')))||void 0===t||t.focus()}),100)}))}}},{key:"cleanup",value:function(){this.carousel&&this.carousel.destroy(),this.carousel=null,this.panzoom&&this.panzoom.destroy(),this.panzoom=null,this.container&&this.container.remove(),this.container=null,this.track=null,this.state=mr.Init,_i(this.instance.container,this.cn("hasThumbs"))}},{key:"attach",value:function(){var e=this.instance;e.on("initSlide",this.onInitSlide),e.state===Fi.Init?e.on("initSlides",this.onInitSlides):this.onInitSlides(),e.on("Panzoom.afterTransform",this.onTransformM),e.on("Panzoom.refresh",this.onRefreshM),e.on("change",this.onChangeM)}},{key:"detach",value:function(){var e=this.instance;e.off("initSlide",this.onInitSlide),e.off("initSlides",this.onInitSlides),e.off("Panzoom.afterTransform",this.onTransformM),e.off("Panzoom.refresh",this.onRefreshM),e.off("change",this.onChangeM),this.cleanup()}}]),i}(Xi);Object.defineProperty(br,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:yr});var wr=Object.assign(Object.assign({},yr),{key:"t",showOnStart:!0,parentEl:null}),kr=function(t){"use strict";e(ae)(i,t);var n=e(se)(i);function i(){var t;return e(s)(this,i),t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(e(oe)(t),"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(t),"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e(ci)(t)}return e(p)(i,[{key:"isEnabled",get:function(){var e=this.ref;return e&&e.state!==mr.Disabled}},{key:"isHidden",get:function(){return this.hidden}},{key:"onInit",value:function(){var e=this,t=this.instance,n=t.carousel;if(!this.ref&&n){var i=this.option("parentEl")||t.footer||t.container;i&&(n.options.Thumbs=xi({},this.options,{parentEl:i,classes:{container:"f-thumbs fancybox__thumbs"},Carousel:{Sync:{friction:t.option("Carousel.friction")},on:{click:function(e,t){t.stopPropagation()}}},on:{ready:function(t){var n=e,i=t.container;i&&e.hidden&&(e.refresh(),i.style.transition="none",e.hide(),i.offsetHeight,queueMicrotask((function(){i.style.transition="",n.show()})))}}}),n.attachPlugins({Thumbs:br}),this.ref=n.plugins.Thumbs,this.option("showOnStart")||(this.ref.state=mr.Hidden,this.hidden=!0))}}},{key:"onResize",value:function(){var e,t=null===(e=this.ref)||void 0===e?void 0:e.container;t&&(t.style.maxHeight="")}},{key:"onKeydown",value:function(e,t){var n=this.option("key");n&&n===t&&this.toggle()}},{key:"toggle",value:function(){var e=this.ref;e&&e.state!==mr.Disabled&&(e.state!==mr.Hidden?this.hidden?this.show():this.hide():e.build())}},{key:"show",value:function(){var e=this.ref,t=e&&e.state!==mr.Disabled&&e.container;t&&(this.refresh(),t.offsetHeight,t.removeAttribute("aria-hidden"),t.classList.remove("is-hidden"),this.hidden=!1)}},{key:"hide",value:function(){var e=this.ref,t=e&&e.container;t&&(this.refresh(),t.offsetHeight,t.classList.add("is-hidden"),t.setAttribute("aria-hidden","true")),this.hidden=!0}},{key:"refresh",value:function(){var e=this.ref;if(e&&e.state!==mr.Disabled){var t=e.container,n=(null==t?void 0:t.firstChild)||null;t&&n&&n.childNodes.length&&(t.style.maxHeight="".concat(n.getBoundingClientRect().height,"px"))}}},{key:"attach",value:function(){this.instance.state===$i.Init?this.instance.on("Carousel.init",this.onInit):this.onInit(),this.instance.on("resize",this.onResize),this.instance.on("keydown",this.onKeydown)}},{key:"detach",value:function(){var e;this.instance.off("Carousel.init",this.onInit),this.instance.off("resize",this.onResize),this.instance.off("keydown",this.onKeydown),null===(e=this.instance.carousel)||void 0===e||e.detachPlugins(["Thumbs"]),this.ref=null}}]),i}(Xi);Object.defineProperty(kr,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:wr});var xr,Er,Sr={panLeft:{icon:'<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',action:"zoomIn"},zoomOut:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"zoomOut"},toggle1to1:{icon:'<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',action:"toggleZoom"},toggleZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"toggleZoom"},iterateZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"iterateZoom"},rotateCCW:{icon:'<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',action:"rotateCCW"},rotateCW:{icon:'<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',action:"rotateCW"},flipX:{icon:'<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',action:"flipX"},flipY:{icon:'<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',action:"flipY"},fitX:{icon:'<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',action:"fitX"},fitY:{icon:'<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',action:"fitY"},reset:{icon:'<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',action:"reset"},toggleFS:{icon:'<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',action:"toggleFS"}};(Er=xr||(xr={}))[Er.Init=0]="Init",Er[Er.Ready=1]="Ready",Er[Er.Disabled=2]="Disabled";var Or={tabindex:"-1",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Tr=function(t){"use strict";e(ae)(i,t);var n=e(se)(i);function i(){var t;return e(s)(this,i),t=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(e(oe)(t),"state",{enumerable:!0,configurable:!0,writable:!0,value:xr.Init}),Object.defineProperty(e(oe)(t),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),e(ci)(t)}return e(p)(i,[{key:"onReady",value:function(t){var n;if(t.carousel){var i=this.option("display"),r=this.option("absolute"),o=this.option("enabled");if("auto"===o){var a=this.instance.carousel,s=0,l=!0,c=!1,u=void 0;if(a)try{for(var h,f=a.slides[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){var d=h.value;(d.panzoom||"image"===d.type)&&s++}}catch(e){c=!0,u=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw u}}s||(o=!1)}o||(i=void 0);var v=0,p={left:[],middle:[],right:[]},m=!0,g=!1,y=void 0,b=!0,w=!1,k=void 0;if(i)try{for(var x,E=["left","middle","right"][Symbol.iterator]();!(b=(x=E.next()).done);b=!0){var S=x.value;try{for(var O,T=i[S][Symbol.iterator]();!(m=(O=T.next()).done);m=!0){var A=O.value,C=this.createEl(A);C&&(null===(n=p[S])||void 0===n||n.push(C),v++)}}catch(e){g=!0,y=e}finally{try{m||null==T.return||T.return()}finally{if(g)throw y}}}}catch(e){w=!0,k=e}finally{try{b||null==E.return||E.return()}finally{if(w)throw k}}var P=null;if(v&&(P=this.createContainer()),P){var M=!0,L=!1,R=void 0;try{for(var _,z=Object.entries(p)[Symbol.iterator]();!(M=(_=z.next()).done);M=!0){var B=e(zt)(_.value,2),I=B[0],j=B[1],N=document.createElement("div");zi(N,"fancybox__toolbar__column is-"+I);var F=!0,D=!1,H=void 0;try{for(var U,q=j[Symbol.iterator]();!(F=(U=q.next()).done);F=!0){var W=U.value;N.appendChild(W)}}catch(e){D=!0,H=e}finally{try{F||null==q.return||q.return()}finally{if(D)throw H}}"auto"!==r||"middle"!==I||j.length||(r=!0),P.appendChild(N)}}catch(e){L=!0,R=e}finally{try{M||null==z.return||z.return()}finally{if(L)throw R}}!0===r&&zi(P,"is-absolute"),this.state=xr.Ready,this.onRefresh()}else this.state=xr.Disabled}}},{key:"onClick",value:function(e){var t,n,i=this.instance,r=i.getSlide(),o=null==r?void 0:r.panzoom,a=e.target,s=a&&Ri(a)?a.dataset:null;if(s){if(void 0!==s.fancyboxToggleThumbs)return e.preventDefault(),e.stopPropagation(),void(null===(t=i.plugins.Thumbs)||void 0===t||t.toggle());if(void 0!==s.fancyboxToggleFullscreen)return e.preventDefault(),e.stopPropagation(),void this.instance.toggleFullscreen();if(void 0!==s.fancyboxToggleSlideshow){e.preventDefault(),e.stopPropagation();var l=null===(n=i.carousel)||void 0===n?void 0:n.plugins.Autoplay,c=l.isActive;return o&&"mousemove"===o.panMode&&!c&&o.reset(),void(c?l.stop():l.start())}var u=s.panzoomAction,h=s.panzoomChange;if((h||u)&&(e.preventDefault(),e.stopPropagation()),h){var f={};try{f=JSON.parse(h)}catch(e){}o&&o.applyChange(f)}else u&&o&&o[u]&&o[u]()}}},{key:"onChange",value:function(){this.onRefresh()}},{key:"onRefresh",value:function(){if(!this.instance.isClosing()){var e=this.container;if(e){var t=this.instance.getSlide();if(t&&t.state===Qi.Ready){var n=t&&!t.error&&t.panzoom,i=!0,r=!1,o=void 0;try{for(var a,s=e.querySelectorAll("[data-panzoom-action]")[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n?(l.removeAttribute("disabled"),l.removeAttribute("tabindex")):(l.setAttribute("disabled",""),l.setAttribute("tabindex","-1"))}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}var c=n&&n.canZoomIn(),u=n&&n.canZoomOut(),h=!0,f=!1,d=void 0;try{for(var v,p=e.querySelectorAll('[data-panzoom-action="zoomIn"]')[Symbol.iterator]();!(h=(v=p.next()).done);h=!0){var m=v.value;c?(m.removeAttribute("disabled"),m.removeAttribute("tabindex")):(m.setAttribute("disabled",""),m.setAttribute("tabindex","-1"))}}catch(e){f=!0,d=e}finally{try{h||null==p.return||p.return()}finally{if(f)throw d}}var g=!0,y=!1,b=void 0;try{for(var w,k=e.querySelectorAll('[data-panzoom-action="zoomOut"]')[Symbol.iterator]();!(g=(w=k.next()).done);g=!0){var x=w.value;u?(x.removeAttribute("disabled"),x.removeAttribute("tabindex")):(x.setAttribute("disabled",""),x.setAttribute("tabindex","-1"))}}catch(e){y=!0,b=e}finally{try{g||null==k.return||k.return()}finally{if(y)throw b}}var E=!0,S=!1,O=void 0;try{for(var T,A=e.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')[Symbol.iterator]();!(E=(T=A.next()).done);E=!0){var C=T.value;u||c?(C.removeAttribute("disabled"),C.removeAttribute("tabindex")):(C.setAttribute("disabled",""),C.setAttribute("tabindex","-1"));var P=C.querySelector("g");P&&(P.style.display=c?"":"none")}}catch(e){S=!0,O=e}finally{try{E||null==A.return||A.return()}finally{if(S)throw O}}}}}}},{key:"onDone",value:function(e,t){var n,i=this;null===(n=t.panzoom)||void 0===n||n.on("afterTransform",(function(){i.instance.isCurrentSlide(t)&&i.onRefresh()})),this.instance.isCurrentSlide(t)&&this.onRefresh()}},{key:"createContainer",value:function(){var e=this.instance.container;if(!e)return null;var t=this.option("parentEl")||e,n=document.createElement("div");return zi(n,"fancybox__toolbar"),t.prepend(n),n.addEventListener("click",this.onClick,{passive:!1,capture:!0}),e&&zi(e,"has-toolbar"),this.container=n,n}},{key:"createEl",value:function(t){var n,i=this.instance.carousel;if(!i)return null;if("toggleFS"===t)return null;if("fullscreen"===t&&!this.instance.fsAPI)return null;var r=null,o=i.slides.length||0,a=0,s=0,l=!0,c=!1,u=void 0;try{for(var h,f=i.slides[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){var d=h.value;(d.panzoom||"image"===d.type)&&a++,("image"===d.type||d.downloadSrc)&&s++}}catch(e){c=!0,u=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw u}}if(o<2&&["infobar","prev","next"].includes(t))return r;if(void 0!==Sr[t]&&!a)return null;if("download"===t&&!s)return null;if("thumbs"===t){var v=this.instance.plugins.Thumbs;if(!v||!v.isEnabled)return null}if("slideshow"===t&&(!(null===(n=this.instance.carousel)||void 0===n?void 0:n.plugins.Autoplay)||o<2))return null;if(void 0!==Sr[t]){var p=Sr[t];(r=document.createElement("button")).setAttribute("title",this.instance.localize("{{".concat(t.toUpperCase(),"}}"))),zi(r,"f-button"),p.action&&(r.dataset.panzoomAction=p.action),p.change&&(r.dataset.panzoomChange=JSON.stringify(p.change)),r.appendChild(di(this.instance.localize(p.icon)))}else{var m=this,g=(this.option("items")||[])[t];g&&(r=di(this.instance.localize(g.tpl)),"function"==typeof g.click&&r.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),"function"==typeof g.click&&g.click.call(m,m,e)})))}var y=null==r?void 0:r.querySelector("svg"),b=!0,w=!1,k=void 0;if(y)try{for(var x,E=Object.entries(Or)[Symbol.iterator]();!(b=(x=E.next()).done);b=!0){var S=e(zt)(x.value,2),O=S[0],T=S[1];y.getAttribute(O)||y.setAttribute(O,String(T))}}catch(e){w=!0,k=e}finally{try{b||null==E.return||E.return()}finally{if(w)throw k}}return r}},{key:"removeContainer",value:function(){var e=this.container;e&&e.remove(),this.container=null,this.state=xr.Disabled;var t=this.instance.container;t&&_i(t,"has-toolbar")}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("Carousel.initSlides",e.onReady),t.on("done",e.onDone),t.on("reveal",e.onChange),t.on("Carousel.change",e.onChange),e.onReady(e.instance)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("Carousel.initSlides",e.onReady),t.off("done",e.onDone),t.off("reveal",e.onChange),t.off("Carousel.change",e.onChange),e.removeContainer()}}]),i}(Xi);Object.defineProperty(Tr,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{absolute:"auto",display:{left:["infobar"],middle:[],right:["iterateZoom","slideshow","fullscreen","thumbs","close"]},enabled:"auto",items:{infobar:{tpl:'<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'},prev:{tpl:'<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'},next:{tpl:'<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'},slideshow:{tpl:'<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},fullscreen:{tpl:'<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},thumbs:{tpl:'<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'},close:{tpl:'<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'}},parentEl:null}});var Ar={Hash:lr,Html:dr,Images:ur,Slideshow:pr,Thumbs:kr,Toolbar:Tr},Cr=function(){var e=window.getSelection();return e&&"Range"===e.type},Pr=null,Mr=null,Lr=new Map,Rr=0,_r=function(t){"use strict";e(ae)(i,t);var n=e(se)(i);function i(){var t,r,o,a,l,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e(s)(this,i),t=n.call(this,u),Object.defineProperty(e(oe)(t),"userSlides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e(oe)(t),"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e(oe)(t),"idle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e(oe)(t),"idleTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(t),"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(t),"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(oe)(t),"ignoreFocusChange",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e(oe)(t),"state",{enumerable:!0,configurable:!0,writable:!0,value:$i.Init}),Object.defineProperty(e(oe)(t),"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(oe)(t),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(t),"footer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(t),"caption",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(t),"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(t),"lastFocus",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(oe)(t),"prevMouseMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e(oe)(t),"fsAPI",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t.fsAPI=(o="",a="",l="",document.fullscreenEnabled?(o="requestFullscreen",a="exitFullscreen",l="fullscreenElement"):document.webkitFullscreenEnabled&&(o="webkitRequestFullscreen",a="webkitExitFullscreen",l="webkitFullscreenElement"),o&&(r={request:function(e){return"webkitRequestFullscreen"===o?e[o](Element.ALLOW_KEYBOARD_INPUT):e[o]()},exit:function(){return document[l]&&document[a]()},isFullscreen:function(){return document[l]}}),r),t.id=u.id||++Rr,Lr.set(t.id,e(oe)(t)),t.userSlides=c,t.userPlugins=h,queueMicrotask((function(){t.init()})),e(ci)(t)}return e(p)(i,[{key:"isIdle",get:function(){return this.idle}},{key:"isCompact",get:function(){return this.option("compact")}},{key:"init",value:function(){var e=this;if(this.state!==$i.Destroy){this.state=$i.Init,this.attachPlugins(Object.assign(Object.assign({},i.Plugins),this.userPlugins)),this.emit("init"),!0===this.option("hideScrollbar")&&function(){if(ir){var e=document.body;if(!e.classList.contains("hide-scrollbar")){var t=window.innerWidth-document.documentElement.getBoundingClientRect().width,n=e.currentStyle||window.getComputedStyle(e),i=parseFloat(n.marginRight);document.documentElement.style.setProperty("--fancybox-scrollbar-compensate","".concat(t,"px")),i&&e.style.setProperty("--fancybox-body-margin","".concat(i,"px")),e.classList.add("hide-scrollbar")}}}(),this.initLayout();var t=function(){var t=e;e.initCarousel(e.userSlides),e.state=$i.Ready,e.attachEvents(),e.emit("ready"),setTimeout((function(){t.container&&t.container.setAttribute("aria-hidden","false")}),16)};this.option("Fullscreen.autoStart")&&this.fsAPI&&!this.fsAPI.isFullscreen()?this.fsAPI.request(this.container).then((function(){return t()})).catch((function(){return t()})):t()}}},{key:"initLayout",value:function(){var e,t,n=this,i=this.option("parentEl")||document.body,r=di(this.localize(this.option("tpl.main")||""));r&&(r.setAttribute("id","fancybox-".concat(this.id)),r.setAttribute("aria-label",this.localize("{{MODAL}}")),r.classList.toggle("is-compact",this.isCompact),zi(r,this.option("mainClass")||""),this.container=r,this.footer=r.querySelector(".fancybox__footer"),i.appendChild(r),zi(document.documentElement,"with-fancybox"),Pr&&Mr||(Pr=document.createElement("span"),zi(Pr,"fancybox-focus-guard"),Pr.setAttribute("tabindex","0"),Pr.setAttribute("aria-hidden","true"),Pr.setAttribute("aria-label","Focus guard"),Mr=Pr.cloneNode(),null===(e=r.parentElement)||void 0===e||e.insertBefore(Pr,r),null===(t=r.parentElement)||void 0===t||t.append(Mr)),this.option("animated")&&(zi(r,"is-animated"),setTimeout((function(){n.isClosing()||_i(r,"is-animated")}),350)),this.emit("initLayout"))}},{key:"initCarousel",value:function(t){var n=this,i=this.container;if(i){var r=i.querySelector(".fancybox__carousel");if(r){var o=this.carousel=new Ji(r,xi({},{slides:t,transition:"fade",Panzoom:{lockAxis:this.option("dragToClose")?"xy":"x",infinite:!!this.option("dragToClose")&&"y"},Dots:!1,Navigation:{classes:{container:"fancybox__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"}},initialPage:this.option("startIndex"),l10n:this.option("l10n")},this.option("Carousel")||{}));o.on("*",(function(t,i){for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];n.emit.apply(n,["Carousel.".concat(i),t].concat(e(Bt)(o)))})),o.on(["ready","change"],(function(){var e,t=n.getSlide();t&&(null===(e=t.panzoom)||void 0===e||e.updateControls()),n.manageCaption(t)})),o.on("removeSlide",(function(e,t){t.closeBtnEl&&t.closeBtnEl.remove(),t.closeBtnEl=void 0,t.captionEl&&t.captionEl.remove(),t.captionEl=void 0,t.spinnerEl&&t.spinnerEl.remove(),t.spinnerEl=void 0,t.state=void 0})),o.on("Panzoom.touchStart",(function(){n.isCompact||n.endIdle()})),o.on("settle",(function(){n.idleTimer||n.isCompact||!n.option("idle")||n.setIdle(),n.option("autoFocus")&&n.checkFocus()})),this.option("dragToClose")&&(o.on("Panzoom.afterTransform",(function(e,t){var i=n.getSlide();if(!i||!hi(i.el)){var r=n.container;if(r){var o=Math.abs(t.current.f),a=o<1?"":Math.max(.5,Math.min(1,1-o/t.contentRect.fitHeight*1.5));r.style.setProperty("--fancybox-ts",a?"0s":""),r.style.setProperty("--fancybox-opacity",a+"")}}})),o.on("Panzoom.touchEnd",(function(e,t,i){var r,o=n.getSlide();if(!(o&&hi(o.el)||t.isMobile&&document.activeElement&&-1!==["TEXTAREA","INPUT"].indexOf(null===(r=document.activeElement)||void 0===r?void 0:r.nodeName))){var a=Math.abs(t.dragOffset.y);"y"===t.lockedAxis&&(a>=200||a>=50&&t.dragOffset.time<300)&&(i&&i.cancelable&&i.preventDefault(),n.close(i,"f-throwOut"+(t.current.f<0?"Up":"Down")))}}))),o.on(["change"],(function(e){var t,i=null===(t=n.getSlide())||void 0===t?void 0:t.triggerEl;if(i){var r=new CustomEvent("slideTo",{bubbles:!0,cancelable:!0,detail:e.page});i.dispatchEvent(r)}})),o.on(["refresh","change"],(function(e){var t=n.container;if(t){var i=!0,r=!1,o=void 0;try{for(var a,s=t.querySelectorAll("[data-fancybox-current-index]")[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){a.value.innerHTML=e.page+1}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}var l=!0,c=!1,u=void 0;try{for(var h,f=t.querySelectorAll("[data-fancybox-count]")[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){h.value.innerHTML=e.pages.length}}catch(e){c=!0,u=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw u}}if(!e.isInfinite){var d=!0,v=!1,p=void 0;try{for(var m,g=t.querySelectorAll("[data-fancybox-next]")[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var y=m.value;e.page<e.pages.length-1?(y.removeAttribute("disabled"),y.removeAttribute("tabindex")):(y.setAttribute("disabled",""),y.setAttribute("tabindex","-1"))}}catch(e){v=!0,p=e}finally{try{d||null==g.return||g.return()}finally{if(v)throw p}}var b=!0,w=!1,k=void 0;try{for(var x,E=t.querySelectorAll("[data-fancybox-prev]")[Symbol.iterator]();!(b=(x=E.next()).done);b=!0){var S=x.value;e.page>0?(S.removeAttribute("disabled"),S.removeAttribute("tabindex")):(S.setAttribute("disabled",""),S.setAttribute("tabindex","-1"))}}catch(e){w=!0,k=e}finally{try{b||null==E.return||E.return()}finally{if(w)throw k}}}var O=n.getSlide();if(O){var T=O.downloadSrc||"";T||"image"!==O.type||O.error||"string"!=typeof O.src||(T=O.src);var A=!0,C=!1,P=void 0;try{for(var M,L=t.querySelectorAll("[data-fancybox-download]")[Symbol.iterator]();!(A=(M=L.next()).done);A=!0){var R=M.value,_=O.downloadFilename;T?(R.removeAttribute("disabled"),R.removeAttribute("tabindex"),R.setAttribute("href",T),R.setAttribute("download",_||T),R.setAttribute("target","_blank")):(R.setAttribute("disabled",""),R.setAttribute("tabindex","-1"),R.removeAttribute("href"),R.removeAttribute("download"))}}catch(e){C=!0,P=e}finally{try{A||null==L.return||L.return()}finally{if(C)throw P}}}}})),this.emit("initCarousel")}}}},{key:"attachEvents",value:function(){var e=this.container;e&&(e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1,capture:!1}),document.addEventListener("keydown",this.onKeydown,{passive:!1,capture:!0}),document.addEventListener("visibilitychange",this.onVisibilityChange,!1),document.addEventListener("mousemove",this.onMousemove),this.option("trapFocus")&&document.addEventListener("focus",this.onFocus,!0),window.addEventListener("resize",this.onResize))}},{key:"detachEvents",value:function(){var e=this.container;e&&(document.removeEventListener("keydown",this.onKeydown,{passive:!1,capture:!0}),e.removeEventListener("wheel",this.onWheel,{passive:!1,capture:!1}),e.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),document.removeEventListener("mousemove",this.onMousemove),window.removeEventListener("resize",this.onResize),document.removeEventListener("visibilitychange",this.onVisibilityChange,!1),document.removeEventListener("focus",this.onFocus,!0))}},{key:"onClick",value:function(e){var t,n,i=this,r=this.container,o=this.isCompact;if(r&&!this.isClosing()){!o&&this.option("idle")&&this.resetIdle();var a=document.activeElement;if(!(Cr()&&a&&r.contains(a))){var s=e.composedPath()[0];if(s!==(null===(t=this.carousel)||void 0===t?void 0:t.container)){if(s.closest(".f-spinner")||s.closest("[data-fancybox-close]"))return e.preventDefault(),void this.close(e);if(s.closest("[data-fancybox-prev]"))return e.preventDefault(),void this.prev();if(s.closest("[data-fancybox-next]"))return e.preventDefault(),void this.next();if(o&&"image"===(null===(n=this.getSlide())||void 0===n?void 0:n.type))this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout((function(){i.toggleIdle(),i.clickTimer=null}),350);else if(this.emit("click",e),!e.defaultPrevented){var l=!1;if(s.closest(".fancybox__content")){if(a){if(a.closest("[contenteditable]"))return;s.matches(rr)||a.blur()}if(Cr())return;l=this.option("contentClick")}else s.closest(".fancybox__carousel")&&!s.matches(rr)&&(l=this.option("backdropClick"));"close"===l?(e.preventDefault(),this.close(e)):"next"===l?(e.preventDefault(),this.next()):"prev"===l&&(e.preventDefault(),this.prev())}}}}}},{key:"onWheel",value:function(e){var t=this.option("wheel",e),n="slide"===t,i=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),r=Math.max(-1,Math.min(1,i)),o=Date.now();this.pwt&&o-this.pwt<300?n&&e.preventDefault():(this.pwt=o,this.emit("wheel",e),e.defaultPrevented||("close"===t?(e.preventDefault(),this.close(e)):"slide"===t&&(e.preventDefault(),this[r>0?"prev":"next"]())))}},{key:"onKeydown",value:function(e){if(this.isTopmost()){this.isCompact||!this.option("idle")||this.isClosing()||this.resetIdle();var t=e.key,n=this.option("keyboard");if(n&&!e.ctrlKey&&!e.altKey&&!e.shiftKey){var i=e.composedPath()[0],r=document.activeElement&&document.activeElement.classList,o=r&&r.contains("f-button")||i.dataset.carouselPage||i.dataset.carouselIndex;if("Escape"===t||o||!Ri(i)||!i.isContentEditable&&-1===["TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(i.nodeName)){this.emit("keydown",t,e);var a=n[t];"function"==typeof this[a]&&(e.preventDefault(),this[a]())}}}}},{key:"onResize",value:function(){var e=this.container;if(e){var t=this.isCompact;e.classList.toggle("is-compact",t),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.emit("resize")}}},{key:"onFocus",value:function(e){this.isTopmost()&&this.checkFocus(e)}},{key:"onMousemove",value:function(e){this.prevMouseMoveEvent=e,!this.isCompact&&this.option("idle")&&this.resetIdle()}},{key:"onVisibilityChange",value:function(){"visible"===document.visibilityState?this.checkFocus():this.endIdle()}},{key:"manageCloseBtn",value:function(e){var t=this.optionFor(e,"closeButton")||!1;if("auto"===t){var n=this.plugins.Toolbar;if(n&&n.state===xr.Ready)return}if(t&&e.contentEl&&!e.closeBtnEl){var i=this.option("tpl.closeButton");if(i){var r=di(this.localize(i));e.closeBtnEl=e.contentEl.appendChild(r),e.el&&zi(e.el,"has-close-btn")}}}},{key:"manageCaption",value:function(e){var t,n,i=this,r="fancybox__caption",o="has-caption",a=this.container;if(a){var s=this.isCompact||this.option("commonCaption"),l=!s,c=!0,u=!1,h=void 0;if(this.caption&&this.stop(this.caption),l&&this.caption&&(this.caption.remove(),this.caption=null),s&&!this.caption)try{for(var f,d=((null===(t=this.carousel)||void 0===t?void 0:t.slides)||[])[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var v=f.value;v.captionEl&&(v.captionEl.remove(),v.captionEl=void 0,_i(v.el,o),null===(n=v.el)||void 0===n||n.removeAttribute("aria-labelledby"))}}catch(e){u=!0,h=e}finally{try{c||null==d.return||d.return()}finally{if(u)throw h}}if(e||(e=this.getSlide()),e&&(!s||this.isCurrentSlide(e))){var p=e.el,m=this.optionFor(e,"caption","");if("string"==typeof m&&m.length){var g=null;if(l){if(g=e.captionEl||null,p&&!g){var y="fancybox__caption_".concat(this.id,"_").concat(e.index);g=document.createElement("div"),zi(g,r),g.setAttribute("id",y),e.captionEl=p.appendChild(g),zi(p,o),p.setAttribute("aria-labelledby",y)}}else(g=this.caption)||(g=a.querySelector("."+r)),g||((g=document.createElement("div")).dataset.fancyboxCaption="",zi(g,r),g.innerHTML=m,(this.footer||a).prepend(g)),zi(a,o),this.caption=g;g&&(g.innerHTML=m)}else s&&this.caption&&this.animate(this.caption,"f-fadeOut",(function(){var e;null===(e=i.caption)||void 0===e||e.remove(),i.caption=null}))}}}},{key:"checkFocus",value:function(e){var t,n=document.activeElement||null;n&&(null===(t=this.container)||void 0===t?void 0:t.contains(n))||this.focus(e)}},{key:"focus",value:function(e){var t;if(!this.ignoreFocusChange){var n=document.activeElement||null,i=(null==e?void 0:e.target)||null,r=this.container,o=this.getSlide();if(r&&(null===(t=this.carousel)||void 0===t?void 0:t.viewport)&&(e||!n||!r.contains(n))){var a=o&&o.state===Qi.Ready?o.el:null;if(a&&!a.contains(n)&&r!==n){e&&e.cancelable&&e.preventDefault(),this.ignoreFocusChange=!0;var s=Array.from(r.querySelectorAll(rr)),l=[],c=null,u=!0,h=!1,f=void 0;try{for(var d,v=s[Symbol.iterator]();!(u=(d=v.next()).done);u=!0){var p=d.value,m=!p.offsetParent||p.closest('[aria-hidden="true"]'),g=a&&a.contains(p),y=!this.carousel.viewport.contains(p);p===r||(g||y)&&!m?(l.push(p),void 0!==p.dataset.origTabindex&&(p.tabIndex=parseFloat(p.dataset.origTabindex)),p.removeAttribute("data-orig-tabindex"),!p.hasAttribute("autoFocus")&&c||(c=p)):(p.dataset.origTabindex=void 0===p.dataset.origTabindex?p.getAttribute("tabindex")||void 0:p.dataset.origTabindex,p.tabIndex=-1)}}catch(e){h=!0,f=e}finally{try{u||null==v.return||v.return()}finally{if(h)throw f}}var b=null;e?(!i||l.indexOf(i)<0)&&(b=c||r,l.length&&(n===Mr?b=l[0]:this.lastFocus!==r&&n!==Pr||(b=l[l.length-1]))):b=o&&"image"===o.type?r:c||r,b&&or(b),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}}}}},{key:"next",value:function(){var e=this.carousel;e&&e.pages.length>1&&e.slideNext()}},{key:"prev",value:function(){var e=this.carousel;e&&e.pages.length>1&&e.slidePrev()}},{key:"jumpTo",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r;this.carousel&&(r=this.carousel).slideTo.apply(r,e(Bt)(n))}},{key:"isTopmost",value:function(){var e;return(null===(e=i.getInstance())||void 0===e?void 0:e.id)==this.id}},{key:"animate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;if(e&&t){this.stop(e);var i=function(r){r.target===e&&e.dataset.animationName&&(e.removeEventListener("animationend",i),delete e.dataset.animationName,n&&n(),_i(e,t))};e.dataset.animationName=t,e.addEventListener("animationend",i),zi(e,t)}else n&&n()}},{key:"stop",value:function(e){e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))}},{key:"setContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.isClosing()){var i=e.el;if(i){var r=null;if(Ri(t)?r=t:(r=di(t+""),Ri(r)||((r=document.createElement("div")).innerHTML=t+"")),["img","picture","iframe","video","audio"].includes(r.nodeName.toLowerCase())){var o=document.createElement("div");o.appendChild(r),r=o}Ri(r)&&e.filter&&!e.error&&(r=r.querySelector(e.filter)),r&&Ri(r)?(zi(r,"fancybox__content"),e.id&&r.setAttribute("id",e.id),"none"!==r.style.display&&"none"!==getComputedStyle(r).getPropertyValue("display")||(r.style.display=e.display||this.option("defaultDisplay")||"flex"),i.classList.add("has-".concat(e.error?"error":e.type||"unknown")),i.prepend(r),e.contentEl=r,n&&this.revealContent(e),this.manageCloseBtn(e),this.manageCaption(e)):this.setError(e,"{{ELEMENT_NOT_FOUND}}")}}}},{key:"revealContent",value:function(e,t){var n=this,i=e.el,r=e.contentEl;i&&r&&(this.emit("reveal",e),this.hideLoading(e),e.state=Qi.Opening,(t=this.isOpeningSlide(e)?void 0===t?this.optionFor(e,"showClass"):t:"f-fadeIn")?this.animate(r,t,(function(){n.done(e)})):this.done(e))}},{key:"done",value:function(e){var t=this;this.isClosing()||(e.state=Qi.Ready,this.emit("done",e),zi(e.el,"is-done"),this.isCurrentSlide(e)&&this.option("autoFocus")&&queueMicrotask((function(){t.option("autoFocus")&&(t.option("autoFocus")?t.focus():t.checkFocus())})),this.isOpeningSlide(e)&&!this.isCompact&&this.option("idle")&&this.setIdle())}},{key:"isCurrentSlide",value:function(e){var t=this.getSlide();return!(!e||!t)&&t.index===e.index}},{key:"isOpeningSlide",value:function(e){var t,n;return null===(null===(t=this.carousel)||void 0===t?void 0:t.prevPage)&&e.index===(null===(n=this.getSlide())||void 0===n?void 0:n.index)}},{key:"showLoading",value:function(e){var t=this;e.state=Qi.Loading;var n=e.el;n&&(zi(n,"is-loading"),this.emit("loading",e),e.spinnerEl||setTimeout((function(){if(!t.isClosing()&&!e.spinnerEl&&e.state===Qi.Loading){var i=di(Li);e.spinnerEl=i,n.prepend(i),t.animate(i,"f-fadeIn")}}),250))}},{key:"hideLoading",value:function(e){var t=e.el;if(t){var n=e.spinnerEl;this.isClosing()?null==n||n.remove():(_i(t,"is-loading"),n&&this.animate(n,"f-fadeOut",(function(){n.remove()})),e.state===Qi.Loading&&(this.emit("loaded",e),e.state=Qi.Ready))}}},{key:"setError",value:function(e,t){if(!this.isClosing()){this.emit("error"),e.error=t,this.hideLoading(e),this.clearContent(e);var n=document.createElement("div");n.classList.add("fancybox-error"),n.innerHTML=this.localize(t||"<p>{{ERROR}}</p>"),this.setContent(e,n)}}},{key:"clearContent",value:function(e){var t;null===(t=this.carousel)||void 0===t||t.emit("removeSlide",e),e.contentEl&&(e.contentEl.remove(),e.contentEl=void 0),e.closeBtnEl&&(e.closeBtnEl.remove(),e.closeBtnEl=void 0);var n=e.el;n&&(_i(n,"is-loading"),_i(n,"has-error"),_i(n,"has-unknown"),_i(n,"has-".concat(e.type||"unknown")))}},{key:"getSlide",value:function(){var e,t=this.carousel;return(null===(e=null==t?void 0:t.pages[null==t?void 0:t.page])||void 0===e?void 0:e.slides[0])||void 0}},{key:"close",value:function(e,t){var n=this;if(!this.isClosing()){var i=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(this.emit("shouldClose",i,e),!i.defaultPrevented){e&&e.cancelable&&(e.preventDefault(),e.stopPropagation());var r=this.fsAPI,o=function(){n.proceedClose(e,t)};r&&r.isFullscreen()?Promise.resolve(r.exit()).then((function(){return o()})):o()}}}},{key:"clearIdle",value:function(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}},{key:"setIdle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=function(){t.clearIdle(),t.idle=!0,zi(t.container,"is-idle"),t.emit("setIdle")};if(this.clearIdle(),!this.isClosing())if(e)n();else{var i=this.option("idle");i&&(this.idleTimer=setTimeout(n,i))}}},{key:"endIdle",value:function(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,_i(this.container,"is-idle"),this.emit("endIdle"))}},{key:"resetIdle",value:function(){this.endIdle(),this.setIdle()}},{key:"toggleIdle",value:function(){this.idle?this.endIdle():this.setIdle(!0)}},{key:"toggleFullscreen",value:function(){var e=this.fsAPI;e&&(e.isFullscreen()?e.exit():this.container&&e.request(this.container))}},{key:"isClosing",value:function(){return[$i.Closing,$i.CustomClosing,$i.Destroy].includes(this.state)}},{key:"proceedClose",value:function(e,t){var n,i=this;this.state=$i.Closing,this.clearIdle(),this.detachEvents();var r=this.container,o=this.carousel,a=this.getSlide(),s=a&&this.option("placeFocusBack")?a.triggerEl||this.option("trigger"):null;if(s&&(nr(s)?or(s):s.focus()),r&&(zi(r,"is-closing"),r.setAttribute("aria-hidden","true"),this.option("animated")&&zi(r,"is-animated"),r.style.pointerEvents="none"),o){o.clearTransitions(),null===(n=o.panzoom)||void 0===n||n.destroy();var l=!0,c=!1,u=void 0;try{for(var h,f=o.slides[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){var d=h.value;d.state=Qi.Closing,this.hideLoading(d);var v=d.contentEl;v&&this.stop(v);var p=null==d?void 0:d.panzoom;p&&(p.stop(),p.detachEvents(),p.detachObserver()),this.isCurrentSlide(d)||o.emit("removeSlide",d)}}catch(e){c=!0,u=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw u}}}this.emit("close",e),this.state!==$i.CustomClosing?(void 0===t&&a&&(t=this.optionFor(a,"hideClass")),t&&a?(this.animate(a.contentEl,t,(function(){o&&o.emit("removeSlide",a)})),setTimeout((function(){i.destroy()}),500)):this.destroy()):setTimeout((function(){i.destroy()}),500)}},{key:"destroy",value:function(){var e;if(this.state!==$i.Destroy){this.state=$i.Destroy,null===(e=this.carousel)||void 0===e||e.destroy();var t=this.container;t&&t.remove(),Lr.delete(this.id);var n=i.getInstance();n?n.focus():(Pr&&(Pr.remove(),Pr=null),Mr&&(Mr.remove(),Mr=null),_i(document.documentElement,"with-fancybox"),function(){if(ir){var e=document,t=e.body;t.classList.remove("hide-scrollbar"),t.style.setProperty("--fancybox-body-margin",""),e.documentElement.style.setProperty("--fancybox-scrollbar-compensate","")}}(),this.emit("destroy"))}}}],[{key:"bind",value:function(e,t,n){if(ir){var r,o="",a={};if(void 0===e?r=document.body:"string"==typeof e?(r=document.body,o=e,"object"==typeof t&&(a=t||{})):(r=e,"string"==typeof t&&(o=t),"object"==typeof n&&(a=n||{})),r&&Ri(r)){o=o||"[data-fancybox]";var s=i.openers.get(r)||new Map;s.set(o,a),i.openers.set(r,s),1===s.size&&r.addEventListener("click",i.fromEvent)}}}},{key:"unbind",value:function(e,t){var n,r="";if("string"==typeof e?(n=document.body,r=e):(n=e,"string"==typeof t&&(r=t)),n){var o=i.openers.get(n);o&&r&&o.delete(r),r&&o||(i.openers.delete(n),n.removeEventListener("click",i.fromEvent))}}},{key:"destroy",value:function(){for(var e;e=i.getInstance();)e.destroy();var t=!0,n=!1,r=void 0;try{for(var o,a=i.openers.keys()[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){o.value.removeEventListener("click",i.fromEvent)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}i.openers=new Map}},{key:"fromEvent",value:function(t){if(!t.defaultPrevented&&!(t.button&&0!==t.button||t.ctrlKey||t.metaKey||t.shiftKey)){var n,r,o,a,s=t.composedPath()[0],l=s.closest("[data-fancybox-trigger]");if(l){var c=l.dataset.fancyboxTrigger||"",u=document.querySelectorAll('[data-fancybox="'.concat(c,'"]')),h=parseInt(l.dataset.fancyboxIndex||"",10)||0;s=u[h]||s}if(s&&s instanceof Element)if(e(Bt)(i.openers).reverse().find((function(t){var i=e(zt)(t,2),l=i[0],c=i[1];return!(!l.contains(s)||!e(Bt)(c).reverse().find((function(t){var i=e(zt)(t,2),c=i[0],u=i[1],h=s.closest(c);return!!h&&(n=l,r=c,o=h,a=u,!0)})))})),n&&r&&o){a=a||{},t.preventDefault(),s=o;var f=[],d=xi({},ar,a);d.event=t,d.trigger=s,d.delegate=l;var v=d.groupAll,p=d.groupAttr,m=p&&s?s.getAttribute("".concat(p)):"";if((!s||m||v)&&(f=[].slice.call(n.querySelectorAll(r))),s&&!v&&(f=m?f.filter((function(e){return e.getAttribute("".concat(p))===m})):[s]),f.length){var g=i.getInstance();return g&&g.options.trigger&&f.indexOf(g.options.trigger)>-1?void 0:(s&&(d.startIndex=f.indexOf(s)),i.fromNodes(f,d))}}}}},{key:"fromSelector",value:function(e,t){var n=null,r="";if("string"==typeof e?(n=document.body,r=e):e instanceof HTMLElement&&"string"==typeof t&&(n=e,r=t),!n||!r)return!1;var o=i.openers.get(n);if(!o)return!1;var a=o.get(r);return!!a&&i.fromNodes(Array.from(n.querySelectorAll(r)),a)}},{key:"fromNodes",value:function(e,t){t=xi({},ar,t||{});var n=[],r=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=c.dataset||{},h=u.src||c.getAttribute("href")||c.getAttribute("currentSrc")||c.getAttribute("src")||void 0,f=void 0,d=t.delegate,v=void 0;d&&n.length===t.startIndex&&(f=d instanceof HTMLImageElement?d:d.querySelector("img:not([aria-hidden])")),f||(f=c instanceof HTMLImageElement?c:c.querySelector("img:not([aria-hidden])")),f&&(!(v=f.currentSrc||f.src||void 0)&&f.dataset&&(v=f.dataset.lazySrc||f.dataset.src||void 0));var p={src:h,triggerEl:c,thumbEl:f,thumbElSrc:v,thumbSrc:v};for(var m in u)"fancybox"!==m&&(p[m]=u[m]+"");n.push(p)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return new i(n,t)}},{key:"getInstance",value:function(e){return e?Lr.get(e):Array.from(Lr.values()).reverse().find((function(e){return!e.isClosing()&&e}))||null}},{key:"getSlide",value:function(){var e;return(null===(e=i.getInstance())||void 0===e?void 0:e.getSlide())||null}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new i(e,t)}},{key:"next",value:function(){var e=i.getInstance();e&&e.next()}},{key:"prev",value:function(){var e=i.getInstance();e&&e.prev()}},{key:"close",value:function(){for(var t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];var s=!0,l=!1,c=void 0;if(n)try{for(var u,h=Lr.values()[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var f=u.value;(t=f).close.apply(t,e(Bt)(o))}}catch(e){l=!0,c=e}finally{try{s||null==h.return||h.return()}finally{if(l)throw c}}else{var d,v=i.getInstance();v&&(d=v).close.apply(d,e(Bt)(o))}}}]),i}(Ai);Object.defineProperty(_r,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.16"}),Object.defineProperty(_r,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:ar}),Object.defineProperty(_r,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:Ar}),Object.defineProperty(_r,"openers",{enumerable:!0,configurable:!0,writable:!0,value:new Map});var zr=r("6JpON"),Br=new(0,oi.useFirebase),Ir={on:{ready:function(){var t,n,i,r;document.querySelector(".pop-up__btn-close").addEventListener("click",(function(e){"use"!==e.target.localName&&"svg"!==e.target.localName||_r.close()})),(t=Fr()).btnToggleAddEl.addEventListener("click",(function(n){if(n.preventDefault(),localStorage.getItem("register")&&localStorage.getItem("shopping-list"))return Br.writeBookArrayToDB(ii),t.btnToggleAddEl.classList.add("visually-hidden"),t.btnToggleRemoveEl.classList.remove("visually-hidden"),void t.textToggleRemoveEl.classList.remove("visually-hidden");e(zr).Notify.info(" You may be registered to use this option",jr)})),n=document.querySelector(".pop-up__btn-add"),i=document.querySelector(".pop-up__btn-remove"),r=document.querySelector(".pop-up__text-info"),i.addEventListener("click",(function(e){e.preventDefault(),Br.selectBookFromArray(ii._id),n.classList.remove("visually-hidden"),i.classList.add("visually-hidden"),r.classList.add("visually-hidden")}))},close:function(){setTimeout(Hr,500)}},autoFocus:!1},jr={fontFamily:"DMSans",zindex:10001,clickToClose:!0,position:"center-top"},Nr=new xn;function Fr(){return{btnToggleAddEl:document.querySelector(".pop-up__btn-add"),btnToggleRemoveEl:document.querySelector(".pop-up__btn-remove"),textToggleRemoveEl:document.querySelector(".pop-up__text-info")}}function Dr(e){if(e.preventDefault(),"book-card__image"===e.target.className||"info-item__title"===e.target.className||"info-item__author"===e.target.className||"book-card__notification"===e.target.className){var t=e.target.parentElement.parentNode.children[0].children[2].innerText;Nr.id=t,Nr.getBookInfo().then((function(e){var t=e.data,n=ri(t);document.body.insertAdjacentHTML("beforeend",n),_r.show([{src:"#modal",type:"inline"}],Ir);var i=Fr();if(localStorage.getItem("register")&&localStorage.getItem("shopping-list")){var r=function(e){Fr();return!!JSON.parse(localStorage.getItem("shopping-list")).some((function(t){return t.title===e}))}(t.title);r?(console.log(!0),i.btnToggleAddEl.classList.add("visually-hidden"),i.btnToggleRemoveEl.classList.remove("visually-hidden"),i.textToggleRemoveEl.classList.remove("visually-hidden")):r||(i.btnToggleAddEl.classList.remove("visually-hidden"),i.btnToggleRemoveEl.classList.add("visually-hidden"),i.textToggleRemoveEl.classList.add("visually-hidden"))}document.querySelector(".f-button.is-close-btn"),document.querySelector(".pop-up__btn-close");var o=document.querySelector(".book__description");""===o.textContent.trim()&&(o.textContent="There is currently no description available for this book")}))}}function Hr(){var e=document.querySelector("#modal");e.parentElement.removeChild(e)}document.querySelectorAll(".gallery_container").forEach((function(e){return e.addEventListener("click",Dr)})),r("kvC6y"),r("lo6zn")}();
//# sourceMappingURL=index.c18988e6.js.map
